import{D as e,J as t,r as n,K as a,L as l,U as o,c as i,A as r,w as s,y as u,u as d,o as c,b as p,a as h,h as f,t as v,f as m,F as g,d as b,g as y,j as w,V as x}from"./index-B7VcSS8y.js";import{I as _}from"./IntegramBreadcrumb-mb_J6t4E.js";import{u as S}from"./useIntegramSession-iTmG0qWo.js";import{i as D}from"./integramApiClient-BsYdo77J.js";import{u as E}from"./useTimer-C00BUJpA.js";import{_ as C}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-CcrxTH1M.js";import"./unifiedAuthService-6fZILgG8.js";function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){I(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},N.apply(this,arguments)}function A(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var M=A(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),P=A(/Edge/i),V=A(/firefox/i),R=A(/safari/i)&&!A(/chrome/i)&&!A(/android/i),X=A(/iP(ad|od|hone)/i),j=A(/chrome/i)&&A(/android/i),Y={capture:!1,passive:!1};function F(e,t,n){e.addEventListener(t,n,!M&&Y)}function B(e,t,n){e.removeEventListener(t,n,!M&&Y)}function L(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function H(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function z(e,t,n,a){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&L(e,t):L(e,t))||a&&e===n)return e;if(e===n)break}while(e=H(e))}return null}var U,W=/\s+/g;function $(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var a=(" "+e.className+" ").replace(W," ").replace(" "+t+" "," ");e.className=(a+(n?" "+t:"")).replace(W," ")}}function G(e,t,n){var a=e&&e.style;if(a){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in a||-1!==t.indexOf("webkit")||(t="-webkit-"+t),a[t]=n+("string"==typeof n?"":"px")}}function J(e,t){var n="";if("string"==typeof e)n=e;else do{var a=G(e,"transform");a&&"none"!==a&&(n=a+" "+n)}while(!t&&(e=e.parentNode));var l=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return l&&new l(n)}function K(e,t,n){if(e){var a=e.getElementsByTagName(t),l=0,o=a.length;if(n)for(;l<o;l++)n(a[l],l);return a}return[]}function q(){return document.scrollingElement||document.documentElement}function Q(e,t,n,a,l){if(e.getBoundingClientRect||e===window){var o,i,r,s,u,d,c;if(e!==window&&e.parentNode&&e!==q()?(i=(o=e.getBoundingClientRect()).top,r=o.left,s=o.bottom,u=o.right,d=o.height,c=o.width):(i=0,r=0,s=window.innerHeight,u=window.innerWidth,d=window.innerHeight,c=window.innerWidth),(t||n)&&e!==window&&(l=l||e.parentNode,!M))do{if(l&&l.getBoundingClientRect&&("none"!==G(l,"transform")||n&&"static"!==G(l,"position"))){var p=l.getBoundingClientRect();i-=p.top+parseInt(G(l,"border-top-width")),r-=p.left+parseInt(G(l,"border-left-width")),s=i+o.height,u=r+o.width;break}}while(l=l.parentNode);if(a&&e!==window){var h=J(l||e),f=h&&h.a,v=h&&h.d;h&&(s=(i/=v)+(d/=v),u=(r/=f)+(c/=f))}return{top:i,left:r,bottom:s,right:u,width:c,height:d}}}function Z(e,t,n){for(var a=le(e,!0),l=Q(e)[t];a;){if(!(l>=Q(a)[n]))return a;if(a===q())break;a=le(a,!1)}return!1}function ee(e,t,n,a){for(var l=0,o=0,i=e.children;o<i.length;){if("none"!==i[o].style.display&&i[o]!==rt.ghost&&(a||i[o]!==rt.dragged)&&z(i[o],n.draggable,e,!1)){if(l===t)return i[o];l++}o++}return null}function te(e,t){for(var n=e.lastElementChild;n&&(n===rt.ghost||"none"===G(n,"display")||t&&!L(n,t));)n=n.previousElementSibling;return n||null}function ne(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===rt.clone||t&&!L(e,t)||n++;return n}function ae(e){var t=0,n=0,a=q();if(e)do{var l=J(e),o=l.a,i=l.d;t+=e.scrollLeft*o,n+=e.scrollTop*i}while(e!==a&&(e=e.parentNode));return[t,n]}function le(e,t){if(!e||!e.getBoundingClientRect)return q();var n=e,a=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var l=G(n);if(n.clientWidth<n.scrollWidth&&("auto"==l.overflowX||"scroll"==l.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==l.overflowY||"scroll"==l.overflowY)){if(!n.getBoundingClientRect||n===document.body)return q();if(a||t)return n;a=!0}}}while(n=n.parentNode);return q()}function oe(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function ie(e,t){return function(){if(!U){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),U=setTimeout(function(){U=void 0},t)}}}function re(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function se(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function ue(e,t,n){var a={};return Array.from(e.children).forEach(function(l){var o,i,r,s;if(z(l,t.draggable,e,!1)&&!l.animated&&l!==n){var u=Q(l);a.left=Math.min(null!==(o=a.left)&&void 0!==o?o:1/0,u.left),a.top=Math.min(null!==(i=a.top)&&void 0!==i?i:1/0,u.top),a.right=Math.max(null!==(r=a.right)&&void 0!==r?r:-1/0,u.right),a.bottom=Math.max(null!==(s=a.bottom)&&void 0!==s?s:-1/0,u.bottom)}}),a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var de="Sortable"+(new Date).getTime();var ce=[],pe={initializeByDefault:!0},he={mount:function(e){for(var t in pe)pe.hasOwnProperty(t)&&!(t in e)&&(e[t]=pe[t]);ce.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ce.push(e)},pluginEvent:function(e,t,n){var a=this;this.eventCanceled=!1,n.cancel=function(){a.eventCanceled=!0};var l=e+"Global";ce.forEach(function(a){t[a.pluginName]&&(t[a.pluginName][l]&&t[a.pluginName][l](k({sortable:t},n)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](k({sortable:t},n)))})},initializePlugins:function(e,t,n,a){for(var l in ce.forEach(function(a){var l=a.pluginName;if(e.options[l]||a.initializeByDefault){var o=new a(e,t,e.options);o.sortable=e,o.options=e.options,e[l]=o,N(n,o.defaults)}}),e.options)if(e.options.hasOwnProperty(l)){var o=this.modifyOption(e,l,e.options[l]);void 0!==o&&(e.options[l]=o)}},getEventProperties:function(e,t){var n={};return ce.forEach(function(a){"function"==typeof a.eventProperties&&N(n,a.eventProperties.call(t[a.pluginName],e))}),n},modifyOption:function(e,t,n){var a;return ce.forEach(function(l){e[l.pluginName]&&l.optionListeners&&"function"==typeof l.optionListeners[t]&&(a=l.optionListeners[t].call(e[l.pluginName],n))}),a}},fe=["evt"],ve=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.evt,l=function(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(n,fe);he.pluginEvent.bind(rt)(e,t,k({dragEl:ge,parentEl:be,ghostEl:ye,rootEl:we,nextEl:xe,lastDownEl:_e,cloneEl:Se,cloneHidden:De,dragStarted:Xe,putSortable:Ie,activeSortable:rt.active,originalEvent:a,oldIndex:Ee,oldDraggableIndex:Te,newIndex:Ce,newDraggableIndex:ke,hideGhostForTarget:at,unhideGhostForTarget:lt,cloneNowHidden:function(){De=!0},cloneNowShown:function(){De=!1},dispatchSortableEvent:function(e){me({sortable:t,name:e,originalEvent:a})}},l))};function me(e){!function(e){var t=e.sortable,n=e.rootEl,a=e.name,l=e.targetEl,o=e.cloneEl,i=e.toEl,r=e.fromEl,s=e.oldIndex,u=e.newIndex,d=e.oldDraggableIndex,c=e.newDraggableIndex,p=e.originalEvent,h=e.putSortable,f=e.extraEventProperties;if(t=t||n&&n[de]){var v,m=t.options,g="on"+a.charAt(0).toUpperCase()+a.substr(1);!window.CustomEvent||M||P?(v=document.createEvent("Event")).initEvent(a,!0,!0):v=new CustomEvent(a,{bubbles:!0,cancelable:!0}),v.to=i||n,v.from=r||n,v.item=l||n,v.clone=o,v.oldIndex=s,v.newIndex=u,v.oldDraggableIndex=d,v.newDraggableIndex=c,v.originalEvent=p,v.pullMode=h?h.lastPutMode:void 0;var b=k(k({},f),he.getEventProperties(a,t));for(var y in b)v[y]=b[y];n&&n.dispatchEvent(v),m[g]&&m[g].call(t,v)}}(k({putSortable:Ie,cloneEl:Se,targetEl:ge,rootEl:we,oldIndex:Ee,oldDraggableIndex:Te,newIndex:Ce,newDraggableIndex:ke},e))}var ge,be,ye,we,xe,_e,Se,De,Ee,Ce,Te,ke,Oe,Ie,Ne,Ae,Me,Pe,Ve,Re,Xe,je,Ye,Fe,Be,Le=!1,He=!1,ze=[],Ue=!1,We=!1,$e=[],Ge=!1,Je=[],Ke="undefined"!=typeof document,qe=X,Qe=P||M?"cssFloat":"float",Ze=Ke&&!j&&!X&&"draggable"in document.createElement("div"),et=function(){if(Ke){if(M)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),tt=function(e,t){var n=G(e),a=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),l=ee(e,0,t),o=ee(e,1,t),i=l&&G(l),r=o&&G(o),s=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+Q(l).width,u=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+Q(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&i.float&&"none"!==i.float){var d="left"===i.float?"left":"right";return!o||"both"!==r.clear&&r.clear!==d?"horizontal":"vertical"}return l&&("block"===i.display||"flex"===i.display||"table"===i.display||"grid"===i.display||s>=a&&"none"===n[Qe]||o&&"none"===n[Qe]&&s+u>a)?"vertical":"horizontal"},nt=function(e){function t(e,n){return function(a,l,o,i){var r=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(null==e&&(n||r))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(a,l,o,i),n)(a,l,o,i);var s=(n?a:l).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},a=e.group;a&&"object"==O(a)||(a={name:a}),n.name=a.name,n.checkPull=t(a.pull,!0),n.checkPut=t(a.put),n.revertClone=a.revertClone,e.group=n},at=function(){!et&&ye&&G(ye,"display","none")},lt=function(){!et&&ye&&G(ye,"display","")};Ke&&!j&&document.addEventListener("click",function(e){if(He)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),He=!1,!1},!0);var ot=function(e){if(ge){e=e.touches?e.touches[0]:e;var t=(l=e.clientX,o=e.clientY,ze.some(function(e){var t=e[de].options.emptyInsertThreshold;if(t&&!te(e)){var n=Q(e),a=l>=n.left-t&&l<=n.right+t,r=o>=n.top-t&&o<=n.bottom+t;return a&&r?i=e:void 0}}),i);if(t){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[de]._onDragOver(n)}}var l,o,i},it=function(e){ge&&ge.parentNode[de]._isOutsideThisEl(e.target)};function rt(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=N({},t),e[de]=this;var n,a,l={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return tt(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==rt.supportPointer&&"PointerEvent"in window&&(!R||X),emptyInsertThreshold:5};for(var o in he.initializePlugins(this,e,l),l)!(o in t)&&(t[o]=l[o]);for(var i in nt(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Ze,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?F(e,"pointerdown",this._onTapStart):(F(e,"mousedown",this._onTapStart),F(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(F(e,"dragover",this),F(e,"dragenter",this)),ze.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),N(this,(a=[],{captureAnimationState:function(){a=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(e){if("none"!==G(e,"display")&&e!==rt.ghost){a.push({target:e,rect:Q(e)});var t=k({},a[a.length-1].rect);if(e.thisAnimationDuration){var n=J(e,!0);n&&(t.top-=n.f,t.left-=n.e)}e.fromRect=t}})},addAnimationState:function(e){a.push(e)},removeAnimationState:function(e){a.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var a in t)if(t.hasOwnProperty(a)&&t[a]===e[n][a])return Number(n);return-1}(a,{target:e}),1)},animateAll:function(e){var t=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof e&&e());var l=!1,o=0;a.forEach(function(e){var n=0,a=e.target,i=a.fromRect,r=Q(a),s=a.prevFromRect,u=a.prevToRect,d=e.rect,c=J(a,!0);c&&(r.top-=c.f,r.left-=c.e),a.toRect=r,a.thisAnimationDuration&&oe(s,r)&&!oe(i,r)&&(d.top-r.top)/(d.left-r.left)===(i.top-r.top)/(i.left-r.left)&&(n=function(e,t,n,a){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*a.animation}(d,s,u,t.options)),oe(r,i)||(a.prevFromRect=i,a.prevToRect=r,n||(n=t.options.animation),t.animate(a,d,r,n)),n&&(l=!0,o=Math.max(o,n),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},n),a.thisAnimationDuration=n)}),clearTimeout(n),l?n=setTimeout(function(){"function"==typeof e&&e()},o):"function"==typeof e&&e(),a=[]},animate:function(e,t,n,a){if(a){G(e,"transition",""),G(e,"transform","");var l=J(this.el),o=l&&l.a,i=l&&l.d,r=(t.left-n.left)/(o||1),s=(t.top-n.top)/(i||1);e.animatingX=!!r,e.animatingY=!!s,G(e,"transform","translate3d("+r+"px,"+s+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),G(e,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),G(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){G(e,"transition",""),G(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},a)}}}))}function st(e,t,n,a,l,o,i,r){var s,u,d=e[de],c=d.options.onMove;return!window.CustomEvent||M||P?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=a,s.related=l||t,s.relatedRect=o||Q(t),s.willInsertAfter=r,s.originalEvent=i,e.dispatchEvent(s),c&&(u=c.call(d,s,i)),u}function ut(e){e.draggable=!1}function dt(){Ge=!1}function ct(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,a=0;n--;)a+=t.charCodeAt(n);return a.toString(36)}function pt(e){return setTimeout(e,0)}function ht(e){return clearTimeout(e)}rt.prototype={constructor:rt,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(je=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,ge):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,a=this.options,l=a.preventOnFilter,o=e.type,i=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,r=(i||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||r,u=a.filter;if(function(e){Je.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var a=t[n];a.checked&&Je.push(a)}}(n),!ge&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||a.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!R||!r||"SELECT"!==r.tagName.toUpperCase())&&!((r=z(r,a.draggable,n,!1))&&r.animated||_e===r)){if(Ee=ne(r),Te=ne(r,a.draggable),"function"==typeof u){if(u.call(this,e,r,this))return me({sortable:t,rootEl:s,name:"filter",targetEl:r,toEl:n,fromEl:n}),ve("filter",t,{evt:e}),void(l&&e.preventDefault())}else if(u&&(u=u.split(",").some(function(a){if(a=z(s,a.trim(),n,!1))return me({sortable:t,rootEl:a,name:"filter",targetEl:r,fromEl:n,toEl:n}),ve("filter",t,{evt:e}),!0})))return void(l&&e.preventDefault());a.handle&&!z(s,a.handle,n,!1)||this._prepareDragStart(e,i,r)}}},_prepareDragStart:function(e,t,n){var a,l=this,o=l.el,i=l.options,r=o.ownerDocument;if(n&&!ge&&n.parentNode===o){var s=Q(n);if(we=o,be=(ge=n).parentNode,xe=ge.nextSibling,_e=n,Oe=i.group,rt.dragged=ge,Ne={target:ge,clientX:(t||e).clientX,clientY:(t||e).clientY},Ve=Ne.clientX-s.left,Re=Ne.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ge.style["will-change"]="all",a=function(){ve("delayEnded",l,{evt:e}),rt.eventCanceled?l._onDrop():(l._disableDelayedDragEvents(),!V&&l.nativeDraggable&&(ge.draggable=!0),l._triggerDragStart(e,t),me({sortable:l,name:"choose",originalEvent:e}),$(ge,i.chosenClass,!0))},i.ignore.split(",").forEach(function(e){K(ge,e.trim(),ut)}),F(r,"dragover",ot),F(r,"mousemove",ot),F(r,"touchmove",ot),i.supportPointer?(F(r,"pointerup",l._onDrop),!this.nativeDraggable&&F(r,"pointercancel",l._onDrop)):(F(r,"mouseup",l._onDrop),F(r,"touchend",l._onDrop),F(r,"touchcancel",l._onDrop)),V&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ge.draggable=!0),ve("delayStart",this,{evt:e}),!i.delay||i.delayOnTouchOnly&&!t||this.nativeDraggable&&(P||M))a();else{if(rt.eventCanceled)return void this._onDrop();i.supportPointer?(F(r,"pointerup",l._disableDelayedDrag),F(r,"pointercancel",l._disableDelayedDrag)):(F(r,"mouseup",l._disableDelayedDrag),F(r,"touchend",l._disableDelayedDrag),F(r,"touchcancel",l._disableDelayedDrag)),F(r,"mousemove",l._delayedDragTouchMoveHandler),F(r,"touchmove",l._delayedDragTouchMoveHandler),i.supportPointer&&F(r,"pointermove",l._delayedDragTouchMoveHandler),l._dragStartTimer=setTimeout(a,i.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ge&&ut(ge),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;B(e,"mouseup",this._disableDelayedDrag),B(e,"touchend",this._disableDelayedDrag),B(e,"touchcancel",this._disableDelayedDrag),B(e,"pointerup",this._disableDelayedDrag),B(e,"pointercancel",this._disableDelayedDrag),B(e,"mousemove",this._delayedDragTouchMoveHandler),B(e,"touchmove",this._delayedDragTouchMoveHandler),B(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?F(document,"pointermove",this._onTouchMove):F(document,t?"touchmove":"mousemove",this._onTouchMove):(F(ge,"dragend",this),F(we,"dragstart",this._onDragStart));try{document.selection?pt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(Le=!1,we&&ge){ve("dragStarted",this,{evt:t}),this.nativeDraggable&&F(document,"dragover",it);var n=this.options;!e&&$(ge,n.dragClass,!1),$(ge,n.ghostClass,!0),rt.active=this,e&&this._appendGhost(),me({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Ae){this._lastX=Ae.clientX,this._lastY=Ae.clientY,at();for(var e=document.elementFromPoint(Ae.clientX,Ae.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ae.clientX,Ae.clientY))!==t;)t=e;if(ge.parentNode[de]._isOutsideThisEl(e),t)do{if(t[de]&&t[de]._onDragOver({clientX:Ae.clientX,clientY:Ae.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=H(t));lt()}},_onTouchMove:function(e){if(Ne){var t=this.options,n=t.fallbackTolerance,a=t.fallbackOffset,l=e.touches?e.touches[0]:e,o=ye&&J(ye,!0),i=ye&&o&&o.a,r=ye&&o&&o.d,s=qe&&Be&&ae(Be),u=(l.clientX-Ne.clientX+a.x)/(i||1)+(s?s[0]-$e[0]:0)/(i||1),d=(l.clientY-Ne.clientY+a.y)/(r||1)+(s?s[1]-$e[1]:0)/(r||1);if(!rt.active&&!Le){if(n&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(ye){o?(o.e+=u-(Me||0),o.f+=d-(Pe||0)):o={a:1,b:0,c:0,d:1,e:u,f:d};var c="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");G(ye,"webkitTransform",c),G(ye,"mozTransform",c),G(ye,"msTransform",c),G(ye,"transform",c),Me=u,Pe=d,Ae=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ye){var e=this.options.fallbackOnBody?document.body:we,t=Q(ge,!0,qe,!0,e),n=this.options;if(qe){for(Be=e;"static"===G(Be,"position")&&"none"===G(Be,"transform")&&Be!==document;)Be=Be.parentNode;Be!==document.body&&Be!==document.documentElement?(Be===document&&(Be=q()),t.top+=Be.scrollTop,t.left+=Be.scrollLeft):Be=q(),$e=ae(Be)}$(ye=ge.cloneNode(!0),n.ghostClass,!1),$(ye,n.fallbackClass,!0),$(ye,n.dragClass,!0),G(ye,"transition",""),G(ye,"transform",""),G(ye,"box-sizing","border-box"),G(ye,"margin",0),G(ye,"top",t.top),G(ye,"left",t.left),G(ye,"width",t.width),G(ye,"height",t.height),G(ye,"opacity","0.8"),G(ye,"position",qe?"absolute":"fixed"),G(ye,"zIndex","100000"),G(ye,"pointerEvents","none"),rt.ghost=ye,e.appendChild(ye),G(ye,"transform-origin",Ve/parseInt(ye.style.width)*100+"% "+Re/parseInt(ye.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,a=e.dataTransfer,l=n.options;ve("dragStart",this,{evt:e}),rt.eventCanceled?this._onDrop():(ve("setupClone",this),rt.eventCanceled||((Se=se(ge)).removeAttribute("id"),Se.draggable=!1,Se.style["will-change"]="",this._hideClone(),$(Se,this.options.chosenClass,!1),rt.clone=Se),n.cloneId=pt(function(){ve("clone",n),rt.eventCanceled||(n.options.removeCloneOnHide||we.insertBefore(Se,ge),n._hideClone(),me({sortable:n,name:"clone"}))}),!t&&$(ge,l.dragClass,!0),t?(He=!0,n._loopId=setInterval(n._emulateDragOver,50)):(B(document,"mouseup",n._onDrop),B(document,"touchend",n._onDrop),B(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",l.setData&&l.setData.call(n,a,ge)),F(document,"drop",n),G(ge,"transform","translateZ(0)")),Le=!0,n._dragStartId=pt(n._dragStarted.bind(n,t,e)),F(document,"selectstart",n),Xe=!0,window.getSelection().removeAllRanges(),R&&G(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,a,l,o=this.el,i=e.target,r=this.options,s=r.group,u=rt.active,d=Oe===s,c=r.sort,p=Ie||u,h=this,f=!1;if(!Ge){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),i=z(i,r.draggable,o,!0),I("dragOver"),rt.eventCanceled)return f;if(ge.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||h._ignoreWhileAnimating===i)return A(!1);if(He=!1,u&&!r.disabled&&(d?c||(a=be!==we):Ie===this||(this.lastPutMode=Oe.checkPull(this,u,ge,e))&&s.checkPut(this,u,ge,e))){if(l="vertical"===this._getDirection(e,i),t=Q(ge),I("dragOverValid"),rt.eventCanceled)return f;if(a)return be=we,N(),this._hideClone(),I("revert"),rt.eventCanceled||(xe?we.insertBefore(ge,xe):we.appendChild(ge)),A(!0);var v=te(o,r.draggable);if(!v||function(e,t,n){var a=Q(te(n.el,n.options.draggable)),l=ue(n.el,n.options,ye);return t?e.clientX>l.right+10||e.clientY>a.bottom&&e.clientX>a.left:e.clientY>l.bottom+10||e.clientX>a.right&&e.clientY>a.top}(e,l,this)&&!v.animated){if(v===ge)return A(!1);if(v&&o===e.target&&(i=v),i&&(n=Q(i)),!1!==st(we,o,ge,t,i,n,e,!!i))return N(),v&&v.nextSibling?o.insertBefore(ge,v.nextSibling):o.appendChild(ge),be=o,M(),A(!0)}else if(v&&function(e,t,n){var a=Q(ee(n.el,0,n.options,!0)),l=ue(n.el,n.options,ye);return t?e.clientX<l.left-10||e.clientY<a.top&&e.clientX<a.right:e.clientY<l.top-10||e.clientY<a.bottom&&e.clientX<a.left}(e,l,this)){var m=ee(o,0,r,!0);if(m===ge)return A(!1);if(n=Q(i=m),!1!==st(we,o,ge,t,i,n,e,!1))return N(),o.insertBefore(ge,m),be=o,M(),A(!0)}else if(i.parentNode===o){n=Q(i);var g,b,y,w=ge.parentNode!==o,x=!function(e,t,n){var a=n?e.left:e.top,l=n?e.right:e.bottom,o=n?e.width:e.height,i=n?t.left:t.top,r=n?t.right:t.bottom,s=n?t.width:t.height;return a===i||l===r||a+o/2===i+s/2}(ge.animated&&ge.toRect||t,i.animated&&i.toRect||n,l),_=l?"top":"left",S=Z(i,"top","top")||Z(ge,"top","top"),D=S?S.scrollTop:void 0;if(je!==i&&(b=n[_],Ue=!1,We=!x&&r.invertSwap||w),g=function(e,t,n,a,l,o,i,r){var s=a?e.clientY:e.clientX,u=a?n.height:n.width,d=a?n.top:n.left,c=a?n.bottom:n.right,p=!1;if(!i)if(r&&Fe<u*l){if(!Ue&&(1===Ye?s>d+u*o/2:s<c-u*o/2)&&(Ue=!0),Ue)p=!0;else if(1===Ye?s<d+Fe:s>c-Fe)return-Ye}else if(s>d+u*(1-l)/2&&s<c-u*(1-l)/2)return function(e){return ne(ge)<ne(e)?1:-1}(t);return(p=p||i)&&(s<d+u*o/2||s>c-u*o/2)?s>d+u/2?1:-1:0}(e,i,n,l,x?1:r.swapThreshold,null==r.invertedSwapThreshold?r.swapThreshold:r.invertedSwapThreshold,We,je===i),0!==g){var E=ne(ge);do{E-=g,y=be.children[E]}while(y&&("none"===G(y,"display")||y===ye))}if(0===g||y===i)return A(!1);je=i,Ye=g;var C=i.nextElementSibling,T=!1,O=st(we,o,ge,t,i,n,e,T=1===g);if(!1!==O)return 1!==O&&-1!==O||(T=1===O),Ge=!0,setTimeout(dt,30),N(),T&&!C?o.appendChild(ge):i.parentNode.insertBefore(ge,T?C:i),S&&re(S,0,D-S.scrollTop),be=ge.parentNode,void 0===b||We||(Fe=Math.abs(b-Q(i)[_])),M(),A(!0)}if(o.contains(ge))return A(!1)}return!1}function I(r,s){ve(r,h,k({evt:e,isOwner:d,axis:l?"vertical":"horizontal",revert:a,dragRect:t,targetRect:n,canSort:c,fromSortable:p,target:i,completed:A,onMove:function(n,a){return st(we,o,ge,t,n,Q(n),e,a)},changed:M},s))}function N(){I("dragOverAnimationCapture"),h.captureAnimationState(),h!==p&&p.captureAnimationState()}function A(t){return I("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(h),h!==p&&($(ge,Ie?Ie.options.ghostClass:u.options.ghostClass,!1),$(ge,r.ghostClass,!0)),Ie!==h&&h!==rt.active?Ie=h:h===rt.active&&Ie&&(Ie=null),p===h&&(h._ignoreWhileAnimating=i),h.animateAll(function(){I("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(i===ge&&!ge.animated||i===o&&!i.animated)&&(je=null),r.dragoverBubble||e.rootEl||i===document||(ge.parentNode[de]._isOutsideThisEl(e.target),!t&&ot(e)),!r.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function M(){Ce=ne(ge),ke=ne(ge,r.draggable),me({sortable:h,name:"change",toEl:o,newIndex:Ce,newDraggableIndex:ke,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){B(document,"mousemove",this._onTouchMove),B(document,"touchmove",this._onTouchMove),B(document,"pointermove",this._onTouchMove),B(document,"dragover",ot),B(document,"mousemove",ot),B(document,"touchmove",ot)},_offUpEvents:function(){var e=this.el.ownerDocument;B(e,"mouseup",this._onDrop),B(e,"touchend",this._onDrop),B(e,"pointerup",this._onDrop),B(e,"pointercancel",this._onDrop),B(e,"touchcancel",this._onDrop),B(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;Ce=ne(ge),ke=ne(ge,n.draggable),ve("drop",this,{evt:e}),be=ge&&ge.parentNode,Ce=ne(ge),ke=ne(ge,n.draggable),rt.eventCanceled||(Le=!1,We=!1,Ue=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ht(this.cloneId),ht(this._dragStartId),this.nativeDraggable&&(B(document,"drop",this),B(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),R&&G(document.body,"user-select",""),G(ge,"transform",""),e&&(Xe&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),ye&&ye.parentNode&&ye.parentNode.removeChild(ye),(we===be||Ie&&"clone"!==Ie.lastPutMode)&&Se&&Se.parentNode&&Se.parentNode.removeChild(Se),ge&&(this.nativeDraggable&&B(ge,"dragend",this),ut(ge),ge.style["will-change"]="",Xe&&!Le&&$(ge,Ie?Ie.options.ghostClass:this.options.ghostClass,!1),$(ge,this.options.chosenClass,!1),me({sortable:this,name:"unchoose",toEl:be,newIndex:null,newDraggableIndex:null,originalEvent:e}),we!==be?(Ce>=0&&(me({rootEl:be,name:"add",toEl:be,fromEl:we,originalEvent:e}),me({sortable:this,name:"remove",toEl:be,originalEvent:e}),me({rootEl:be,name:"sort",toEl:be,fromEl:we,originalEvent:e}),me({sortable:this,name:"sort",toEl:be,originalEvent:e})),Ie&&Ie.save()):Ce!==Ee&&Ce>=0&&(me({sortable:this,name:"update",toEl:be,originalEvent:e}),me({sortable:this,name:"sort",toEl:be,originalEvent:e})),rt.active&&(null!=Ce&&-1!==Ce||(Ce=Ee,ke=Te),me({sortable:this,name:"end",toEl:be,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){ve("nulling",this),we=ge=be=ye=xe=Se=_e=De=Ne=Ae=Xe=Ce=ke=Ee=Te=je=Ye=Ie=Oe=rt.dragged=rt.ghost=rt.clone=rt.active=null,Je.forEach(function(e){e.checked=!0}),Je.length=Me=Pe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ge&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,a=0,l=n.length,o=this.options;a<l;a++)z(e=n[a],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||ct(e));return t},sort:function(e,t){var n={},a=this.el;this.toArray().forEach(function(e,t){var l=a.children[t];z(l,this.options.draggable,a,!1)&&(n[e]=l)},this),t&&this.captureAnimationState(),e.forEach(function(e){n[e]&&(a.removeChild(n[e]),a.appendChild(n[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return z(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var a=he.modifyOption(this,e,t);n[e]=void 0!==a?a:t,"group"===e&&nt(n)},destroy:function(){ve("destroy",this);var e=this.el;e[de]=null,B(e,"mousedown",this._onTapStart),B(e,"touchstart",this._onTapStart),B(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(B(e,"dragover",this),B(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ze.splice(ze.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!De){if(ve("hideClone",this),rt.eventCanceled)return;G(Se,"display","none"),this.options.removeCloneOnHide&&Se.parentNode&&Se.parentNode.removeChild(Se),De=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(De){if(ve("showClone",this),rt.eventCanceled)return;ge.parentNode!=we||this.options.group.revertClone?xe?we.insertBefore(Se,xe):we.appendChild(Se):we.insertBefore(Se,ge),this.options.group.revertClone&&this.animate(ge,Se),G(Se,"display",""),De=!1}}else this._hideClone()}},Ke&&F(document,"touchmove",function(e){(rt.active||Le)&&e.cancelable&&e.preventDefault()}),rt.utils={on:F,off:B,css:G,find:K,is:function(e,t){return!!z(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:ie,closest:z,toggleClass:$,clone:se,index:ne,nextTick:pt,cancelNextTick:ht,detectDirection:tt,getChild:ee,expando:de},rt.get=function(e){return e[de]},rt.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(rt.utils=k(k({},rt.utils),e.utils)),he.mount(e)})},rt.create=function(e,t){return new rt(e,t)},rt.version="1.15.6";var ft,vt,mt,gt,bt,yt,wt=[],xt=!1;function _t(){wt.forEach(function(e){clearInterval(e.pid)}),wt=[]}function St(){clearInterval(yt)}var Dt=ie(function(e,t,n,a){if(t.scroll){var l,o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,r=t.scrollSensitivity,s=t.scrollSpeed,u=q(),d=!1;vt!==n&&(vt=n,_t(),ft=t.scroll,l=t.scrollFn,!0===ft&&(ft=le(n,!0)));var c=0,p=ft;do{var h=p,f=Q(h),v=f.top,m=f.bottom,g=f.left,b=f.right,y=f.width,w=f.height,x=void 0,_=void 0,S=h.scrollWidth,D=h.scrollHeight,E=G(h),C=h.scrollLeft,T=h.scrollTop;h===u?(x=y<S&&("auto"===E.overflowX||"scroll"===E.overflowX||"visible"===E.overflowX),_=w<D&&("auto"===E.overflowY||"scroll"===E.overflowY||"visible"===E.overflowY)):(x=y<S&&("auto"===E.overflowX||"scroll"===E.overflowX),_=w<D&&("auto"===E.overflowY||"scroll"===E.overflowY));var k=x&&(Math.abs(b-o)<=r&&C+y<S)-(Math.abs(g-o)<=r&&!!C),O=_&&(Math.abs(m-i)<=r&&T+w<D)-(Math.abs(v-i)<=r&&!!T);if(!wt[c])for(var I=0;I<=c;I++)wt[I]||(wt[I]={});wt[c].vx==k&&wt[c].vy==O&&wt[c].el===h||(wt[c].el=h,wt[c].vx=k,wt[c].vy=O,clearInterval(wt[c].pid),0==k&&0==O||(d=!0,wt[c].pid=setInterval(function(){a&&0===this.layer&&rt.active._onTouchMove(bt);var t=wt[this.layer].vy?wt[this.layer].vy*s:0,n=wt[this.layer].vx?wt[this.layer].vx*s:0;"function"==typeof l&&"continue"!==l.call(rt.dragged.parentNode[de],n,t,e,bt,wt[this.layer].el)||re(wt[this.layer].el,n,t)}.bind({layer:c}),24))),c++}while(t.bubbleScroll&&p!==u&&(p=le(p,!1)));xt=d}},30),Et=function(e){var t=e.originalEvent,n=e.putSortable,a=e.dragEl,l=e.activeSortable,o=e.dispatchSortableEvent,i=e.hideGhostForTarget,r=e.unhideGhostForTarget;if(t){var s=n||l;i();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(u.clientX,u.clientY);r(),s&&!s.el.contains(d)&&(o("spill"),this.onSpill({dragEl:a,putSortable:n}))}};function Ct(){}function Tt(){}Ct.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var a=ee(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Et},N(Ct,{pluginName:"revertOnSpill"}),Tt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:Et},N(Tt,{pluginName:"removeOnSpill"}),rt.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?F(document,"dragover",this._handleAutoScroll):this.options.supportPointer?F(document,"pointermove",this._handleFallbackAutoScroll):t.touches?F(document,"touchmove",this._handleFallbackAutoScroll):F(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?B(document,"dragover",this._handleAutoScroll):(B(document,"pointermove",this._handleFallbackAutoScroll),B(document,"touchmove",this._handleFallbackAutoScroll),B(document,"mousemove",this._handleFallbackAutoScroll)),St(),_t(),clearTimeout(U),U=void 0},nulling:function(){bt=vt=ft=xt=yt=mt=gt=null,wt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,a=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(a,l);if(bt=e,t||this.options.forceAutoScrollFallback||P||M||R){Dt(e,this.options,o,t);var i=le(o,!0);!xt||yt&&a===mt&&l===gt||(yt&&St(),yt=setInterval(function(){var o=le(document.elementFromPoint(a,l),!0);o!==i&&(i=o,_t()),Dt(e,n.options,o,t)},10),mt=a,gt=l)}else{if(!this.options.bubbleScroll||le(o,!0)===q())return void _t();Dt(e,this.options,le(o,!1),!1)}}},N(e,{pluginName:"scroll",initializeByDefault:!0})}),rt.mount(Tt,Ct);const kt={class:"integram-upload-page integram-touch-friendly"},Ot={key:0,class:"mb-4"},It={class:"field"},Nt={class:"field"},At={key:1,class:"upload-area"},Mt={class:"mb-3"},Pt={class:"integram-actions"},Vt={class:"grid"},Rt={class:"col-12 md:col-6"},Xt={class:"field-checkbox mb-3"},jt={class:"field-checkbox"},Yt={class:"col-12 md:col-6"},Ft={class:"field mb-3"},Bt={class:"field mb-3"},Lt={class:"field mb-3"},Ht={class:"field"},zt={class:"mt-3"},Ut={class:"flex gap-2 align-items-center"},Wt=["data-index"],$t={class:"flex align-items-center gap-3 p-3 surface-50 border-round"},Gt=["onClick"],Jt={class:"text-sm text-500"},Kt={key:0,class:"text-xs text-green-500 mt-1"},qt={class:"text-sm text-500"},Qt={class:"flex align-items-center gap-2"},Zt={class:"formula-editor"},en={class:"flex gap-2 align-items-center mb-3"},tn={class:"formula-help surface-ground p-3 border-round"},nn={class:"mt-2"},an={class:"flex flex-wrap gap-1 mt-1"},ln={key:4,class:"integram-actions"},on={class:"grid mb-4"},rn={class:"col-6 md:col-3"},sn={class:"text-center p-3 surface-ground border-round"},un={class:"text-2xl font-bold text-primary"},dn={class:"col-6 md:col-3"},cn={class:"text-center p-3 surface-ground border-round"},pn={class:"text-2xl font-bold text-primary"},hn={class:"col-6 md:col-3"},fn={class:"text-center p-3 surface-ground border-round"},vn={class:"col-6 md:col-3"},mn={class:"text-center p-3 surface-ground border-round"},gn={class:"text-2xl font-bold text-500"},bn={key:0,class:"ml-2 text-xs text-orange-500"},yn={class:"text-sm"},wn={class:"text-sm"},xn={key:0},_n={key:1,class:"text-400"},Sn={key:0},Dn={key:1,class:"text-400"},En={class:"integram-actions justify-content-end w-full"},Cn=C({__name:"IntegramUpload",setup(C){const T=l(),{isAuthenticated:k}=S(),O=e(),{setTimeout:I}=E(),N=t(()=>[{label:"Загрузка",icon:"pi pi-upload",to:void 0}]),A=n(null),M=n(""),P=n(null),V=n(""),R=n(!1),X=n(!1),j=n(!1),Y=n(!1),F=n([]),B=n([]),L=n(null),H=n(""),z=n({}),U=n(null),W=n(""),$=n({}),G=n({}),J=n({hasHeader:!0,trim:!0,delimiter:"",lineDelimiter:"",batchSize:1e3,encoding:"utf-8"}),K=[{label:"UTF-8 (Recommended)",value:"utf-8"},{label:"Windows-1251 (Cyrillic)",value:"windows-1251"},{label:"ISO-8859-1 (Latin-1)",value:"iso-8859-1"},{label:"Windows-1252 (Western European)",value:"windows-1252"},{label:"KOI8-R (Russian)",value:"koi8-r"},{label:"GB2312 (Simplified Chinese)",value:"gb2312"},{label:"Shift-JIS (Japanese)",value:"shift-jis"}],q=n([{label:"*** Создать новую таблицу из файла ***",value:"new"}]),Q=n(!1),Z=n([]),ee=t(()=>B.value.filter(e=>!G.value[e.field])),te=t(()=>B.value.map(e=>{const t=function(e){if(!F.value||0===F.value.length)return{empty:0,invalid:0,min:"",max:"",sum:0,avg:0,isNumeric:!1};let t=0,n=0,a=null,l=null,o=0,i=0,r=!0;const s=F.value.map(t=>t[e]).filter(e=>null!=e&&""!==e).slice(0,10);if(s.length>0){const e=s.filter(e=>{const t=parseFloat(String(e).replace(",",".").replace(/\s/g,""));return!isNaN(t)}).length;r=e>=.8*s.length}else r=!1;F.value.forEach(s=>{const u=s[e];if(null==u||""===u)return void t++;const d=String(u).trim();if(r){const e=parseFloat(d.replace(",",".").replace(/\s/g,""));isNaN(e)?n++:(o+=e,i++,(null===a||e<a)&&(a=e),(null===l||e>l)&&(l=e))}else(null===a||d<a)&&(a=d),(null===l||d>l)&&(l=d),i++});const u=r&&i>0?Math.round(o/i*100)/100:0;return r?(o=Math.round(100*o)/100,a=null!==a?Math.round(100*a)/100:"",l=null!==l?Math.round(100*l)/100:""):(a&&a.length>20&&(a=a.substring(0,20)+"..."),l&&l.length>20&&(l=l.substring(0,20)+"...")),{empty:t,invalid:n,min:a||"",max:l||"",sum:o,avg:u,isNumeric:r}}(e.field);return{field:e.field,header:e.header,skipped:G.value[e.field]||!1,...t}})),ne=t(()=>{let e=0,t=0;return te.value.forEach(n=>{n.skipped||(e+=n.empty||0,t+=n.invalid||0)}),{empty:e,invalid:t}});function ae(){const e=localStorage.getItem("integram_import_settings");if(e)try{const t=JSON.parse(e);Z.value=Object.keys(t).map(e=>({label:e,value:e}))}catch(t){}}function le(){"new"===A.value?M.value="Новая таблица / New table":M.value="Загруженный тип"}function oe(e){const t=e.files[0],n=new FileReader;n.onload=e=>{V.value=e.target.result,ie()},n.readAsText(t,J.value.encoding)}function ie(){if(V.value)try{const e=V.value.split("\n").filter(e=>e.trim()),t=J.value.delimiter||function(e){let t=0,n=",";return[",","\t",";","|"].forEach(a=>{const l=(e.match(new RegExp("\\"+a,"g"))||[]).length;l>t&&(t=l,n=a)}),n}(e[0]),n=J.value.hasHeader?e[0].split(t).map(e=>e.trim()):e[0].split(t).map((e,t)=>`Column${t+1}`),a=J.value.hasHeader?e.slice(1):e;B.value=n.map((e,t)=>({field:`col${t}`,header:e})),F.value=a.slice(0,100).map(e=>{const n=e.split(t).map(e=>J.value.trim?e.trim():e),a={};return n.forEach((e,t)=>{a[`col${t}`]=e}),a}),O.add({severity:"success",summary:"Успешно",detail:`Обработано ${F.value.length} строк`,life:3e3})}catch(e){O.add({severity:"error",summary:"Ошибка",detail:`Ошибка парсинга: ${e.message}`,life:5e3})}else O.add({severity:"warn",summary:"Предупреждение",detail:"Файл пуст",life:3e3})}function re(){Y.value=!1,O.add({severity:"info",summary:"Загрузка",detail:"Функционал загрузки будет реализован через API",life:5e3})}function se(){A.value=null,M.value="",V.value="",F.value=[],B.value=[],R.value=!1,X.value=!1,j.value=!1,z.value={},$.value={},G.value={},U.value=null,W.value=""}function ue(){U.value&&(W.value.trim()?(z.value[U.value]=W.value.trim(),O.add({severity:"success",summary:"Формула сохранена",detail:"Формула для поля сохранена",life:2e3})):delete z.value[U.value])}function de(){U.value&&z.value[U.value]&&(delete z.value[U.value],W.value="",O.add({severity:"info",summary:"Формула удалена",detail:"Формула для поля удалена",life:2e3}))}function ce(e){const t=$.value[e]||0;return 2===t?"success":1===t?"info":"secondary"}function pe(e){const t=$.value[e]||0;return 2===t?"Множественный выбор из справочника (нажмите для отключения)":1===t?"Связь со справочником (нажмите для множественного выбора)":"Нажмите для связи со справочником"}function he(){if(H.value)try{const e=JSON.parse(localStorage.getItem("integram_import_settings")||"{}");e[H.value]={...J.value,fieldOrder:B.value.map((e,t)=>({...e,order:t})),formulas:{...z.value},links:{...$.value},skipped:{...G.value}},localStorage.setItem("integram_import_settings",JSON.stringify(e)),ae(),O.add({severity:"success",summary:"Сохранено / Saved",detail:`Настройка "${H.value}" сохранена`,life:3e3}),H.value=""}catch(e){O.add({severity:"error",summary:"Ошибка",detail:`Не удалось сохранить: ${e.message}`,life:5e3})}else O.add({severity:"warn",summary:"Предупреждение",detail:"Укажите название настройки / Please provide a setting name",life:3e3})}return a(async()=>{k.value?(await async function(){try{Q.value=!0;const e=await D.getDictionary();if(q.value=[{label:"*** Создать новую таблицу из файла ***",value:"new"}],e&&"object"==typeof e){const t=Object.entries(e).map(([e,t])=>({label:t,value:e})).sort((e,t)=>e.label.localeCompare(t.label));q.value.push(...t)}}catch(e){O.add({severity:"error",summary:"Ошибка",detail:"Не удалось загрузить список таблиц: "+(e.message||"Ошибка API"),life:5e3})}finally{Q.value=!1}}(),ae()):T.push("/integram/login?redirect="+encodeURIComponent(window.location.pathname))}),o(F,()=>{F.value.length>0&&I(()=>{L.value&&rt.create(L.value,{animation:150,handle:".drag-handle",ghostClass:"sortable-ghost",onEnd:e=>{const t=e.oldIndex,n=e.newIndex,a=B.value.splice(t,1)[0];B.value.splice(n,0,a),O.add({severity:"info",summary:"Поле перемещено",detail:`"${a.header}" перемещено на позицию ${n+1}`,life:2e3})}})},100)}),o(P,()=>{P.value&&function(){if(P.value)try{const e=JSON.parse(localStorage.getItem("integram_import_settings")||"{}")[P.value];e&&(J.value={hasHeader:e.hasHeader,trim:e.trim,delimiter:e.delimiter,lineDelimiter:e.lineDelimiter,batchSize:e.batchSize,encoding:e.encoding||"utf-8"},e.formulas&&(z.value={...e.formulas}),e.links&&($.value={...e.links}),e.skipped&&(G.value={...e.skipped}),O.add({severity:"success",summary:"Загружено / Loaded",detail:`Настройка "${P.value}" применена`,life:3e3}))}catch(e){O.add({severity:"error",summary:"Ошибка",detail:`Не удалось загрузить: ${e.message}`,life:5e3})}}()}),(e,t)=>{const n=u("Select"),a=u("Button"),l=u("Textarea"),o=u("FileUpload"),S=u("Panel"),D=u("Checkbox"),E=u("InputText"),C=u("InputNumber"),T=u("Divider"),k=u("Badge"),I=u("Column"),Q=u("DataTable"),ae=u("Card"),fe=u("Dialog"),ve=d("tooltip");return c(),i("div",kt,[r(_,{items:N.value},null,8,["items"]),r(ae,null,{title:s(()=>[...t[18]||(t[18]=[h("div",{class:"flex align-items-center justify-content-between"},[h("span",null,"Загрузка файлов")],-1)])]),content:s(()=>[A.value?p("",!0):(c(),i("div",Ot,[h("div",It,[t[19]||(t[19]=h("label",{for:"typeSelect"},"Выберите таблицу для загрузки",-1)),r(n,{id:"typeSelect",modelValue:A.value,"onUpdate:modelValue":t[0]||(t[0]=e=>A.value=e),options:q.value,optionLabel:"label",optionValue:"value",placeholder:"Выберите таблицу",class:"w-full",onChange:le},null,8,["modelValue","options"])]),h("div",Nt,[t[20]||(t[20]=h("label",{for:"settingsSelect"},"или выберите сохраненную настройку",-1)),r(n,{id:"settingsSelect",modelValue:P.value,"onUpdate:modelValue":t[1]||(t[1]=e=>P.value=e),options:Z.value,optionLabel:"label",optionValue:"value",placeholder:"Настройки импорта",class:"w-full"},null,8,["modelValue","options"])])])),A.value?(c(),i("div",At,[h("div",Mt,[r(a,{icon:"pi pi-arrow-left",label:"Вернуться к выбору таблицы",onClick:se,text:"","aria-label":"Вернуться к выбору таблицы"}),h("h4",null,v(M.value),1)]),r(S,{header:"Загрузка данных",class:"mb-3"},{default:s(()=>[t[21]||(t[21]=h("p",{class:"mb-2"},[m(" Вставьте текст из файла в это поле или выберите файл для загрузки:"),h("br"),h("small",null,"JSON или любой текстовый файл: CSV, TXT и т.п. Форматы XLS и XLSX пока не поддерживаются")],-1)),r(l,{modelValue:V.value,"onUpdate:modelValue":t[2]||(t[2]=e=>V.value=e),rows:5,class:"w-full mb-2",placeholder:"Вставьте содержимое файла..."},null,8,["modelValue"]),r(o,{mode:"basic",accept:".txt,.csv,.json",maxFileSize:1e7,onSelect:oe,chooseLabel:"Выберите файл",class:"mb-2"}),h("div",Pt,[r(a,{label:"Проверить",icon:"pi pi-check",onClick:ie,disabled:!V.value,"aria-label":"Проверить файл"},null,8,["disabled"]),r(a,{label:"Настроить",icon:"pi pi-cog",onClick:t[3]||(t[3]=e=>R.value=!R.value),outlined:"","aria-label":"Настройки импорта"})])]),_:1}),R.value?(c(),f(S,{key:0,header:"Настройки импорта",class:"mb-3"},{default:s(()=>[h("div",Vt,[h("div",Rt,[h("div",Xt,[r(D,{modelValue:J.value.hasHeader,"onUpdate:modelValue":t[4]||(t[4]=e=>J.value.hasHeader=e),inputId:"hasHeader",binary:!0},null,8,["modelValue"]),t[22]||(t[22]=h("label",{for:"hasHeader"},"Первая строка содержит заголовок",-1))]),h("div",jt,[r(D,{modelValue:J.value.trim,"onUpdate:modelValue":t[5]||(t[5]=e=>J.value.trim=e),inputId:"trim",binary:!0},null,8,["modelValue"]),t[23]||(t[23]=h("label",{for:"trim"},"Обрезать пробелы справа и слева",-1))])]),h("div",Yt,[h("div",Ft,[t[25]||(t[25]=h("label",{for:"delimiter"},"Разделитель полей",-1)),r(E,{id:"delimiter",modelValue:J.value.delimiter,"onUpdate:modelValue":t[6]||(t[6]=e=>J.value.delimiter=e),placeholder:"auto",class:"w-full"},null,8,["modelValue"]),h("small",null,[r(a,{text:"",onClick:t[7]||(t[7]=e=>J.value.delimiter="\t")},{default:s(()=>[...t[24]||(t[24]=[m("TAB",-1)])]),_:1})])]),h("div",Bt,[t[26]||(t[26]=h("label",{for:"lineDelimiter"},"Разделитель строк",-1)),r(E,{id:"lineDelimiter",modelValue:J.value.lineDelimiter,"onUpdate:modelValue":t[8]||(t[8]=e=>J.value.lineDelimiter=e),placeholder:"auto",class:"w-full"},null,8,["modelValue"])]),h("div",Lt,[t[27]||(t[27]=h("label",{for:"batchSize"},"Строк в батче",-1)),r(C,{id:"batchSize",modelValue:J.value.batchSize,"onUpdate:modelValue":t[9]||(t[9]=e=>J.value.batchSize=e),min:1,max:1e4,class:"w-full"},null,8,["modelValue"])]),h("div",Ht,[t[28]||(t[28]=h("label",{for:"encoding"},"Кодировка файла",-1)),r(n,{id:"encoding",modelValue:J.value.encoding,"onUpdate:modelValue":t[10]||(t[10]=e=>J.value.encoding=e),options:K,optionLabel:"label",optionValue:"value",placeholder:"Select encoding",class:"w-full"},null,8,["modelValue"]),t[29]||(t[29]=h("small",{class:"text-500"},"UTF-8 рекомендуется для большинства файлов",-1))])])]),h("div",zt,[r(T),h("div",Ut,[r(a,{label:"Сохранить настройки",icon:"pi pi-save",size:"small",outlined:"",onClick:he}),r(E,{modelValue:H.value,"onUpdate:modelValue":t[11]||(t[11]=e=>H.value=e),placeholder:"Название настройки",class:"flex-1",size:"small"},null,8,["modelValue"])])])]),_:1})):p("",!0),F.value.length>0?(c(),f(S,{key:1,header:"Порядок и сопоставление полей",class:"mb-3"},{default:s(()=>[t[32]||(t[32]=h("p",{class:"mb-3 text-sm text-500"}," Перетащите поля для изменения порядка. Нажмите на иконку ссылки для связи со справочником. ",-1)),h("div",{ref_key:"fieldMappingList",ref:L,class:"field-mapping-list"},[(c(!0),i(g,null,b(B.value,(e,n)=>{var l,o;return c(),i("div",{key:e.field,class:y(["field-mapping-item",{"has-formula":z.value[e.field],"is-skipped":G.value[e.field]}]),"data-index":n},[h("div",$t,[t[31]||(t[31]=h("i",{class:"pi pi-bars drag-handle cursor-move text-500"},null,-1)),w(r(D,{modelValue:G.value[e.field],"onUpdate:modelValue":t=>G.value[e.field]=t,inputId:`skip_${e.field}`,binary:!0},null,8,["modelValue","onUpdate:modelValue","inputId"]),[[ve,G.value[e.field]?"Колонка пропущена":"Пропустить колонку",void 0,{top:!0}]]),w(r(a,{icon:(o=e.field,2===($.value[o]||0)?"pi pi-list":"pi pi-link"),severity:ce(e.field),text:"",rounded:"",size:"small",onClick:t=>function(e){const t=$.value[e]||0;$.value[e]=(t+1)%3;const n=$.value[e];O.add({severity:0===n?"secondary":"success",summary:{0:"Поле не связано со справочником",1:"Поле связано со справочником",2:"Поле связано со справочником (множественный выбор)"}[n],life:2e3})}(e.field),disabled:G.value[e.field]},null,8,["icon","severity","onClick","disabled"]),[[ve,pe(e.field),void 0,{top:!0}]]),h("div",{class:"flex-1",onClick:t=>function(e){U.value=e.field,W.value=z.value[e.field]||"",j.value=!0}(e)},[h("strong",{class:y({"text-primary":U.value===e.field})},v(e.header),3),h("div",Jt," Пример: "+v((null==(l=F.value[0])?void 0:l[e.field])||"N/A"),1),z.value[e.field]?(c(),i("div",Kt,[t[30]||(t[30]=h("i",{class:"pi pi-calculator"},null,-1)),m(" "+v(z.value[e.field]),1)])):p("",!0)],8,Gt),h("div",qt,"Позиция: "+v(n+1),1)])],10,Wt)}),128))],512)]),_:1})):p("",!0),F.value.length>0?(c(),f(S,{key:2,header:"Формулы для вычисления полей",toggleable:!0,collapsed:!j.value},{header:s(()=>[h("div",Qt,[t[33]||(t[33]=h("i",{class:"pi pi-calculator"},null,-1)),t[34]||(t[34]=h("span",null,"Формулы для вычисления полей",-1)),Object.keys(z.value).length>0?(c(),f(k,{key:0,value:Object.keys(z.value).length,severity:"success"},null,8,["value"])):p("",!0)])]),default:s(()=>[h("div",Zt,[h("div",en,[r(n,{modelValue:U.value,"onUpdate:modelValue":t[12]||(t[12]=e=>U.value=e),options:B.value,optionLabel:"header",optionValue:"field",placeholder:"Выберите поле",class:"w-auto",style:{"min-width":"200px"}},null,8,["modelValue","options"]),r(E,{modelValue:W.value,"onUpdate:modelValue":t[13]||(t[13]=e=>W.value=e),placeholder:"Формула: [Поле1] * [Поле2]",class:"flex-1",onKeyup:x(ue,["enter"])},null,8,["modelValue"]),r(a,{label:"Сохранить",icon:"pi pi-check",size:"small",onClick:ue,disabled:!U.value},null,8,["disabled"]),w(r(a,{icon:"pi pi-trash",severity:"danger",text:"",size:"small",onClick:de,disabled:!U.value||!z.value[U.value]},null,8,["disabled"]),[[ve,"Удалить формулу",void 0,{top:!0}]])]),h("div",tn,[t[36]||(t[36]=h("p",{class:"m-0 mb-2 font-semibold"},"Синтаксис формул:",-1)),t[37]||(t[37]=h("ul",{class:"m-0 pl-4 text-sm"},[h("li",null,[m("Используйте "),h("code",null,"[Название поля]"),m(" для ссылки на другие поля")]),h("li",null,[m("Пример: "),h("code",null,"[Цена] * [Количество]")]),h("li",null,[m("Пример: "),h("code",null,"IF([Статус]='Активен', 1, 0)")]),h("li",null,"Доступные функции: IF, CONCAT, UPPER, LOWER, TRIM, ROUND")],-1)),h("div",nn,[t[35]||(t[35]=h("span",{class:"text-sm text-500"},"Быстрая вставка поля:",-1)),h("div",an,[(c(!0),i(g,null,b(B.value,e=>(c(),f(a,{key:e.field,label:e.header,size:"small",text:"",onClick:t=>{return n=e.header,void(W.value+=`[${n}]`);var n}},null,8,["label","onClick"]))),128))])])])])]),_:1},8,["collapsed"])):p("",!0),F.value.length>0?(c(),f(S,{key:3,header:"Предварительный просмотр",class:"mb-3"},{default:s(()=>[r(Q,{value:F.value,rows:5,paginator:""},{default:s(()=>[(c(!0),i(g,null,b(B.value,(e,t)=>(c(),f(I,{key:t,field:e.field,header:e.header},null,8,["field","header"]))),128))]),_:1},8,["value"])]),_:1})):p("",!0),F.value.length>0?(c(),i("div",ln,[r(a,{label:"Загрузить",icon:"pi pi-upload",onClick:t[14]||(t[14]=e=>Y.value=!0),severity:"warning","aria-label":"Загрузить данные"}),r(a,{label:"Статистика",icon:"pi pi-chart-bar",onClick:t[15]||(t[15]=e=>X.value=!X.value),outlined:"","aria-label":"Показать статистику"})])):p("",!0),X.value?(c(),f(S,{key:5,header:"Статистика импорта",class:"mt-3"},{default:s(()=>[h("div",on,[h("div",rn,[h("div",sn,[h("div",un,v(F.value.length),1),t[38]||(t[38]=h("div",{class:"text-sm text-500"},"Строк",-1))])]),h("div",dn,[h("div",cn,[h("div",pn,v(ee.value.length),1),t[39]||(t[39]=h("div",{class:"text-sm text-500"},"Колонок (активных)",-1))])]),h("div",hn,[h("div",fn,[h("div",{class:y(["text-2xl font-bold",ne.value.invalid>0?"text-orange-500":"text-green-500"])},v(ne.value.invalid),3),t[40]||(t[40]=h("div",{class:"text-sm text-500"},"Ошибок",-1))])]),h("div",vn,[h("div",mn,[h("div",gn,v(ne.value.empty),1),t[41]||(t[41]=h("div",{class:"text-sm text-500"},"Пустых ячеек",-1))])])]),r(Q,{value:te.value,size:"small",stripedRows:"",showGridlines:"",class:"text-sm"},{default:s(()=>[r(I,{field:"header",header:"Колонка",style:{"min-width":"150px"}},{body:s(({data:e})=>[h("span",{class:y({"line-through text-400":e.skipped})},v(e.header),3),e.skipped?(c(),i("span",bn,"(пропущена)")):p("",!0)]),_:1}),r(I,{field:"empty",header:"Пусто",style:{width:"80px","text-align":"right"}},{body:s(({data:e})=>[h("span",{class:y({"text-400":0===e.empty})},v(e.empty||"-"),3)]),_:1}),r(I,{field:"invalid",header:"Ошибки",style:{width:"80px","text-align":"right"}},{body:s(({data:e})=>[h("span",{class:y({"text-orange-500 font-bold":e.invalid>0})},v(e.invalid||"-"),3)]),_:1}),r(I,{field:"min",header:"Мин",style:{"min-width":"100px"}},{body:s(({data:e})=>[h("span",yn,v(e.min||"-"),1)]),_:1}),r(I,{field:"max",header:"Макс",style:{"min-width":"100px"}},{body:s(({data:e})=>[h("span",wn,v(e.max||"-"),1)]),_:1}),r(I,{field:"sum",header:"Сумма",style:{width:"100px","text-align":"right"}},{body:s(({data:e})=>[e.isNumeric?(c(),i("span",xn,v(e.sum),1)):(c(),i("span",_n,"-"))]),_:1}),r(I,{field:"avg",header:"Среднее",style:{width:"100px","text-align":"right"}},{body:s(({data:e})=>[e.isNumeric?(c(),i("span",Sn,v(e.avg),1)):(c(),i("span",Dn,"-"))]),_:1})]),_:1},8,["value"])]),_:1})):p("",!0)])):p("",!0)]),_:1}),r(fe,{visible:Y.value,"onUpdate:visible":t[17]||(t[17]=e=>Y.value=e),header:"Подтверждение загрузки",modal:!0,style:{width:"400px"}},{footer:s(()=>[h("div",En,[r(a,{label:"Отменить",icon:"pi pi-times",onClick:t[16]||(t[16]=e=>Y.value=!1),text:"","aria-label":"Отменить загрузку"}),r(a,{label:"Да, загружаем",icon:"pi pi-upload",onClick:re,severity:"warning","aria-label":"Подтвердить загрузку"})])]),default:s(()=>[h("p",null,"Вы уверены, что хотите загрузить "+v(F.value.length)+" записей?",1)]),_:1},8,["visible"])])}}},[["__scopeId","data-v-c5778bac"]]);export{Cn as default};
