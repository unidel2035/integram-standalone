const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BrdfL8RF.js","assets/index-qS_NbCi9.css","assets/jspdf.es.min-BwYuIhpS.js"])))=>i.map(i=>d[i]);
import{a0 as ki,av as ws,c as I,o as f,a as o,m as U,B as Hl,R as mo,aw as ho,l as vo,x as ks,ax as Is,aj as go,G as Sn,H as sn,ay as bo,p as Ht,az as Ds,aA as Cs,ak as yo,aB as Rl,ad as Ii,ap as on,z as Bt,aC as Un,Q as wn,aD as Ss,aa as Zt,aE as wo,an as Di,am as ko,ac as Io,al as Do,af as In,ao as Co,y as je,u as Si,h as pe,b as ae,i as ye,A as V,n as mt,g as we,k as et,F as Ce,w as ce,T as Ti,r as Je,j as Ne,v as Ba,t as te,f as ze,P as Ae,aF as Ts,s as Ms,aG as Es,aH as Os,aI as Ls,aJ as Vs,aK as Rs,aL as Fs,a4 as Wn,aM as As,ab as bi,aN as yi,q as rn,aO as Ps,aP as xs,ae as Bs,aQ as kn,ah as Hs,aR as Us,_ as dn,C as Xe,d as D,U as wt,X as lt,aS as Xn,I as Te,J as Yn,at as Ha,$ as Ks,aT as qn,aU as Ns,K as Ua,L as Ka,D as Na,ar as za,O as Ya}from"./index-BrdfL8RF.js";import{u as qa}from"./useIntegramSession-BGgEhYZh.js";import{i as Ue}from"./integramApiClient-C3_j8SPw.js";import{l as zt}from"./logger-CLWPjr6Q.js";import{s as zs,a as Dn}from"./index-Y-cyZu-T.js";import{s as Ci}from"./index-CzLm9tvn.js";import{M as Ys,a as wi}from"./MentionDisplay-BWPcYr0R.js";import{u as ja}from"./useGrants-DPBp58s4.js";import{I as qs}from"./IntegramBreadcrumb-bt1ieLIm.js";import{R as js}from"./ReferenceField-CM6dFeXE.js";import"./index-B9ygI19o.js";import"./unifiedAuthService-xCuNj-Bd.js";import"./useTimer-BBbej_UZ.js";const El=[{value:2,label:"HTML",icon:"fa-code"},{value:3,label:"–ö–æ—Ä–æ—Ç–∫–∞—è —Å—Ç—Ä–æ–∫–∞",icon:"fa-text-width"},{value:4,label:"–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è",icon:"fa-clock"},{value:6,label:"–ü–∞—Ä–æ–ª—å",icon:"fa-key"},{value:7,label:"–ö–Ω–æ–ø–∫–∞",icon:"fa-mouse-pointer"},{value:8,label:"–°—Ç—Ä–æ–∫–∞",icon:"fa-font"},{value:9,label:"–î–∞—Ç–∞",icon:"fa-calendar-alt"},{value:10,label:"–§–∞–π–ª",icon:"fa-file"},{value:11,label:"–õ–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ",icon:"fa-check-circle"},{value:12,label:"–ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç",icon:"fa-align-left"},{value:13,label:"–¶–µ–ª–æ–µ —á–∏—Å–ª–æ",icon:"fa-hashtag"},{value:14,label:"–ß–∏—Å–ª–æ —Å –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —á–∞—Å—Ç—å—é",icon:"fa-calculator"},{value:15,label:"–í—ã—á–∏—Å–ª—è–µ–º–æ–µ –ø–æ–ª–µ",icon:"fa-function"},{value:17,label:"–ü—É—Ç—å –∫ —Ñ–∞–π–ª—É",icon:"fa-folder-open"}];async function Ws(n,e=3,i=1e3){let t=null;for(let l=0;l<=e;l++)try{return zt.debug(`üîÑ Dynamic import attempt ${l+1}/${e+1}`),await n()}catch(c){if(t=c,zt.error(`‚ùå Dynamic import failed (attempt ${l+1}/${e+1}):`,{error:c.message,stack:c.stack,attempt:l+1,maxRetries:e+1}),l<e){const d=i*Math.pow(2,l);zt.info(`‚è≥ Retrying in ${d}ms...`),await new Promise(b=>setTimeout(b,d))}}zt.error("üí• Dynamic import failed after all retries",{error:t.message,stack:t.stack,attempts:e+1});const s=new Error(`Failed to load module after ${e+1} attempts. This usually means the production server is misconfigured or the build is incomplete. Original error: ${t.message}`);throw s.originalError=t,s.isModuleLoadError=!0,s}let Wa=!1,Kn=null;async function _a(){if(Wa){zt.debug("‚úÖ FontAwesome already loaded");return}return Kn?(zt.debug("‚è≥ FontAwesome loading in progress, waiting..."),Kn):(zt.info("üì¶ Loading FontAwesome CSS..."),Kn=Ws(()=>ki(()=>import("./index-BrdfL8RF.js").then(n=>n.cA),__vite__mapDeps([0,1])),3,1e3).then(()=>{Wa=!0,zt.info("‚úÖ FontAwesome CSS loaded successfully")}).catch(n=>{throw zt.error("‚ùå Failed to load FontAwesome CSS:",n),Kn=null,n}),Kn)}function _s(n){const e=[];let i="";for(let t=0;t<n.length;t++){const s=n[t];if(s!==" ")if("+-*/()".includes(s))i&&(e.push(parseFloat(i)),i=""),e.push(s);else if(s>="0"&&s<="9"||s===".")i+=s;else throw new Error(`Invalid character in expression: ${s}`)}return i&&e.push(parseFloat(i)),e}function Ga(n){if(!n||typeof n!="string")throw new Error("Invalid expression");let e=n.trim();e=e.replace(/√∑/g,"/"),e=e.replace(/√ó/g,"*");const i=_s(e),t=[],s=[],l={"+":1,"-":1,"*":2,"/":2};for(const d of i)if(typeof d=="number")t.push(d);else if(d==="(")s.push(d);else if(d===")"){for(;s.length>0&&s[s.length-1]!=="(";)t.push(s.pop());if(s.length===0)throw new Error("Mismatched parentheses");s.pop()}else if("+-*/".includes(d)){for(;s.length>0&&s[s.length-1]!=="("&&l[s[s.length-1]]>=l[d];)t.push(s.pop());s.push(d)}for(;s.length>0;){const d=s.pop();if(d==="("||d===")")throw new Error("Mismatched parentheses");t.push(d)}const c=[];for(const d of t)if(typeof d=="number")c.push(d);else{if(c.length<2)throw new Error("Invalid expression");const b=c.pop(),C=c.pop();switch(d){case"+":c.push(C+b);break;case"-":c.push(C-b);break;case"*":c.push(C*b);break;case"/":if(b===0)throw new Error("Division by zero");c.push(C/b);break;default:throw new Error(`Unknown operator: ${d}`)}}if(c.length!==1)throw new Error("Invalid expression");return c[0]}const Xa=50,Ja=20,Gs=["#FFE5E5","#E5F0FF","#FFF4E5","#E5FFE5","#FFE5FF","#E5FFFF","#FFF0E5","#F0E5FF"],Xs={SUM:n=>{var e;return(e=n.flat().map(i=>typeof i=="number"?i:parseFloat(i)))==null?void 0:e.reduce((i,t)=>i+t,0)},AVG:n=>{const e=n.flat().map(t=>typeof t=="number"?t:parseFloat(t)),i=e.reduce((t,s)=>t+s,0);return e.length>0?i/e.length:0},MIN:n=>Math.min(...n.flat().map(e=>typeof e=="number"?e:parseFloat(e))),MAX:n=>Math.max(...n.flat().map(e=>typeof e=="number"?e:parseFloat(e))),COUNT:n=>n.flat().length,IF:([n,e,i])=>n?e:i,NUMBER:([n])=>isNaN(parseFloat(n))?0:parseFloat(n)},Js=["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫","–í—Ç–æ—Ä–Ω–∏–∫","–°—Ä–µ–¥–∞","–ß–µ—Ç–≤–µ—Ä–≥","–ü—è—Ç–Ω–∏—Ü–∞","–°—É–±–±–æ—Ç–∞","–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ"],Zs=["–ü–Ω","–í—Ç","–°—Ä","–ß—Ç","–ü—Ç","–°–±","–í—Å"],Qs=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],$s=["–Ø–Ω–≤–∞—Ä—å","–§–µ–≤—Ä–∞–ª—å","–ú–∞—Ä—Ç","–ê–ø—Ä–µ–ª—å","–ú–∞–π","–ò—é–Ω—å","–ò—é–ª—å","–ê–≤–≥—É—Å—Ç","–°–µ–Ω—Ç—è–±—Ä—å","–û–∫—Ç—è–±—Ä—å","–ù–æ—è–±—Ä—å","–î–µ–∫–∞–±—Ä—å"],ed=["January","February","March","April","May","June","July","August","September","October","November","December"],td=(n,e)=>{if(!n)return"";const i=new Date(n*1e3);return e.replace("dd",String(i.getDate()).padStart(2,"0")).replace("MM",String(i.getMonth()+1).padStart(2,"0")).replace("yyyy",i.getFullYear()).replace("HH",String(i.getHours()).padStart(2,"0")).replace("mm",String(i.getMinutes()).padStart(2,"0")).replace("ss",String(i.getSeconds()).padStart(2,"0"))},So=n=>{const e=Math.abs(n)%100,i=e%10;return e>10&&e<20?"–∑–∞–ø–∏—Å–µ–π":i>1&&i<5?"–∑–∞–ø–∏—Å–∏":i===1?"–∑–∞–ø–∏—Å—å":"–∑–∞–ø–∏—Å–µ–π"},nd=n=>{const e=parseInt(n)||0;return e===0?"badge-empty":e<=3?"badge-few":e<=10?"badge-some":"badge-many"},id=(n,e)=>{const i=parseInt(n)||0;return e&&e.length<=12?e:So(i)},ld=n=>{const e=Date.now()-n,i=Math.floor(e/1e3),t=Math.floor(i/60),s=Math.floor(t/60);return s>=24?"—Å–µ–≥–æ–¥–Ω—è":s>=1?`${s} —á –Ω–∞–∑–∞–¥`:t>=1?`${t} –º–∏–Ω –Ω–∞–∑–∞–¥`:`${i} —Å–µ–∫ –Ω–∞–∑–∞–¥`},ad=n=>n==null?"":String(n).toLowerCase().trim().replace(/\s+/g," ");var To={name:"CalendarIcon",extends:ws};function od(n){return ud(n)||dd(n)||sd(n)||rd()}function rd(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sd(n,e){if(n){if(typeof n=="string")return Fl(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Fl(n,e):void 0}}function dd(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ud(n){if(Array.isArray(n))return Fl(n)}function Fl(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,t=Array(e);i<e;i++)t[i]=n[i];return t}function cd(n,e,i,t,s,l){return f(),I("svg",U({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),od(e[0]||(e[0]=[o("path",{d:"M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z",fill:"currentColor"},null,-1)])),16)}To.render=cd;var pd=`
    .p-datepicker {
        display: inline-flex;
        max-width: 100%;
    }

    .p-datepicker:has(.p-datepicker-dropdown) .p-datepicker-input {
        border-start-end-radius: 0;
        border-end-end-radius: 0;
    }

    .p-datepicker-dropdown {
        cursor: pointer;
        display: inline-flex;
        user-select: none;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        width: dt('datepicker.dropdown.width');
        border-start-end-radius: dt('datepicker.dropdown.border.radius');
        border-end-end-radius: dt('datepicker.dropdown.border.radius');
        background: dt('datepicker.dropdown.background');
        border: 1px solid dt('datepicker.dropdown.border.color');
        border-inline-start: 0 none;
        color: dt('datepicker.dropdown.color');
        transition:
            background dt('datepicker.transition.duration'),
            color dt('datepicker.transition.duration'),
            border-color dt('datepicker.transition.duration'),
            outline-color dt('datepicker.transition.duration');
        outline-color: transparent;
    }

    .p-datepicker-dropdown:not(:disabled):hover {
        background: dt('datepicker.dropdown.hover.background');
        border-color: dt('datepicker.dropdown.hover.border.color');
        color: dt('datepicker.dropdown.hover.color');
    }

    .p-datepicker-dropdown:not(:disabled):active {
        background: dt('datepicker.dropdown.active.background');
        border-color: dt('datepicker.dropdown.active.border.color');
        color: dt('datepicker.dropdown.active.color');
    }

    .p-datepicker-dropdown:focus-visible {
        box-shadow: dt('datepicker.dropdown.focus.ring.shadow');
        outline: dt('datepicker.dropdown.focus.ring.width') dt('datepicker.dropdown.focus.ring.style') dt('datepicker.dropdown.focus.ring.color');
        outline-offset: dt('datepicker.dropdown.focus.ring.offset');
    }

    .p-datepicker:has(.p-datepicker-input-icon-container) {
        position: relative;
    }

    .p-datepicker:has(.p-datepicker-input-icon-container) .p-datepicker-input {
        padding-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-datepicker-input-icon-container {
        cursor: pointer;
        position: absolute;
        top: 50%;
        inset-inline-end: dt('form.field.padding.x');
        margin-block-start: calc(-1 * (dt('icon.size') / 2));
        color: dt('datepicker.input.icon.color');
        line-height: 1;
        z-index: 1;
    }

    .p-datepicker:has(.p-datepicker-input:disabled) .p-datepicker-input-icon-container {
        cursor: default;
    }

    .p-datepicker-fluid {
        display: flex;
    }

    .p-datepicker-fluid:has(.p-datepicker-dropdown) .p-datepicker-input {
        flex: 1 1 auto;
        width: 1%;
    }

    .p-datepicker .p-datepicker-panel {
        min-width: 100%;
    }

    .p-datepicker-panel {
        width: auto;
        padding: dt('datepicker.panel.padding');
        background: dt('datepicker.panel.background');
        color: dt('datepicker.panel.color');
        border: 1px solid dt('datepicker.panel.border.color');
        border-radius: dt('datepicker.panel.border.radius');
        box-shadow: dt('datepicker.panel.shadow');
    }

    .p-datepicker-panel-inline {
        display: inline-block;
        overflow-x: auto;
        box-shadow: none;
    }

    .p-datepicker-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: dt('datepicker.header.padding');
        background: dt('datepicker.header.background');
        color: dt('datepicker.header.color');
        border-block-end: 1px solid dt('datepicker.header.border.color');
    }

    .p-datepicker-next-button:dir(rtl) {
        order: -1;
    }

    .p-datepicker-prev-button:dir(rtl) {
        order: 1;
    }

    .p-datepicker-title {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: dt('datepicker.title.gap');
        font-weight: dt('datepicker.title.font.weight');
    }

    .p-datepicker-select-year,
    .p-datepicker-select-month {
        border: none;
        background: transparent;
        margin: 0;
        cursor: pointer;
        font-weight: inherit;
        transition:
            background dt('datepicker.transition.duration'),
            color dt('datepicker.transition.duration'),
            border-color dt('datepicker.transition.duration'),
            outline-color dt('datepicker.transition.duration'),
            box-shadow dt('datepicker.transition.duration');
    }

    .p-datepicker-select-month {
        padding: dt('datepicker.select.month.padding');
        color: dt('datepicker.select.month.color');
        border-radius: dt('datepicker.select.month.border.radius');
    }

    .p-datepicker-select-year {
        padding: dt('datepicker.select.year.padding');
        color: dt('datepicker.select.year.color');
        border-radius: dt('datepicker.select.year.border.radius');
    }

    .p-datepicker-select-month:enabled:hover {
        background: dt('datepicker.select.month.hover.background');
        color: dt('datepicker.select.month.hover.color');
    }

    .p-datepicker-select-year:enabled:hover {
        background: dt('datepicker.select.year.hover.background');
        color: dt('datepicker.select.year.hover.color');
    }

    .p-datepicker-select-month:focus-visible,
    .p-datepicker-select-year:focus-visible {
        box-shadow: dt('datepicker.date.focus.ring.shadow');
        outline: dt('datepicker.date.focus.ring.width') dt('datepicker.date.focus.ring.style') dt('datepicker.date.focus.ring.color');
        outline-offset: dt('datepicker.date.focus.ring.offset');
    }

    .p-datepicker-calendar-container {
        display: flex;
    }

    .p-datepicker-calendar-container .p-datepicker-calendar {
        flex: 1 1 auto;
        border-inline-start: 1px solid dt('datepicker.group.border.color');
        padding-inline-end: dt('datepicker.group.gap');
        padding-inline-start: dt('datepicker.group.gap');
    }

    .p-datepicker-calendar-container .p-datepicker-calendar:first-child {
        padding-inline-start: 0;
        border-inline-start: 0 none;
    }

    .p-datepicker-calendar-container .p-datepicker-calendar:last-child {
        padding-inline-end: 0;
    }

    .p-datepicker-day-view {
        width: 100%;
        border-collapse: collapse;
        font-size: 1rem;
        margin: dt('datepicker.day.view.margin');
    }

    .p-datepicker-weekday-cell {
        padding: dt('datepicker.week.day.padding');
    }

    .p-datepicker-weekday {
        font-weight: dt('datepicker.week.day.font.weight');
        color: dt('datepicker.week.day.color');
    }

    .p-datepicker-day-cell {
        padding: dt('datepicker.date.padding');
    }

    .p-datepicker-day {
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        margin: 0 auto;
        overflow: hidden;
        position: relative;
        width: dt('datepicker.date.width');
        height: dt('datepicker.date.height');
        border-radius: dt('datepicker.date.border.radius');
        transition:
            background dt('datepicker.transition.duration'),
            color dt('datepicker.transition.duration'),
            border-color dt('datepicker.transition.duration'),
            box-shadow dt('datepicker.transition.duration'),
            outline-color dt('datepicker.transition.duration');
        border: 1px solid transparent;
        outline-color: transparent;
        color: dt('datepicker.date.color');
    }

    .p-datepicker-day:not(.p-datepicker-day-selected):not(.p-disabled):hover {
        background: dt('datepicker.date.hover.background');
        color: dt('datepicker.date.hover.color');
    }

    .p-datepicker-day:focus-visible {
        box-shadow: dt('datepicker.date.focus.ring.shadow');
        outline: dt('datepicker.date.focus.ring.width') dt('datepicker.date.focus.ring.style') dt('datepicker.date.focus.ring.color');
        outline-offset: dt('datepicker.date.focus.ring.offset');
    }

    .p-datepicker-day-selected {
        background: dt('datepicker.date.selected.background');
        color: dt('datepicker.date.selected.color');
    }

    .p-datepicker-day-selected-range {
        background: dt('datepicker.date.range.selected.background');
        color: dt('datepicker.date.range.selected.color');
    }

    .p-datepicker-today > .p-datepicker-day {
        background: dt('datepicker.today.background');
        color: dt('datepicker.today.color');
    }

    .p-datepicker-today > .p-datepicker-day-selected {
        background: dt('datepicker.date.selected.background');
        color: dt('datepicker.date.selected.color');
    }

    .p-datepicker-today > .p-datepicker-day-selected-range {
        background: dt('datepicker.date.range.selected.background');
        color: dt('datepicker.date.range.selected.color');
    }

    .p-datepicker-weeknumber {
        text-align: center;
    }

    .p-datepicker-month-view {
        margin: dt('datepicker.month.view.margin');
    }

    .p-datepicker-month {
        width: 33.3%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        overflow: hidden;
        position: relative;
        padding: dt('datepicker.month.padding');
        transition:
            background dt('datepicker.transition.duration'),
            color dt('datepicker.transition.duration'),
            border-color dt('datepicker.transition.duration'),
            box-shadow dt('datepicker.transition.duration'),
            outline-color dt('datepicker.transition.duration');
        border-radius: dt('datepicker.month.border.radius');
        outline-color: transparent;
        color: dt('datepicker.date.color');
    }

    .p-datepicker-month:not(.p-disabled):not(.p-datepicker-month-selected):hover {
        color: dt('datepicker.date.hover.color');
        background: dt('datepicker.date.hover.background');
    }

    .p-datepicker-month-selected {
        color: dt('datepicker.date.selected.color');
        background: dt('datepicker.date.selected.background');
    }

    .p-datepicker-month:not(.p-disabled):focus-visible {
        box-shadow: dt('datepicker.date.focus.ring.shadow');
        outline: dt('datepicker.date.focus.ring.width') dt('datepicker.date.focus.ring.style') dt('datepicker.date.focus.ring.color');
        outline-offset: dt('datepicker.date.focus.ring.offset');
    }

    .p-datepicker-year-view {
        margin: dt('datepicker.year.view.margin');
    }

    .p-datepicker-year {
        width: 50%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        overflow: hidden;
        position: relative;
        padding: dt('datepicker.year.padding');
        transition:
            background dt('datepicker.transition.duration'),
            color dt('datepicker.transition.duration'),
            border-color dt('datepicker.transition.duration'),
            box-shadow dt('datepicker.transition.duration'),
            outline-color dt('datepicker.transition.duration');
        border-radius: dt('datepicker.year.border.radius');
        outline-color: transparent;
        color: dt('datepicker.date.color');
    }

    .p-datepicker-year:not(.p-disabled):not(.p-datepicker-year-selected):hover {
        color: dt('datepicker.date.hover.color');
        background: dt('datepicker.date.hover.background');
    }

    .p-datepicker-year-selected {
        color: dt('datepicker.date.selected.color');
        background: dt('datepicker.date.selected.background');
    }

    .p-datepicker-year:not(.p-disabled):focus-visible {
        box-shadow: dt('datepicker.date.focus.ring.shadow');
        outline: dt('datepicker.date.focus.ring.width') dt('datepicker.date.focus.ring.style') dt('datepicker.date.focus.ring.color');
        outline-offset: dt('datepicker.date.focus.ring.offset');
    }

    .p-datepicker-buttonbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: dt('datepicker.buttonbar.padding');
        border-block-start: 1px solid dt('datepicker.buttonbar.border.color');
    }

    .p-datepicker-buttonbar .p-button {
        width: auto;
    }

    .p-datepicker-time-picker {
        display: flex;
        justify-content: center;
        align-items: center;
        border-block-start: 1px solid dt('datepicker.time.picker.border.color');
        padding: 0;
        gap: dt('datepicker.time.picker.gap');
    }

    .p-datepicker-calendar-container + .p-datepicker-time-picker {
        padding: dt('datepicker.time.picker.padding');
    }

    .p-datepicker-time-picker > div {
        display: flex;
        align-items: center;
        flex-direction: column;
        gap: dt('datepicker.time.picker.button.gap');
    }

    .p-datepicker-time-picker span {
        font-size: 1rem;
    }

    .p-datepicker-timeonly .p-datepicker-time-picker {
        border-block-start: 0 none;
    }

    .p-datepicker-time-picker:dir(rtl) {
        flex-direction: row-reverse;
    }

    .p-datepicker:has(.p-inputtext-sm) .p-datepicker-dropdown {
        width: dt('datepicker.dropdown.sm.width');
    }

    .p-datepicker:has(.p-inputtext-sm) .p-datepicker-dropdown .p-icon,
    .p-datepicker:has(.p-inputtext-sm) .p-datepicker-input-icon {
        font-size: dt('form.field.sm.font.size');
        width: dt('form.field.sm.font.size');
        height: dt('form.field.sm.font.size');
    }

    .p-datepicker:has(.p-inputtext-lg) .p-datepicker-dropdown {
        width: dt('datepicker.dropdown.lg.width');
    }

    .p-datepicker:has(.p-inputtext-lg) .p-datepicker-dropdown .p-icon,
    .p-datepicker:has(.p-inputtext-lg) .p-datepicker-input-icon {
        font-size: dt('form.field.lg.font.size');
        width: dt('form.field.lg.font.size');
        height: dt('form.field.lg.font.size');
    }

    .p-datepicker-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
        cursor: pointer;
        color: dt('form.field.icon.color');
        inset-inline-end: dt('form.field.padding.x');
    }

    .p-datepicker:has(.p-datepicker-dropdown) .p-datepicker-clear-icon {
        inset-inline-end: calc(dt('datepicker.dropdown.width') + dt('form.field.padding.x'));
    }

    .p-datepicker:has(.p-datepicker-input-icon-container) .p-datepicker-clear-icon {
        inset-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-datepicker:has(.p-datepicker-clear-icon) .p-datepicker-input {
        padding-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-datepicker:has(.p-datepicker-input-icon-container):has(.p-datepicker-clear-icon) .p-datepicker-input {
        padding-inline-end: calc((dt('form.field.padding.x') * 3) + calc(dt('icon.size') * 2));
    }

    .p-inputgroup .p-datepicker-dropdown {
        border-radius: 0;
    }

    .p-inputgroup > .p-datepicker:last-child:has(.p-datepicker-dropdown) > .p-datepicker-input {
        border-start-end-radius: 0;
        border-end-end-radius: 0;
    }

    .p-inputgroup > .p-datepicker:last-child .p-datepicker-dropdown {
        border-start-end-radius: dt('datepicker.dropdown.border.radius');
        border-end-end-radius: dt('datepicker.dropdown.border.radius');
    }
`,fd={root:function(e){var i=e.props;return{position:i.appendTo==="self"||i.showClear?"relative":void 0}}},md={root:function(e){var i=e.instance,t=e.state;return["p-datepicker p-component p-inputwrapper",{"p-invalid":i.$invalid,"p-inputwrapper-filled":i.$filled,"p-inputwrapper-focus":t.focused||t.overlayVisible,"p-focus":t.focused||t.overlayVisible,"p-datepicker-fluid":i.$fluid}]},pcInputText:"p-datepicker-input",clearIcon:"p-datepicker-clear-icon",dropdown:"p-datepicker-dropdown",inputIconContainer:"p-datepicker-input-icon-container",inputIcon:"p-datepicker-input-icon",panel:function(e){var i=e.props;return["p-datepicker-panel p-component",{"p-datepicker-panel-inline":i.inline,"p-disabled":i.disabled,"p-datepicker-timeonly":i.timeOnly}]},calendarContainer:"p-datepicker-calendar-container",calendar:"p-datepicker-calendar",header:"p-datepicker-header",pcPrevButton:"p-datepicker-prev-button",title:"p-datepicker-title",selectMonth:"p-datepicker-select-month",selectYear:"p-datepicker-select-year",decade:"p-datepicker-decade",pcNextButton:"p-datepicker-next-button",dayView:"p-datepicker-day-view",weekHeader:"p-datepicker-weekheader p-disabled",weekNumber:"p-datepicker-weeknumber",weekLabelContainer:"p-datepicker-weeklabel-container p-disabled",weekDayCell:"p-datepicker-weekday-cell",weekDay:"p-datepicker-weekday",dayCell:function(e){var i=e.date;return["p-datepicker-day-cell",{"p-datepicker-other-month":i.otherMonth,"p-datepicker-today":i.today}]},day:function(e){var i=e.instance,t=e.props,s=e.state,l=e.date,c="";if(i.isRangeSelection()&&i.isSelected(l)&&l.selectable){var d=typeof s.rawValue[0]=="string"?i.parseValue(s.rawValue[0])[0]:s.rawValue[0],b=typeof s.rawValue[1]=="string"?i.parseValue(s.rawValue[1])[0]:s.rawValue[1];c=i.isDateEquals(d,l)||i.isDateEquals(b,l)?"p-datepicker-day-selected":"p-datepicker-day-selected-range"}return["p-datepicker-day",{"p-datepicker-day-selected":!i.isRangeSelection()&&i.isSelected(l)&&l.selectable,"p-disabled":t.disabled||!l.selectable},c]},monthView:"p-datepicker-month-view",month:function(e){var i=e.instance,t=e.props,s=e.month,l=e.index;return["p-datepicker-month",{"p-datepicker-month-selected":i.isMonthSelected(l),"p-disabled":t.disabled||!s.selectable}]},yearView:"p-datepicker-year-view",year:function(e){var i=e.instance,t=e.props,s=e.year;return["p-datepicker-year",{"p-datepicker-year-selected":i.isYearSelected(s.value),"p-disabled":t.disabled||!s.selectable}]},timePicker:"p-datepicker-time-picker",hourPicker:"p-datepicker-hour-picker",pcIncrementButton:"p-datepicker-increment-button",pcDecrementButton:"p-datepicker-decrement-button",separator:"p-datepicker-separator",minutePicker:"p-datepicker-minute-picker",secondPicker:"p-datepicker-second-picker",ampmPicker:"p-datepicker-ampm-picker",buttonbar:"p-datepicker-buttonbar",pcTodayButton:"p-datepicker-today-button",pcClearButton:"p-datepicker-clear-button"},hd=Hl.extend({name:"datepicker",style:pd,classes:md,inlineStyles:fd}),vd={name:"BaseDatePicker",extends:bo,props:{selectionMode:{type:String,default:"single"},dateFormat:{type:String,default:null},updateModelType:{type:String,default:"date"},inline:{type:Boolean,default:!1},showOtherMonths:{type:Boolean,default:!0},selectOtherMonths:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},iconDisplay:{type:String,default:"button"},icon:{type:String,default:void 0},prevIcon:{type:String,default:void 0},nextIcon:{type:String,default:void 0},incrementIcon:{type:String,default:void 0},decrementIcon:{type:String,default:void 0},numberOfMonths:{type:Number,default:1},responsiveOptions:Array,breakpoint:{type:String,default:"769px"},view:{type:String,default:"date"},minDate:{type:Date,value:null},maxDate:{type:Date,value:null},disabledDates:{type:Array,value:null},disabledDays:{type:Array,value:null},maxDateCount:{type:Number,value:null},showOnFocus:{type:Boolean,default:!0},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},showButtonBar:{type:Boolean,default:!1},shortYearCutoff:{type:String,default:"+10"},showTime:{type:Boolean,default:!1},timeOnly:{type:Boolean,default:!1},hourFormat:{type:String,default:"24"},stepHour:{type:Number,default:1},stepMinute:{type:Number,default:1},stepSecond:{type:Number,default:1},showSeconds:{type:Boolean,default:!1},hideOnDateTimeSelect:{type:Boolean,default:!1},hideOnRangeSelection:{type:Boolean,default:!1},timeSeparator:{type:String,default:":"},showWeek:{type:Boolean,default:!1},manualInput:{type:Boolean,default:!0},showClear:{type:Boolean,default:!1},appendTo:{type:[String,Object],default:"body"},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:null},required:{type:Boolean,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},todayButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,size:"small"}}},clearButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,size:"small"}}},navigatorButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,rounded:!0}}},timepickerButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,rounded:!0}}},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:hd,provide:function(){return{$pcDatePicker:this,$parentInstance:this}}};function Za(n,e,i){return(e=gd(e))in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function gd(n){var e=bd(n,"string");return Cn(e)=="symbol"?e:e+""}function bd(n,e){if(Cn(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var t=i.call(n,e);if(Cn(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Cn(n){"@babel/helpers - typeof";return Cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cn(n)}function Ol(n){return kd(n)||wd(n)||Mo(n)||yd()}function yd(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wd(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function kd(n){if(Array.isArray(n))return Al(n)}function Ll(n,e){var i=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!i){if(Array.isArray(n)||(i=Mo(n))||e){i&&(n=i);var t=0,s=function(){};return{s,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(C){throw C},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,c=!0,d=!1;return{s:function(){i=i.call(n)},n:function(){var C=i.next();return c=C.done,C},e:function(C){d=!0,l=C},f:function(){try{c||i.return==null||i.return()}finally{if(d)throw l}}}}function Mo(n,e){if(n){if(typeof n=="string")return Al(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Al(n,e):void 0}}function Al(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,t=Array(e);i<e;i++)t[i]=n[i];return t}var Eo={name:"DatePicker",extends:vd,inheritAttrs:!1,emits:["show","hide","input","month-change","year-change","date-select","today-click","clear-click","focus","blur","keydown"],inject:{$pcFluid:{default:null}},navigationState:null,timePickerChange:!1,scrollHandler:null,outsideClickListener:null,resizeListener:null,matchMediaListener:null,matchMediaOrientationListener:null,overlay:null,input:null,previousButton:null,nextButton:null,timePickerTimer:null,preventFocus:!1,typeUpdate:!1,data:function(){return{currentMonth:null,currentYear:null,currentHour:null,currentMinute:null,currentSecond:null,pm:null,focused:!1,overlayVisible:!1,currentView:this.view,query:null,queryMatches:!1,queryOrientation:null,focusedDateIndex:0,rawValue:null}},watch:{modelValue:{immediate:!0,handler:function(e){var i;this.updateCurrentMetaData(),this.rawValue=typeof e=="string"?this.parseValue(e):e,!this.typeUpdate&&!this.inline&&this.input&&(this.input.value=this.formatValue(this.rawValue)),this.typeUpdate=!1,(i=this.$refs.clearIcon)!==null&&i!==void 0&&(i=i.$el)!==null&&i!==void 0&&i.style&&(this.$refs.clearIcon.$el.style.display=Ii(e)?"none":"block")}},showTime:function(){this.updateCurrentMetaData()},minDate:function(){this.updateCurrentMetaData()},maxDate:function(){this.updateCurrentMetaData()},months:function(){this.overlay&&(this.focused||(this.inline&&(this.preventFocus=!0),setTimeout(this.updateFocus,0)))},numberOfMonths:function(){this.destroyResponsiveStyleElement(),this.createResponsiveStyle()},responsiveOptions:function(){this.destroyResponsiveStyleElement(),this.createResponsiveStyle()},currentView:function(){var e=this;Promise.resolve(null).then(function(){return e.alignOverlay()})},view:function(e){this.currentView=e}},created:function(){this.updateCurrentMetaData()},mounted:function(){if(this.createResponsiveStyle(),this.bindMatchMediaListener(),this.bindMatchMediaOrientationListener(),this.inline)this.disabled||(this.preventFocus=!0,this.initFocusableCell());else{var e;this.input.value=this.inputFieldValue,(e=this.$refs.clearIcon)!==null&&e!==void 0&&(e=e.$el)!==null&&e!==void 0&&e.style&&(this.$refs.clearIcon.$el.style.display=this.$filled?"block":"none")}},updated:function(){this.overlay&&(this.preventFocus=!0,setTimeout(this.updateFocus,0)),this.input&&this.selectionStart!=null&&this.selectionEnd!=null&&(this.input.selectionStart=this.selectionStart,this.input.selectionEnd=this.selectionEnd,this.selectionStart=null,this.selectionEnd=null)},beforeUnmount:function(){this.timePickerTimer&&clearTimeout(this.timePickerTimer),this.destroyResponsiveStyleElement(),this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindMatchMediaListener(),this.unbindMatchMediaOrientationListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&In.clear(this.overlay),this.overlay=null},methods:{isSelected:function(e){if(this.rawValue){if(this.isSingleSelection())return this.isDateEquals(this.parseValueForComparison(this.rawValue),e);if(this.isMultipleSelection()){var i=!1,t=Ll(this.rawValue),s;try{for(t.s();!(s=t.n()).done;){var l=s.value;if(i=this.isDateEquals(this.parseValueForComparison(l),e),i)break}}catch(b){t.e(b)}finally{t.f()}return i}else if(this.isRangeSelection()){var c=this.parseValueForComparison(this.rawValue[0]);if(this.rawValue[1]){var d=this.parseValueForComparison(this.rawValue[1]);return this.isDateEquals(c,e)||this.isDateEquals(d,e)||this.isDateBetween(c,d,e)}else return this.isDateEquals(c,e)}}return!1},isMonthSelected:function(e){var i=this;if(this.isMultipleSelection()){var t;return(t=this.rawValue)===null||t===void 0?void 0:t.some(function(x){var A=i.parseValueForComparison(x);return A.getMonth()===e&&A.getFullYear()===i.currentYear})}else if(this.isRangeSelection()){var s,l,c=(s=this.rawValue)!==null&&s!==void 0&&s[0]?this.parseValueForComparison(this.rawValue[0]):null,d=(l=this.rawValue)!==null&&l!==void 0&&l[1]?this.parseValueForComparison(this.rawValue[1]):null;if(d){var b=new Date(this.currentYear,e,1),C=new Date(c.getFullYear(),c.getMonth(),1),R=new Date(d.getFullYear(),d.getMonth(),1);return b>=C&&b<=R}else return(c==null?void 0:c.getFullYear())===this.currentYear&&(c==null?void 0:c.getMonth())===e}else{var m,B;return((m=this.rawValue)===null||m===void 0?void 0:m.getMonth())===e&&((B=this.rawValue)===null||B===void 0?void 0:B.getFullYear())===this.currentYear}},isYearSelected:function(e){var i=this;if(this.isMultipleSelection()){var t;return(t=this.rawValue)===null||t===void 0?void 0:t.some(function(m){var B=i.parseValueForComparison(m);return B.getFullYear()===e})}else if(this.isRangeSelection()){var s,l,c=(s=this.rawValue)!==null&&s!==void 0&&s[0]?this.parseValueForComparison(this.rawValue[0]):null,d=(l=this.rawValue)!==null&&l!==void 0&&l[1]?this.parseValueForComparison(this.rawValue[1]):null,b=c?c.getFullYear():null,C=d?d.getFullYear():null;return b===e||C===e||b<e&&C>e}else{var R;return((R=this.rawValue)===null||R===void 0?void 0:R.getFullYear())===e}},isDateEquals:function(e,i){return e?e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year:!1},isDateBetween:function(e,i,t){var s=!1,l=this.parseValueForComparison(e),c=this.parseValueForComparison(i);if(l&&c){var d=new Date(t.year,t.month,t.day);return l.getTime()<=d.getTime()&&c.getTime()>=d.getTime()}return s},getFirstDayOfMonthIndex:function(e,i){var t=new Date;t.setDate(1),t.setMonth(e),t.setFullYear(i);var s=t.getDay()+this.sundayIndex;return s>=7?s-7:s},getDaysCountInMonth:function(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()},getDaysCountInPrevMonth:function(e,i){var t=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(t.month,t.year)},getPreviousMonthAndYear:function(e,i){var t,s;return e===0?(t=11,s=i-1):(t=e-1,s=i),{month:t,year:s}},getNextMonthAndYear:function(e,i){var t,s;return e===11?(t=0,s=i+1):(t=e+1,s=i),{month:t,year:s}},daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},isToday:function(e,i,t,s){return e.getDate()===i&&e.getMonth()===t&&e.getFullYear()===s},isSelectable:function(e,i,t,s){var l=!0,c=!0,d=!0,b=!0;return s&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>t||this.minDate.getFullYear()===t&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(l=!1),this.maxDate&&(this.maxDate.getFullYear()<t||this.maxDate.getFullYear()===t&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(c=!1),this.disabledDates&&(d=!this.isDateDisabled(e,i,t)),this.disabledDays&&(b=!this.isDayDisabled(e,i,t)),l&&c&&d&&b)},onOverlayEnter:function(e){var i=this.inline?void 0:{position:"absolute",top:"0"};Co(e,i),this.autoZIndex&&In.set("overlay",e,this.baseZIndex||this.$primevue.config.zIndex.overlay),this.$attrSelector&&e.setAttribute(this.$attrSelector,""),this.alignOverlay(),this.$emit("show")},onOverlayEnterComplete:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener()},onOverlayAfterLeave:function(e){this.autoZIndex&&In.clear(e)},onOverlayLeave:function(){this.currentView=this.view,this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onPrevButtonClick:function(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)},onNextButtonClick:function(e){this.navigationState={backward:!1,button:!0},this.navForward(e)},navBackward:function(e){e.preventDefault(),this.isEnabled()&&(this.currentView==="month"?(this.decrementYear(),this.$emit("year-change",{month:this.currentMonth,year:this.currentYear})):this.currentView==="year"?this.decrementDecade():e.shiftKey?this.decrementYear():(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.$emit("month-change",{month:this.currentMonth+1,year:this.currentYear})))},navForward:function(e){e.preventDefault(),this.isEnabled()&&(this.currentView==="month"?(this.incrementYear(),this.$emit("year-change",{month:this.currentMonth,year:this.currentYear})):this.currentView==="year"?this.incrementDecade():e.shiftKey?this.incrementYear():(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.$emit("month-change",{month:this.currentMonth+1,year:this.currentYear})))},decrementYear:function(){this.currentYear--},decrementDecade:function(){this.currentYear=this.currentYear-10},incrementYear:function(){this.currentYear++},incrementDecade:function(){this.currentYear=this.currentYear+10},switchToMonthView:function(e){this.currentView="month",setTimeout(this.updateFocus,0),e.preventDefault()},switchToYearView:function(e){this.currentView="year",setTimeout(this.updateFocus,0),e.preventDefault()},isEnabled:function(){return!this.disabled&&!this.readonly},updateCurrentTimeMeta:function(e){var i=e.getHours();this.hourFormat==="12"&&(this.pm=i>11,i>=12&&(i=i==12?12:i-12)),this.currentHour=Math.floor(i/this.stepHour)*this.stepHour,this.currentMinute=Math.floor(e.getMinutes()/this.stepMinute)*this.stepMinute,this.currentSecond=Math.floor(e.getSeconds()/this.stepSecond)*this.stepSecond},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(i){e.overlayVisible&&e.isOutsideClicked(i)&&(e.overlayVisible=!1)},document.addEventListener("mousedown",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("mousedown",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Do(this.$refs.container,function(){e.overlayVisible&&(e.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!Io()&&(e.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindMatchMediaListener:function(){var e=this;if(!this.matchMediaListener){var i=matchMedia("(max-width: ".concat(this.breakpoint,")"));this.query=i,this.queryMatches=i.matches,this.matchMediaListener=function(){e.queryMatches=i.matches,e.mobileActive=!1},this.query.addEventListener("change",this.matchMediaListener)}},unbindMatchMediaListener:function(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)},bindMatchMediaOrientationListener:function(){var e=this;if(!this.matchMediaOrientationListener){var i=matchMedia("(orientation: portrait)");this.queryOrientation=i,this.matchMediaOrientationListener=function(){e.alignOverlay()},this.queryOrientation.addEventListener("change",this.matchMediaOrientationListener)}},unbindMatchMediaOrientationListener:function(){this.matchMediaOrientationListener&&(this.queryOrientation.removeEventListener("change",this.matchMediaOrientationListener),this.queryOrientation=null,this.matchMediaOrientationListener=null)},isOutsideClicked:function(e){var i=e.composedPath();return!(this.$el.isSameNode(e.target)||this.isNavIconClicked(e)||i.includes(this.$el)||i.includes(this.overlay))},isNavIconClicked:function(e){return this.previousButton&&(this.previousButton.isSameNode(e.target)||this.previousButton.contains(e.target))||this.nextButton&&(this.nextButton.isSameNode(e.target)||this.nextButton.contains(e.target))},alignOverlay:function(){this.overlay&&(this.appendTo==="self"||this.inline?wo(this.overlay,this.$el):(this.view==="date"?(this.overlay.style.width=Di(this.overlay)+"px",this.overlay.style.minWidth=Di(this.$el)+"px"):this.overlay.style.width=Di(this.$el)+"px",ko(this.overlay,this.$el)))},onButtonClick:function(){this.isEnabled()&&(this.overlayVisible?this.overlayVisible=!1:(this.input.focus(),this.overlayVisible=!0))},isDateDisabled:function(e,i,t){if(this.disabledDates){var s=Ll(this.disabledDates),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;if(c.getFullYear()===t&&c.getMonth()===i&&c.getDate()===e)return!0}}catch(d){s.e(d)}finally{s.f()}}return!1},isDayDisabled:function(e,i,t){if(this.disabledDays){var s=new Date(t,i,e),l=s.getDay();return this.disabledDays.indexOf(l)!==-1}return!1},onMonthDropdownChange:function(e){this.currentMonth=parseInt(e),this.$emit("month-change",{month:this.currentMonth+1,year:this.currentYear})},onYearDropdownChange:function(e){this.currentYear=parseInt(e),this.$emit("year-change",{month:this.currentMonth+1,year:this.currentYear})},onDateSelect:function(e,i){var t=this;if(!(this.disabled||!i.selectable)){if(on(this.overlay,'table td span:not([data-p-disabled="true"])').forEach(function(l){return l.tabIndex=-1}),e&&e.currentTarget.focus(),this.isMultipleSelection()&&this.isSelected(i)){var s=this.rawValue.filter(function(l){return!t.isDateEquals(t.parseValueForComparison(l),i)});this.updateModel(s)}else this.shouldSelectDate(i)&&(i.otherMonth?(this.currentMonth=i.month,this.currentYear=i.year,this.selectDate(i)):this.selectDate(i));this.isSingleSelection()&&(!this.showTime||this.hideOnDateTimeSelect)&&(this.input&&this.input.focus(),setTimeout(function(){t.overlayVisible=!1},150))}},selectDate:function(e){var i=this,t=new Date(e.year,e.month,e.day);this.showTime&&(this.hourFormat==="12"&&this.currentHour!==12&&this.pm?t.setHours(this.currentHour+12):t.setHours(this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.showSeconds?this.currentSecond:0)),this.minDate&&this.minDate>t&&(t=this.minDate,this.currentHour=t.getHours(),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds()),this.maxDate&&this.maxDate<t&&(t=this.maxDate,this.currentHour=t.getHours(),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds());var s=null;if(this.isSingleSelection())s=t;else if(this.isMultipleSelection())s=this.rawValue?[].concat(Ol(this.rawValue),[t]):[t];else if(this.isRangeSelection())if(this.rawValue&&this.rawValue.length){var l=this.parseValueForComparison(this.rawValue[0]),c=this.rawValue[1];!c&&t.getTime()>=l.getTime()?(c=t,this.focusedDateIndex=1):(l=t,c=null,this.focusedDateIndex=0),s=[l,c]}else s=[t,null],this.focusedDateIndex=0;s!==null&&this.updateModel(s),this.isRangeSelection()&&this.hideOnRangeSelection&&s[1]!==null&&setTimeout(function(){i.overlayVisible=!1},150),this.$emit("date-select",t)},updateModel:function(e){var i=this;if(this.rawValue=e,this.updateModelType==="date")if(this.isSingleSelection())this.writeValue(e);else{var t=null;Array.isArray(e)&&(t=e.map(function(c){return i.parseValueForComparison(c)})),this.writeValue(t)}else if(this.updateModelType=="string"){if(this.isSingleSelection())this.writeValue(this.formatDateTime(e));else if(this.isMultipleSelection()){var s=null;Array.isArray(e)&&(s=e.map(function(c){return i.formatDateTime(c)})),this.writeValue(s)}else if(this.isRangeSelection()){var l=null;Array.isArray(e)&&(l=e.map(function(c){return c==null?null:typeof c=="string"?c:i.formatDateTime(c)})),this.writeValue(l)}}},shouldSelectDate:function(){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.rawValue?this.rawValue.length:0):!0},isSingleSelection:function(){return this.selectionMode==="single"},isRangeSelection:function(){return this.selectionMode==="range"},isMultipleSelection:function(){return this.selectionMode==="multiple"},formatValue:function(e){if(typeof e=="string")return this.dateFormat?isNaN(new Date(e))?e:this.formatDate(new Date(e),this.dateFormat):e;var i="";if(e)try{if(this.isSingleSelection())i=this.formatDateTime(e);else if(this.isMultipleSelection())for(var t=0;t<e.length;t++){var s=typeof e[t]=="string"?this.formatDateTime(this.parseValueForComparison(e[t])):this.formatDateTime(e[t]);i+=s,t!==e.length-1&&(i+=", ")}else if(this.isRangeSelection()&&e&&e.length){var l=this.parseValueForComparison(e[0]),c=this.parseValueForComparison(e[1]);i=this.formatDateTime(l),c&&(i+=" - "+this.formatDateTime(c))}}catch{i=e}return i},formatDateTime:function(e){var i=null;return Ss(e)&&Zt(e)?this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.datePattern),this.showTime&&(i+=" "+this.formatTime(e))):this.updateModelType==="string"&&(i=e),i},formatDate:function(e,i){if(!e)return"";var t,s=function(R){var m=t+1<i.length&&i.charAt(t+1)===R;return m&&t++,m},l=function(R,m,B){var x=""+m;if(s(R))for(;x.length<B;)x="0"+x;return x},c=function(R,m,B,x){return s(R)?x[m]:B[m]},d="",b=!1;if(e)for(t=0;t<i.length;t++)if(b)i.charAt(t)==="'"&&!s("'")?b=!1:d+=i.charAt(t);else switch(i.charAt(t)){case"d":d+=l("d",e.getDate(),2);break;case"D":d+=c("D",e.getDay(),this.$primevue.config.locale.dayNamesShort,this.$primevue.config.locale.dayNames);break;case"o":d+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=l("m",e.getMonth()+1,2);break;case"M":d+=c("M",e.getMonth(),this.$primevue.config.locale.monthNamesShort,this.$primevue.config.locale.monthNames);break;case"y":d+=s("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=e.getTime()*1e4+this.ticksTo1970;break;case"'":s("'")?d+="'":b=!0;break;default:d+=i.charAt(t)}return d},formatTime:function(e){if(!e)return"";var i="",t=e.getHours(),s=e.getMinutes(),l=e.getSeconds();return this.hourFormat==="12"&&t>11&&t!==12&&(t-=12),this.hourFormat==="12"?i+=t===0?12:t<10?"0"+t:t:i+=t<10?"0"+t:t,i+=":",i+=s<10?"0"+s:s,this.showSeconds&&(i+=":",i+=l<10?"0"+l:l),this.hourFormat==="12"&&(i+=e.getHours()>11?" ".concat(this.$primevue.config.locale.pm):" ".concat(this.$primevue.config.locale.am)),i},onTodayButtonClick:function(e){var i=new Date,t={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(null,t),this.$emit("today-click",i),e.preventDefault()},onClearButtonClick:function(e){this.updateModel(null),this.overlayVisible=!1,this.$emit("clear-click",e),e.preventDefault()},onTimePickerElementMouseDown:function(e,i,t){this.isEnabled()&&(this.repeat(e,null,i,t),e.preventDefault())},onTimePickerElementMouseUp:function(e){this.isEnabled()&&(this.clearTimePickerTimer(),this.updateModelTime(),e.preventDefault())},onTimePickerElementMouseLeave:function(){this.clearTimePickerTimer()},onTimePickerElementKeyDown:function(e,i,t){switch(e.code){case"Enter":case"NumpadEnter":case"Space":this.isEnabled()&&(this.repeat(e,null,i,t),e.preventDefault());break}},onTimePickerElementKeyUp:function(e){switch(e.code){case"Enter":case"NumpadEnter":case"Space":this.isEnabled()&&(this.clearTimePickerTimer(),this.updateModelTime(),e.preventDefault());break}},repeat:function(e,i,t,s){var l=this,c=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(function(){l.repeat(e,100,t,s)},c),t){case 0:s===1?this.incrementHour(e):this.decrementHour(e);break;case 1:s===1?this.incrementMinute(e):this.decrementMinute(e);break;case 2:s===1?this.incrementSecond(e):this.decrementSecond(e);break}},convertTo24Hour:function(e,i){return this.hourFormat=="12"?e===12?i?12:0:i?e+12:e:e},validateTime:function(e,i,t,s){var l=this.viewDate,c=this.convertTo24Hour(e,s);this.isRangeSelection()&&(l=this.rawValue[1]||this.rawValue[0]),this.isMultipleSelection()&&(l=this.rawValue[this.rawValue.length-1]);var d=l?l.toDateString():null;return!(this.minDate&&d&&this.minDate.toDateString()===d&&(this.minDate.getHours()>c||this.minDate.getHours()===c&&(this.minDate.getMinutes()>i||this.minDate.getMinutes()===i&&this.minDate.getSeconds()>t))||this.maxDate&&d&&this.maxDate.toDateString()===d&&(this.maxDate.getHours()<c||this.maxDate.getHours()===c&&(this.maxDate.getMinutes()<i||this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<t)))},incrementHour:function(e){var i=this.currentHour,t=this.currentHour+Number(this.stepHour),s=this.pm;this.hourFormat=="24"?t=t>=24?t-24:t:this.hourFormat=="12"&&(i<12&&t>11&&(s=!this.pm),t=t>=13?t-12:t),this.validateTime(t,this.currentMinute,this.currentSecond,s)&&(this.currentHour=t,this.pm=s),e.preventDefault()},decrementHour:function(e){var i=this.currentHour-this.stepHour,t=this.pm;this.hourFormat=="24"?i=i<0?24+i:i:this.hourFormat=="12"&&(this.currentHour===12&&(t=!this.pm),i=i<=0?12+i:i),this.validateTime(i,this.currentMinute,this.currentSecond,t)&&(this.currentHour=i,this.pm=t),e.preventDefault()},incrementMinute:function(e){var i=this.currentMinute+Number(this.stepMinute);this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i>59?i-60:i),e.preventDefault()},decrementMinute:function(e){var i=this.currentMinute-this.stepMinute;i=i<0?60+i:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()},incrementSecond:function(e){var i=this.currentSecond+Number(this.stepSecond);this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i>59?i-60:i),e.preventDefault()},decrementSecond:function(e){var i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()},updateModelTime:function(){var e=this;this.timePickerChange=!0;var i=this.viewDate;this.isRangeSelection()&&(i=this.rawValue[this.focusedDateIndex]||this.rawValue[0]),this.isMultipleSelection()&&(i=this.rawValue[this.rawValue.length-1]),i=i?new Date(i.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?i.setHours(this.pm?12:0):i.setHours(this.pm?this.currentHour+12:this.currentHour):i.setHours(this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.focusedDateIndex===1&&this.rawValue[1]?i=[this.rawValue[0],i]:this.focusedDateIndex===0?i=[i,this.rawValue[1]]:i=[i,null]),this.isMultipleSelection()&&(i=[].concat(Ol(this.rawValue.slice(0,-1)),[i])),this.updateModel(i),this.$emit("date-select",i),setTimeout(function(){return e.timePickerChange=!1},0)},toggleAMPM:function(e){var i=this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,!this.pm);!i&&(this.maxDate||this.minDate)||(this.pm=!this.pm,this.updateModelTime(),e.preventDefault())},clearTimePickerTimer:function(){this.timePickerTimer&&clearInterval(this.timePickerTimer)},onMonthSelect:function(e,i){i.month;var t=i.index;this.view==="month"?this.onDateSelect(e,{year:this.currentYear,month:t,day:1,selectable:!0}):(this.currentMonth=t,this.currentView="date",this.$emit("month-change",{month:this.currentMonth+1,year:this.currentYear})),setTimeout(this.updateFocus,0)},onYearSelect:function(e,i){this.view==="year"?this.onDateSelect(e,{year:i.value,month:0,day:1,selectable:!0}):(this.currentYear=i.value,this.currentView="month",this.$emit("year-change",{month:this.currentMonth+1,year:this.currentYear})),setTimeout(this.updateFocus,0)},updateCurrentMetaData:function(){var e=this.viewDate;if(this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.showTime||this.timeOnly){var i=e;this.isRangeSelection()&&this.rawValue&&this.rawValue[this.focusedDateIndex]&&(i=this.rawValue[this.focusedDateIndex]),this.updateCurrentTimeMeta(i)}},isValidSelection:function(e){var i=this;if(e==null)return!0;var t=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(t=!1):e.every(function(s){return i.isSelectable(s.getDate(),s.getMonth(),s.getFullYear(),!1)})&&this.isRangeSelection()&&(t=e.length>1&&e[1]>=e[0]),t},parseValue:function(e){if(!e||e.trim().length===0)return null;var i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){var t=e.split(",");i=[];var s=Ll(t),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;i.push(this.parseDateTime(c.trim()))}}catch(C){s.e(C)}finally{s.f()}}else if(this.isRangeSelection()){var d=e.split(" - ");i=[];for(var b=0;b<d.length;b++)i[b]=this.parseDateTime(d[b].trim())}return i},parseValueForComparison:function(e){if(typeof e=="string"){var i=this.parseValue(e);return this.isSingleSelection()?i:i[0]}return e},parseDateTime:function(e){var i,t=e.match(/(?:(.+?) )?(\d{2}:\d{2}(?::\d{2})?)(?: (am|pm))?/);if(this.timeOnly)i=new Date,this.populateTime(i,t[2],t[3]);else{var s=this.datePattern;this.showTime?(i=this.parseDate(t[1],s),this.populateTime(i,t[2],t[3])):i=this.parseDate(e,s)}return i},populateTime:function(e,i,t){if(this.hourFormat=="12"&&!t)throw"Invalid Time";this.pm=t===this.$primevue.config.locale.pm||t===this.$primevue.config.locale.pm.toLowerCase();var s=this.parseTime(i);e.setHours(s.hour),e.setMinutes(s.minute),e.setSeconds(s.second)},parseTime:function(e){var i=e.split(":"),t=this.showSeconds?3:2,s=/^[0-9][0-9]$/;if(i.length!==t||!i[0].match(s)||!i[1].match(s)||this.showSeconds&&!i[2].match(s))throw"Invalid time";var l=parseInt(i[0]),c=parseInt(i[1]),d=this.showSeconds?parseInt(i[2]):null;if(isNaN(l)||isNaN(c)||l>23||c>59||this.hourFormat=="12"&&l>12||this.showSeconds&&(isNaN(d)||d>59))throw"Invalid time";return this.hourFormat=="12"&&l!==12&&this.pm?l+=12:this.hourFormat=="12"&&l==12&&!this.pm&&(l=0),{hour:l,minute:c,second:d}},parseDate:function(e,i){if(i==null||e==null)throw"Invalid arguments";if(e=Cn(e)==="object"?e.toString():e+"",e==="")return null;var t,s,l,c=0,d=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),b=-1,C=-1,R=-1,m=-1,B=!1,x,A=function(j){var w=t+1<i.length&&i.charAt(t+1)===j;return w&&t++,w},M=function(j){var w=A(j),le=j==="@"?14:j==="!"?20:j==="y"&&w?4:j==="o"?3:2,_=j==="y"?le:1,ue=new RegExp("^\\d{"+_+","+le+"}"),re=e.substring(c).match(ue);if(!re)throw"Missing number at position "+c;return c+=re[0].length,parseInt(re[0],10)},L=function(j,w,le){for(var _=-1,ue=A(j)?le:w,re=[],ie=0;ie<ue.length;ie++)re.push([ie,ue[ie]]);re.sort(function(oe,ge){return-(oe[1].length-ge[1].length)});for(var Se=0;Se<re.length;Se++){var ve=re[Se][1];if(e.substr(c,ve.length).toLowerCase()===ve.toLowerCase()){_=re[Se][0],c+=ve.length;break}}if(_!==-1)return _+1;throw"Unknown name at position "+c},P=function(){if(e.charAt(c)!==i.charAt(t))throw"Unexpected literal at position "+c;c++};for(this.currentView==="month"&&(R=1),this.currentView==="year"&&(R=1,C=1),t=0;t<i.length;t++)if(B)i.charAt(t)==="'"&&!A("'")?B=!1:P();else switch(i.charAt(t)){case"d":R=M("d");break;case"D":L("D",this.$primevue.config.locale.dayNamesShort,this.$primevue.config.locale.dayNames);break;case"o":m=M("o");break;case"m":C=M("m");break;case"M":C=L("M",this.$primevue.config.locale.monthNamesShort,this.$primevue.config.locale.monthNames);break;case"y":b=M("y");break;case"@":x=new Date(M("@")),b=x.getFullYear(),C=x.getMonth()+1,R=x.getDate();break;case"!":x=new Date((M("!")-this.ticksTo1970)/1e4),b=x.getFullYear(),C=x.getMonth()+1,R=x.getDate();break;case"'":A("'")?P():B=!0;break;default:P()}if(c<e.length&&(l=e.substr(c),!/^\s+/.test(l)))throw"Extra/unparsed characters found in date: "+l;if(b===-1?b=new Date().getFullYear():b<100&&(b+=new Date().getFullYear()-new Date().getFullYear()%100+(b<=d?0:-100)),m>-1){C=1,R=m;do{if(s=this.getDaysCountInMonth(C-1,b),R<=s)break;C++,R-=s}while(!0)}if(x=this.daylightSavingAdjust(new Date(b,C-1,R)),x.getFullYear()!==b||x.getMonth()+1!==C||x.getDate()!==R)throw"Invalid date";return x},getWeekNumber:function(e){var i=new Date(e.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));var t=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i.getTime())/864e5)/7)+1},onDateCellKeydown:function(e,i,t){e.preventDefault();var s=e.currentTarget,l=s.parentElement,c=Un(l);switch(e.code){case"ArrowDown":{s.tabIndex="-1";var d=l.parentElement.nextElementSibling;if(d){var b=Un(l.parentElement),C=Array.from(l.parentElement.parentElement.children),R=C.slice(b+1),m=R.find(function(he){var S=he.children[c].children[0];return!wn(S,"data-p-disabled")});if(m){var B=m.children[c].children[0];B.tabIndex="0",B.focus()}else this.navigationState={backward:!1},this.navForward(e)}else this.navigationState={backward:!1},this.navForward(e);e.preventDefault();break}case"ArrowUp":{if(s.tabIndex="-1",e.altKey)this.overlayVisible=!1,this.focused=!0;else{var x=l.parentElement.previousElementSibling;if(x){var A=Un(l.parentElement),M=Array.from(l.parentElement.parentElement.children),L=M.slice(0,A).reverse(),P=L.find(function(he){var S=he.children[c].children[0];return!wn(S,"data-p-disabled")});if(P){var ee=P.children[c].children[0];ee.tabIndex="0",ee.focus()}else this.navigationState={backward:!0},this.navBackward(e)}else this.navigationState={backward:!0},this.navBackward(e)}e.preventDefault();break}case"ArrowLeft":{s.tabIndex="-1";var j=l.previousElementSibling;if(j){var w=Array.from(l.parentElement.children),le=w.slice(0,c).reverse(),_=le.find(function(he){var S=he.children[0];return!wn(S,"data-p-disabled")});if(_){var ue=_.children[0];ue.tabIndex="0",ue.focus()}else this.navigateToMonth(e,!0,t)}else this.navigateToMonth(e,!0,t);e.preventDefault();break}case"ArrowRight":{s.tabIndex="-1";var re=l.nextElementSibling;if(re){var ie=Array.from(l.parentElement.children),Se=ie.slice(c+1),ve=Se.find(function(he){var S=he.children[0];return!wn(S,"data-p-disabled")});if(ve){var oe=ve.children[0];oe.tabIndex="0",oe.focus()}else this.navigateToMonth(e,!1,t)}else this.navigateToMonth(e,!1,t);e.preventDefault();break}case"Enter":case"NumpadEnter":case"Space":{this.onDateSelect(e,i),e.preventDefault();break}case"Escape":{this.overlayVisible=!1,e.preventDefault();break}case"Tab":{this.inline||this.trapFocus(e);break}case"Home":{s.tabIndex="-1";var ge=l.parentElement,ke=ge.children[0].children[0];wn(ke,"data-p-disabled")?this.navigateToMonth(e,!0,t):(ke.tabIndex="0",ke.focus()),e.preventDefault();break}case"End":{s.tabIndex="-1";var g=l.parentElement,ne=g.children[g.children.length-1].children[0];wn(ne,"data-p-disabled")?this.navigateToMonth(e,!1,t):(ne.tabIndex="0",ne.focus()),e.preventDefault();break}case"PageUp":{s.tabIndex="-1",e.shiftKey?(this.navigationState={backward:!0},this.navBackward(e)):this.navigateToMonth(e,!0,t),e.preventDefault();break}case"PageDown":{s.tabIndex="-1",e.shiftKey?(this.navigationState={backward:!1},this.navForward(e)):this.navigateToMonth(e,!1,t),e.preventDefault();break}}},navigateToMonth:function(e,i,t){if(i)if(this.numberOfMonths===1||t===0)this.navigationState={backward:!0},this.navBackward(e);else{var s=this.overlay.children[t-1],l=on(s,'table td span:not([data-p-disabled="true"]):not([data-p-ink="true"])'),c=l[l.length-1];c.tabIndex="0",c.focus()}else if(this.numberOfMonths===1||t===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(e);else{var d=this.overlay.children[t+1],b=Bt(d,'table td span:not([data-p-disabled="true"]):not([data-p-ink="true"])');b.tabIndex="0",b.focus()}},onMonthCellKeydown:function(e,i){var t=e.currentTarget;switch(e.code){case"ArrowUp":case"ArrowDown":{t.tabIndex="-1";var s=t.parentElement.children,l=Un(t),c=s[e.code==="ArrowDown"?l+3:l-3];c&&(c.tabIndex="0",c.focus()),e.preventDefault();break}case"ArrowLeft":{t.tabIndex="-1";var d=t.previousElementSibling;d?(d.tabIndex="0",d.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case"ArrowRight":{t.tabIndex="-1";var b=t.nextElementSibling;b?(b.tabIndex="0",b.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case"PageUp":{if(e.shiftKey)return;this.navigationState={backward:!0},this.navBackward(e);break}case"PageDown":{if(e.shiftKey)return;this.navigationState={backward:!1},this.navForward(e);break}case"Enter":case"NumpadEnter":case"Space":{this.onMonthSelect(e,i),e.preventDefault();break}case"Escape":{this.overlayVisible=!1,e.preventDefault();break}case"Tab":{this.trapFocus(e);break}}},onYearCellKeydown:function(e,i){var t=e.currentTarget;switch(e.code){case"ArrowUp":case"ArrowDown":{t.tabIndex="-1";var s=t.parentElement.children,l=Un(t),c=s[e.code==="ArrowDown"?l+2:l-2];c&&(c.tabIndex="0",c.focus()),e.preventDefault();break}case"ArrowLeft":{t.tabIndex="-1";var d=t.previousElementSibling;d?(d.tabIndex="0",d.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case"ArrowRight":{t.tabIndex="-1";var b=t.nextElementSibling;b?(b.tabIndex="0",b.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case"PageUp":{if(e.shiftKey)return;this.navigationState={backward:!0},this.navBackward(e);break}case"PageDown":{if(e.shiftKey)return;this.navigationState={backward:!1},this.navForward(e);break}case"Enter":case"NumpadEnter":case"Space":{this.onYearSelect(e,i),e.preventDefault();break}case"Escape":{this.overlayVisible=!1,e.preventDefault();break}case"Tab":{this.trapFocus(e);break}}},updateFocus:function(){var e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?this.previousButton&&this.previousButton.focus():this.nextButton&&this.nextButton.focus();else{if(this.navigationState.backward){var i;this.currentView==="month"?i=on(this.overlay,'[data-pc-section="monthview"] [data-pc-section="month"]:not([data-p-disabled="true"])'):this.currentView==="year"?i=on(this.overlay,'[data-pc-section="yearview"] [data-pc-section="year"]:not([data-p-disabled="true"])'):i=on(this.overlay,'table td span:not([data-p-disabled="true"]):not([data-p-ink="true"])'),i&&i.length>0&&(e=i[i.length-1])}else this.currentView==="month"?e=Bt(this.overlay,'[data-pc-section="monthview"] [data-pc-section="month"]:not([data-p-disabled="true"])'):this.currentView==="year"?e=Bt(this.overlay,'[data-pc-section="yearview"] [data-pc-section="year"]:not([data-p-disabled="true"])'):e=Bt(this.overlay,'table td span:not([data-p-disabled="true"]):not([data-p-ink="true"])');e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()},initFocusableCell:function(){var e;if(this.currentView==="month"){var i=on(this.overlay,'[data-pc-section="monthview"] [data-pc-section="month"]'),t=Bt(this.overlay,'[data-pc-section="monthview"] [data-pc-section="month"][data-p-selected="true"]');i.forEach(function(d){return d.tabIndex=-1}),e=t||i[0]}else if(this.currentView==="year"){var s=on(this.overlay,'[data-pc-section="yearview"] [data-pc-section="year"]'),l=Bt(this.overlay,'[data-pc-section="yearview"] [data-pc-section="year"][data-p-selected="true"]');s.forEach(function(d){return d.tabIndex=-1}),e=l||s[0]}else if(e=Bt(this.overlay,'span[data-p-selected="true"]'),!e){var c=Bt(this.overlay,'td[data-p-today="true"] span:not([data-p-disabled="true"]):not([data-p-ink="true"])');c?e=c:e=Bt(this.overlay,'.p-datepicker-calendar td span:not([data-p-disabled="true"]):not([data-p-ink="true"])')}e&&(e.tabIndex="0",this.preventFocus=!1)},trapFocus:function(e){e.preventDefault();var i=Rl(this.overlay);if(i&&i.length>0)if(!document.activeElement)i[0].focus();else{var t=i.indexOf(document.activeElement);if(e.shiftKey)t===-1||t===0?i[i.length-1].focus():i[t-1].focus();else if(t===-1)if(this.timeOnly)i[0].focus();else{var s=i.findIndex(function(l){return l.tagName==="SPAN"});s===-1&&(s=i.findIndex(function(l){return l.tagName==="BUTTON"})),s!==-1?i[s].focus():i[0].focus()}else t===i.length-1?i[0].focus():i[t+1].focus()}},onContainerButtonKeydown:function(e){switch(e.code){case"Tab":this.trapFocus(e);break;case"Escape":this.overlayVisible=!1,e.preventDefault();break}this.$emit("keydown",e)},onInput:function(e){try{var i;this.selectionStart=this.input.selectionStart,this.selectionEnd=this.input.selectionEnd,(i=this.$refs.clearIcon)!==null&&i!==void 0&&(i=i.$el)!==null&&i!==void 0&&i.style&&(this.$refs.clearIcon.$el.style.display=Ii(e.target.value)?"none":"block");var t=this.parseValue(e.target.value);this.isValidSelection(t)&&(this.typeUpdate=!0,this.updateModel(this.updateModelType==="string"?this.formatValue(t):t),this.updateCurrentMetaData())}catch{}this.$emit("input",e)},onInputClick:function(){this.showOnFocus&&this.isEnabled()&&!this.overlayVisible&&(this.overlayVisible=!0)},onFocus:function(e){this.showOnFocus&&this.isEnabled()&&(this.overlayVisible=!0),this.focused=!0,this.$emit("focus",e)},onBlur:function(e){var i,t,s;this.$emit("blur",{originalEvent:e,value:e.target.value}),(i=(t=this.formField).onBlur)===null||i===void 0||i.call(t),this.focused=!1,e.target.value=this.formatValue(this.rawValue),(s=this.$refs.clearIcon)!==null&&s!==void 0&&(s=s.$el)!==null&&s!==void 0&&s.style&&(this.$refs.clearIcon.$el.style.display=Ii(e.target.value)?"none":"block")},onKeyDown:function(e){if(e.code==="ArrowDown"&&this.overlay)this.trapFocus(e);else if(e.code==="ArrowDown"&&!this.overlay)this.overlayVisible=!0;else if(e.code==="Escape")this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault(),e.stopPropagation());else if(e.code==="Tab")this.overlay&&Rl(this.overlay).forEach(function(s){return s.tabIndex="-1"}),this.overlayVisible&&(this.overlayVisible=!1);else if(e.code==="Enter"){var i;if(this.manualInput&&e.target.value!==null&&((i=e.target.value)===null||i===void 0?void 0:i.trim())!=="")try{var t=this.parseValue(e.target.value);this.isValidSelection(t)&&(this.overlayVisible=!1)}catch{}this.$emit("keydown",e)}},overlayRef:function(e){this.overlay=e},inputRef:function(e){this.input=e?e.$el:void 0},previousButtonRef:function(e){this.previousButton=e?e.$el:void 0},nextButtonRef:function(e){this.nextButton=e?e.$el:void 0},getMonthName:function(e){return this.$primevue.config.locale.monthNames[e]},getYear:function(e){return this.currentView==="month"?this.currentYear:e.year},onClearClick:function(){this.updateModel(null),this.overlayVisible=!1},onOverlayClick:function(e){e.stopPropagation(),this.inline||yo.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.inline||(this.input.focus(),this.overlayVisible=!1,e.stopPropagation());break}},onOverlayMouseUp:function(e){this.onOverlayClick(e)},createResponsiveStyle:function(){if(this.numberOfMonths>1&&this.responsiveOptions&&!this.isUnstyled){if(!this.responsiveStyleElement){var e;this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",Ds(this.responsiveStyleElement,"nonce",(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce),document.body.appendChild(this.responsiveStyleElement)}var i="";if(this.responsiveOptions)for(var t=Cs(),s=Ol(this.responsiveOptions).filter(function(m){return!!(m.breakpoint&&m.numMonths)}).sort(function(m,B){return-1*t(m.breakpoint,B.breakpoint)}),l=0;l<s.length;l++){for(var c=s[l],d=c.breakpoint,b=c.numMonths,C=`
                            .p-datepicker-panel[`.concat(this.$attrSelector,"] .p-datepicker-calendar:nth-child(").concat(b,`) .p-datepicker-next-button {
                                display: inline-flex;
                            }
                        `),R=b;R<this.numberOfMonths;R++)C+=`
                                .p-datepicker-panel[`.concat(this.$attrSelector,"] .p-datepicker-calendar:nth-child(").concat(R+1,`) {
                                    display: none;
                                }
                            `);i+=`
                            @media screen and (max-width: `.concat(d,`) {
                                `).concat(C,`
                            }
                        `)}this.responsiveStyleElement.innerHTML=i}},destroyResponsiveStyleElement:function(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)},dayDataP:function(e){return Ht({today:e.today,"other-month":e.otherMonth,selected:this.isSelected(e),disabled:!e.selectable})}},computed:{viewDate:function(){var e=this.rawValue;if(e&&Array.isArray(e))if(this.isRangeSelection())if(e.length===0)e=null;else if(e.length===1)e=e[0];else{var i=this.parseValueForComparison(e[0]),t=new Date(i.getFullYear(),i.getMonth()+this.numberOfMonths,1);if(e[1]<t)e=e[0];else{var s=this.parseValueForComparison(e[1]);e=new Date(s.getFullYear(),s.getMonth()-this.numberOfMonths+1,1)}}else this.isMultipleSelection()&&(e=e[e.length-1]);if(e&&typeof e!="string")return e;var l=new Date;return this.maxDate&&this.maxDate<l?this.maxDate:this.minDate&&this.minDate>l?this.minDate:l},inputFieldValue:function(){return this.formatValue(this.rawValue)},months:function(){for(var e=[],i=0;i<this.numberOfMonths;i++){var t=this.currentMonth+i,s=this.currentYear;t>11&&(t=t%11-1,s=s+1);for(var l=[],c=this.getFirstDayOfMonthIndex(t,s),d=this.getDaysCountInMonth(t,s),b=this.getDaysCountInPrevMonth(t,s),C=1,R=new Date,m=[],B=Math.ceil((d+c)/7),x=0;x<B;x++){var A=[];if(x==0){for(var M=b-c+1;M<=b;M++){var L=this.getPreviousMonthAndYear(t,s);A.push({day:M,month:L.month,year:L.year,otherMonth:!0,today:this.isToday(R,M,L.month,L.year),selectable:this.isSelectable(M,L.month,L.year,!0)})}for(var P=7-A.length,ee=0;ee<P;ee++)A.push({day:C,month:t,year:s,today:this.isToday(R,C,t,s),selectable:this.isSelectable(C,t,s,!1)}),C++}else for(var j=0;j<7;j++){if(C>d){var w=this.getNextMonthAndYear(t,s);A.push({day:C-d,month:w.month,year:w.year,otherMonth:!0,today:this.isToday(R,C-d,w.month,w.year),selectable:this.isSelectable(C-d,w.month,w.year,!0)})}else A.push({day:C,month:t,year:s,today:this.isToday(R,C,t,s),selectable:this.isSelectable(C,t,s,!1)});C++}this.showWeek&&m.push(this.getWeekNumber(new Date(A[0].year,A[0].month,A[0].day))),l.push(A)}e.push({month:t,year:s,dates:l,weekNumbers:m})}return e},weekDays:function(){for(var e=[],i=this.$primevue.config.locale.firstDayOfWeek,t=0;t<7;t++)e.push(this.$primevue.config.locale.dayNamesMin[i]),i=i==6?0:++i;return e},ticksTo1970:function(){return(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7},sundayIndex:function(){return this.$primevue.config.locale.firstDayOfWeek>0?7-this.$primevue.config.locale.firstDayOfWeek:0},datePattern:function(){return this.dateFormat||this.$primevue.config.locale.dateFormat},monthPickerValues:function(){for(var e=this,i=[],t=function(c){if(e.minDate){var d=e.minDate.getMonth(),b=e.minDate.getFullYear();if(e.currentYear<b||e.currentYear===b&&c<d)return!1}if(e.maxDate){var C=e.maxDate.getMonth(),R=e.maxDate.getFullYear();if(e.currentYear>R||e.currentYear===R&&c>C)return!1}return!0},s=0;s<=11;s++)i.push({value:this.$primevue.config.locale.monthNamesShort[s],selectable:t(s)});return i},yearPickerValues:function(){for(var e=this,i=[],t=this.currentYear-this.currentYear%10,s=function(d){return!(e.minDate&&e.minDate.getFullYear()>d||e.maxDate&&e.maxDate.getFullYear()<d)},l=0;l<10;l++)i.push({value:t+l,selectable:s(t+l)});return i},formattedCurrentHour:function(){return this.currentHour==0&&this.hourFormat=="12"?this.currentHour+12:this.currentHour<10?"0"+this.currentHour:this.currentHour},formattedCurrentMinute:function(){return this.currentMinute<10?"0"+this.currentMinute:this.currentMinute},formattedCurrentSecond:function(){return this.currentSecond<10?"0"+this.currentSecond:this.currentSecond},todayLabel:function(){return this.$primevue.config.locale.today},clearLabel:function(){return this.$primevue.config.locale.clear},weekHeaderLabel:function(){return this.$primevue.config.locale.weekHeader},monthNames:function(){return this.$primevue.config.locale.monthNames},switchViewButtonDisabled:function(){return this.numberOfMonths>1||this.disabled},isClearIconVisible:function(){return this.showClear&&this.rawValue!=null&&!this.disabled},panelId:function(){return this.$id+"_panel"},containerDataP:function(){return Ht({fluid:this.$fluid})},panelDataP:function(){return Ht(Za({inline:this.inline},"portal-"+this.appendTo,"portal-"+this.appendTo))},inputIconDataP:function(){return Ht(Za({},this.size,this.size))},timePickerDataP:function(){return Ht({"time-only":this.timeOnly})},hourIncrementCallbacks:function(){var e=this;return{mousedown:function(t){return e.onTimePickerElementMouseDown(t,0,1)},mouseup:function(t){return e.onTimePickerElementMouseUp(t)},mouseleave:function(){return e.onTimePickerElementMouseLeave()},keydown:function(t){return e.onTimePickerElementKeyDown(t,0,1)},keyup:function(t){return e.onTimePickerElementKeyUp(t)}}},hourDecrementCallbacks:function(){var e=this;return{mousedown:function(t){return e.onTimePickerElementMouseDown(t,0,-1)},mouseup:function(t){return e.onTimePickerElementMouseUp(t)},mouseleave:function(){return e.onTimePickerElementMouseLeave()},keydown:function(t){return e.onTimePickerElementKeyDown(t,0,-1)},keyup:function(t){return e.onTimePickerElementKeyUp(t)}}},minuteIncrementCallbacks:function(){var e=this;return{mousedown:function(t){return e.onTimePickerElementMouseDown(t,1,1)},mouseup:function(t){return e.onTimePickerElementMouseUp(t)},mouseleave:function(){return e.onTimePickerElementMouseLeave()},keydown:function(t){return e.onTimePickerElementKeyDown(t,1,1)},keyup:function(t){return e.onTimePickerElementKeyUp(t)}}},minuteDecrementCallbacks:function(){var e=this;return{mousedown:function(t){return e.onTimePickerElementMouseDown(t,1,-1)},mouseup:function(t){return e.onTimePickerElementMouseUp(t)},mouseleave:function(){return e.onTimePickerElementMouseLeave()},keydown:function(t){return e.onTimePickerElementKeyDown(t,1,-1)},keyup:function(t){return e.onTimePickerElementKeyUp(t)}}},secondIncrementCallbacks:function(){var e=this;return{mousedown:function(t){return e.onTimePickerElementMouseDown(t,2,1)},mouseup:function(t){return e.onTimePickerElementMouseUp(t)},mouseleave:function(){return e.onTimePickerElementMouseLeave()},keydown:function(t){return e.onTimePickerElementKeyDown(t,2,1)},keyup:function(t){return e.onTimePickerElementKeyUp(t)}}},secondDecrementCallbacks:function(){var e=this;return{mousedown:function(t){return e.onTimePickerElementMouseDown(t,2,-1)},mouseup:function(t){return e.onTimePickerElementMouseUp(t)},mouseleave:function(){return e.onTimePickerElementMouseLeave()},keydown:function(t){return e.onTimePickerElementKeyDown(t,2,-1)},keyup:function(t){return e.onTimePickerElementKeyUp(t)}}}},components:{InputText:sn,Button:Sn,Portal:go,CalendarIcon:To,ChevronLeftIcon:Is,ChevronRightIcon:ks,ChevronUpIcon:zs,ChevronDownIcon:vo,TimesIcon:ho},directives:{ripple:mo}},Id=["id","data-p"],Dd=["disabled","aria-label","aria-expanded","aria-controls"],Cd=["data-p"],Sd=["id","role","aria-modal","aria-label","data-p"],Td=["disabled","aria-label"],Md=["disabled","aria-label"],Ed=["disabled","aria-label"],Od=["disabled","aria-label"],Ld=["data-p-disabled"],Vd=["abbr"],Rd=["data-p-disabled"],Fd=["aria-label","data-p-today","data-p-other-month"],Ad=["onClick","onKeydown","aria-selected","aria-disabled","data-p"],Pd=["onClick","onKeydown","data-p-disabled","data-p-selected"],xd=["onClick","onKeydown","data-p-disabled","data-p-selected"],Bd=["data-p"];function Hd(n,e,i,t,s,l){var c=je("InputText"),d=je("TimesIcon"),b=je("Button"),C=je("Portal"),R=Si("ripple");return f(),I("span",U({ref:"container",id:n.$id,class:n.cx("root"),style:n.sx("root"),"data-p":l.containerDataP},n.ptmi("root")),[n.inline?ae("",!0):(f(),pe(c,{key:0,ref:l.inputRef,id:n.inputId,role:"combobox",class:we([n.inputClass,n.cx("pcInputText")]),style:mt(n.inputStyle),defaultValue:l.inputFieldValue,placeholder:n.placeholder,name:n.name,size:n.size,invalid:n.invalid,variant:n.variant,fluid:n.fluid,required:n.required,unstyled:n.unstyled,autocomplete:"off","aria-autocomplete":"none","aria-haspopup":"dialog","aria-expanded":s.overlayVisible,"aria-controls":s.overlayVisible?l.panelId:void 0,"aria-labelledby":n.ariaLabelledby,"aria-label":n.ariaLabel,inputmode:"none",disabled:n.disabled,readonly:!n.manualInput||n.readonly,tabindex:0,onInput:l.onInput,onClick:l.onInputClick,onFocus:l.onFocus,onBlur:l.onBlur,onKeydown:l.onKeyDown,"data-p-has-dropdown":n.showIcon&&n.iconDisplay==="button"&&!n.inline,"data-p-has-e-icon":n.showIcon&&n.iconDisplay==="input"&&!n.inline,pt:n.ptm("pcInputText")},null,8,["id","class","style","defaultValue","placeholder","name","size","invalid","variant","fluid","required","unstyled","aria-expanded","aria-controls","aria-labelledby","aria-label","disabled","readonly","onInput","onClick","onFocus","onBlur","onKeydown","data-p-has-dropdown","data-p-has-e-icon","pt"])),n.showClear&&!n.inline?ye(n.$slots,"clearicon",{key:1,class:we(n.cx("clearIcon")),clearCallback:l.onClearClick},function(){return[V(d,U({ref:"clearIcon",class:[n.cx("clearIcon")],onClick:l.onClearClick},n.ptm("clearIcon")),null,16,["class","onClick"])]}):ae("",!0),n.showIcon&&n.iconDisplay==="button"&&!n.inline?ye(n.$slots,"dropdownbutton",{key:2,toggleCallback:l.onButtonClick},function(){return[o("button",U({class:n.cx("dropdown"),disabled:n.disabled,onClick:e[0]||(e[0]=function(){return l.onButtonClick&&l.onButtonClick.apply(l,arguments)}),type:"button","aria-label":n.$primevue.config.locale.chooseDate,"aria-haspopup":"dialog","aria-expanded":s.overlayVisible,"aria-controls":l.panelId},n.ptm("dropdown")),[ye(n.$slots,"dropdownicon",{class:we(n.icon)},function(){return[(f(),pe(et(n.icon?"span":"CalendarIcon"),U({class:n.icon},n.ptm("dropdownIcon")),null,16,["class"]))]})],16,Dd)]}):n.showIcon&&n.iconDisplay==="input"&&!n.inline?(f(),I(Ce,{key:3},[n.$slots.inputicon||n.showIcon?(f(),I("span",U({key:0,class:n.cx("inputIconContainer"),"data-p":l.inputIconDataP},n.ptm("inputIconContainer")),[ye(n.$slots,"inputicon",{class:we(n.cx("inputIcon")),clickCallback:l.onButtonClick},function(){return[(f(),pe(et(n.icon?"i":"CalendarIcon"),U({class:[n.icon,n.cx("inputIcon")],onClick:l.onButtonClick},n.ptm("inputicon")),null,16,["class","onClick"]))]})],16,Cd)):ae("",!0)],64)):ae("",!0),V(C,{appendTo:n.appendTo,disabled:n.inline},{default:ce(function(){return[V(Ti,U({name:"p-anchored-overlay",onEnter:e[58]||(e[58]=function(m){return l.onOverlayEnter(m)}),onAfterEnter:l.onOverlayEnterComplete,onAfterLeave:l.onOverlayAfterLeave,onLeave:l.onOverlayLeave},n.ptm("transition")),{default:ce(function(){return[n.inline||s.overlayVisible?(f(),I("div",U({key:0,ref:l.overlayRef,id:l.panelId,class:[n.cx("panel"),n.panelClass],style:n.panelStyle,role:n.inline?null:"dialog","aria-modal":n.inline?null:"true","aria-label":n.$primevue.config.locale.chooseDate,onClick:e[55]||(e[55]=function(){return l.onOverlayClick&&l.onOverlayClick.apply(l,arguments)}),onKeydown:e[56]||(e[56]=function(){return l.onOverlayKeyDown&&l.onOverlayKeyDown.apply(l,arguments)}),onMouseup:e[57]||(e[57]=function(){return l.onOverlayMouseUp&&l.onOverlayMouseUp.apply(l,arguments)}),"data-p":l.panelDataP},n.ptm("panel")),[n.timeOnly?ae("",!0):(f(),I(Ce,{key:0},[o("div",U({class:n.cx("calendarContainer")},n.ptm("calendarContainer")),[(f(!0),I(Ce,null,Je(l.months,function(m,B){return f(),I("div",U({key:m.month+m.year,class:n.cx("calendar")},{ref_for:!0},n.ptm("calendar")),[o("div",U({class:n.cx("header")},{ref_for:!0},n.ptm("header")),[ye(n.$slots,"header"),ye(n.$slots,"prevbutton",{actionCallback:function(A){return l.onPrevButtonClick(A)},keydownCallback:function(A){return l.onContainerButtonKeydown(A)}},function(){return[Ne(V(b,U({ref_for:!0,ref:l.previousButtonRef,class:n.cx("pcPrevButton"),disabled:n.disabled,"aria-label":s.currentView==="year"?n.$primevue.config.locale.prevDecade:s.currentView==="month"?n.$primevue.config.locale.prevYear:n.$primevue.config.locale.prevMonth,unstyled:n.unstyled,onClick:l.onPrevButtonClick,onKeydown:l.onContainerButtonKeydown},{ref_for:!0},n.navigatorButtonProps,{pt:n.ptm("pcPrevButton"),"data-pc-group-section":"navigator"}),{icon:ce(function(x){return[ye(n.$slots,"previcon",{},function(){return[(f(),pe(et(n.prevIcon?"span":"ChevronLeftIcon"),U({class:[n.prevIcon,x.class]},{ref_for:!0},n.ptm("pcPrevButton").icon),null,16,["class"]))]})]}),_:3},16,["class","disabled","aria-label","unstyled","onClick","onKeydown","pt"]),[[Ba,B===0]])]}),o("div",U({class:n.cx("title")},{ref_for:!0},n.ptm("title")),[n.$primevue.config.locale.showMonthAfterYear?(f(),I(Ce,{key:0},[s.currentView!=="year"?(f(),I("button",U({key:0,type:"button",onClick:e[1]||(e[1]=function(){return l.switchToYearView&&l.switchToYearView.apply(l,arguments)}),onKeydown:e[2]||(e[2]=function(){return l.onContainerButtonKeydown&&l.onContainerButtonKeydown.apply(l,arguments)}),class:n.cx("selectYear"),disabled:l.switchViewButtonDisabled,"aria-label":n.$primevue.config.locale.chooseYear},{ref_for:!0},n.ptm("selectYear"),{"data-pc-group-section":"view"}),te(l.getYear(m)),17,Td)):ae("",!0),s.currentView==="date"?(f(),I("button",U({key:1,type:"button",onClick:e[3]||(e[3]=function(){return l.switchToMonthView&&l.switchToMonthView.apply(l,arguments)}),onKeydown:e[4]||(e[4]=function(){return l.onContainerButtonKeydown&&l.onContainerButtonKeydown.apply(l,arguments)}),class:n.cx("selectMonth"),disabled:l.switchViewButtonDisabled,"aria-label":n.$primevue.config.locale.chooseMonth},{ref_for:!0},n.ptm("selectMonth"),{"data-pc-group-section":"view"}),te(l.getMonthName(m.month)),17,Md)):ae("",!0)],64)):(f(),I(Ce,{key:1},[s.currentView==="date"?(f(),I("button",U({key:0,type:"button",onClick:e[5]||(e[5]=function(){return l.switchToMonthView&&l.switchToMonthView.apply(l,arguments)}),onKeydown:e[6]||(e[6]=function(){return l.onContainerButtonKeydown&&l.onContainerButtonKeydown.apply(l,arguments)}),class:n.cx("selectMonth"),disabled:l.switchViewButtonDisabled,"aria-label":n.$primevue.config.locale.chooseMonth},{ref_for:!0},n.ptm("selectMonth"),{"data-pc-group-section":"view"}),te(l.getMonthName(m.month)),17,Ed)):ae("",!0),s.currentView!=="year"?(f(),I("button",U({key:1,type:"button",onClick:e[7]||(e[7]=function(){return l.switchToYearView&&l.switchToYearView.apply(l,arguments)}),onKeydown:e[8]||(e[8]=function(){return l.onContainerButtonKeydown&&l.onContainerButtonKeydown.apply(l,arguments)}),class:n.cx("selectYear"),disabled:l.switchViewButtonDisabled,"aria-label":n.$primevue.config.locale.chooseYear},{ref_for:!0},n.ptm("selectYear"),{"data-pc-group-section":"view"}),te(l.getYear(m)),17,Od)):ae("",!0)],64)),s.currentView==="year"?(f(),I("span",U({key:2,class:n.cx("decade")},{ref_for:!0},n.ptm("decade")),[ye(n.$slots,"decade",{years:l.yearPickerValues},function(){return[ze(te(l.yearPickerValues[0].value)+" - "+te(l.yearPickerValues[l.yearPickerValues.length-1].value),1)]})],16)):ae("",!0)],16),ye(n.$slots,"nextbutton",{actionCallback:function(A){return l.onNextButtonClick(A)},keydownCallback:function(A){return l.onContainerButtonKeydown(A)}},function(){return[Ne(V(b,U({ref_for:!0,ref:l.nextButtonRef,class:n.cx("pcNextButton"),disabled:n.disabled,"aria-label":s.currentView==="year"?n.$primevue.config.locale.nextDecade:s.currentView==="month"?n.$primevue.config.locale.nextYear:n.$primevue.config.locale.nextMonth,unstyled:n.unstyled,onClick:l.onNextButtonClick,onKeydown:l.onContainerButtonKeydown},{ref_for:!0},n.navigatorButtonProps,{pt:n.ptm("pcNextButton"),"data-pc-group-section":"navigator"}),{icon:ce(function(x){return[ye(n.$slots,"nexticon",{},function(){return[(f(),pe(et(n.nextIcon?"span":"ChevronRightIcon"),U({class:[n.nextIcon,x.class]},{ref_for:!0},n.ptm("pcNextButton").icon),null,16,["class"]))]})]}),_:3},16,["class","disabled","aria-label","unstyled","onClick","onKeydown","pt"]),[[Ba,n.numberOfMonths===1?!0:B===n.numberOfMonths-1]])]})],16),s.currentView==="date"?(f(),I("table",U({key:0,class:n.cx("dayView"),role:"grid"},{ref_for:!0},n.ptm("dayView")),[o("thead",U({ref_for:!0},n.ptm("tableHeader")),[o("tr",U({ref_for:!0},n.ptm("tableHeaderRow")),[n.showWeek?(f(),I("th",U({key:0,scope:"col",class:n.cx("weekHeader")},{ref_for:!0},n.ptm("weekHeader",{context:{disabled:n.showWeek}}),{"data-p-disabled":n.showWeek,"data-pc-group-section":"tableheadercell"}),[ye(n.$slots,"weekheaderlabel",{},function(){return[o("span",U({ref_for:!0},n.ptm("weekHeaderLabel",{context:{disabled:n.showWeek}}),{"data-pc-group-section":"tableheadercelllabel"}),te(l.weekHeaderLabel),17)]})],16,Ld)):ae("",!0),(f(!0),I(Ce,null,Je(l.weekDays,function(x){return f(),I("th",U({key:x,scope:"col",abbr:x},{ref_for:!0},n.ptm("tableHeaderCell"),{"data-pc-group-section":"tableheadercell",class:n.cx("weekDayCell")}),[o("span",U({class:n.cx("weekDay")},{ref_for:!0},n.ptm("weekDay"),{"data-pc-group-section":"tableheadercelllabel"}),te(x),17)],16,Vd)}),128))],16)],16),o("tbody",U({ref_for:!0},n.ptm("tableBody")),[(f(!0),I(Ce,null,Je(m.dates,function(x,A){return f(),I("tr",U({key:x[0].day+""+x[0].month},{ref_for:!0},n.ptm("tableBodyRow")),[n.showWeek?(f(),I("td",U({key:0,class:n.cx("weekNumber")},{ref_for:!0},n.ptm("weekNumber"),{"data-pc-group-section":"tablebodycell"}),[o("span",U({class:n.cx("weekLabelContainer")},{ref_for:!0},n.ptm("weekLabelContainer",{context:{disabled:n.showWeek}}),{"data-p-disabled":n.showWeek,"data-pc-group-section":"tablebodycelllabel"}),[ye(n.$slots,"weeklabel",{weekNumber:m.weekNumbers[A]},function(){return[m.weekNumbers[A]<10?(f(),I("span",U({key:0,style:{visibility:"hidden"}},{ref_for:!0},n.ptm("weekLabel")),"0",16)):ae("",!0),ze(" "+te(m.weekNumbers[A]),1)]})],16,Rd)],16)):ae("",!0),(f(!0),I(Ce,null,Je(x,function(M){return f(),I("td",U({key:M.day+""+M.month,"aria-label":M.day,class:n.cx("dayCell",{date:M})},{ref_for:!0},n.ptm("dayCell",{context:{date:M,today:M.today,otherMonth:M.otherMonth,selected:l.isSelected(M),disabled:!M.selectable}}),{"data-p-today":M.today,"data-p-other-month":M.otherMonth,"data-pc-group-section":"tablebodycell"}),[n.showOtherMonths||!M.otherMonth?Ne((f(),I("span",U({key:0,class:n.cx("day",{date:M}),onClick:function(P){return l.onDateSelect(P,M)},draggable:"false",onKeydown:function(P){return l.onDateCellKeydown(P,M,B)},"aria-selected":l.isSelected(M),"aria-disabled":!M.selectable},{ref_for:!0},n.ptm("day",{context:{date:M,today:M.today,otherMonth:M.otherMonth,selected:l.isSelected(M),disabled:!M.selectable}}),{"data-p":l.dayDataP(M),"data-pc-group-section":"tablebodycelllabel"}),[ye(n.$slots,"date",{date:M},function(){return[ze(te(M.day),1)]})],16,Ad)),[[R]]):ae("",!0),l.isSelected(M)?(f(),I("div",U({key:1,class:"p-hidden-accessible","aria-live":"polite"},{ref_for:!0},n.ptm("hiddenSelectedDay"),{"data-p-hidden-accessible":!0}),te(M.day),17)):ae("",!0)],16,Fd)}),128))],16)}),128))],16)],16)):ae("",!0)],16)}),128))],16),s.currentView==="month"?(f(),I("div",U({key:0,class:n.cx("monthView")},n.ptm("monthView")),[(f(!0),I(Ce,null,Je(l.monthPickerValues,function(m,B){return Ne((f(),I("span",U({key:m,onClick:function(A){return l.onMonthSelect(A,{month:m,index:B})},onKeydown:function(A){return l.onMonthCellKeydown(A,{month:m,index:B})},class:n.cx("month",{month:m,index:B})},{ref_for:!0},n.ptm("month",{context:{month:m,monthIndex:B,selected:l.isMonthSelected(B),disabled:!m.selectable}}),{"data-p-disabled":!m.selectable,"data-p-selected":l.isMonthSelected(B)}),[ze(te(m.value)+" ",1),l.isMonthSelected(B)?(f(),I("div",U({key:0,class:"p-hidden-accessible","aria-live":"polite"},{ref_for:!0},n.ptm("hiddenMonth"),{"data-p-hidden-accessible":!0}),te(m.value),17)):ae("",!0)],16,Pd)),[[R]])}),128))],16)):ae("",!0),s.currentView==="year"?(f(),I("div",U({key:1,class:n.cx("yearView")},n.ptm("yearView")),[(f(!0),I(Ce,null,Je(l.yearPickerValues,function(m){return Ne((f(),I("span",U({key:m.value,onClick:function(x){return l.onYearSelect(x,m)},onKeydown:function(x){return l.onYearCellKeydown(x,m)},class:n.cx("year",{year:m})},{ref_for:!0},n.ptm("year",{context:{year:m,selected:l.isYearSelected(m.value),disabled:!m.selectable}}),{"data-p-disabled":!m.selectable,"data-p-selected":l.isYearSelected(m.value)}),[ze(te(m.value)+" ",1),l.isYearSelected(m.value)?(f(),I("div",U({key:0,class:"p-hidden-accessible","aria-live":"polite"},{ref_for:!0},n.ptm("hiddenYear"),{"data-p-hidden-accessible":!0}),te(m.value),17)):ae("",!0)],16,xd)),[[R]])}),128))],16)):ae("",!0)],64)),(n.showTime||n.timeOnly)&&s.currentView==="date"?(f(),I("div",U({key:1,class:n.cx("timePicker"),"data-p":l.timePickerDataP},n.ptm("timePicker")),[o("div",U({class:n.cx("hourPicker")},n.ptm("hourPicker"),{"data-pc-group-section":"timepickerContainer"}),[ye(n.$slots,"hourincrementbutton",{callbacks:l.hourIncrementCallbacks},function(){return[V(b,U({class:n.cx("pcIncrementButton"),"aria-label":n.$primevue.config.locale.nextHour,unstyled:n.unstyled,onMousedown:e[9]||(e[9]=function(m){return l.onTimePickerElementMouseDown(m,0,1)}),onMouseup:e[10]||(e[10]=function(m){return l.onTimePickerElementMouseUp(m)}),onKeydown:[l.onContainerButtonKeydown,e[12]||(e[12]=Ae(function(m){return l.onTimePickerElementMouseDown(m,0,1)},["enter"])),e[13]||(e[13]=Ae(function(m){return l.onTimePickerElementMouseDown(m,0,1)},["space"]))],onMouseleave:e[11]||(e[11]=function(m){return l.onTimePickerElementMouseLeave()}),onKeyup:[e[14]||(e[14]=Ae(function(m){return l.onTimePickerElementMouseUp(m)},["enter"])),e[15]||(e[15]=Ae(function(m){return l.onTimePickerElementMouseUp(m)},["space"]))]},n.timepickerButtonProps,{pt:n.ptm("pcIncrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:ce(function(m){return[ye(n.$slots,"incrementicon",{},function(){return[(f(),pe(et(n.incrementIcon?"span":"ChevronUpIcon"),U({class:[n.incrementIcon,m.class]},n.ptm("pcIncrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","unstyled","onKeydown","pt"])]}),o("span",U(n.ptm("hour"),{"data-pc-group-section":"timepickerlabel"}),te(l.formattedCurrentHour),17),ye(n.$slots,"hourdecrementbutton",{callbacks:l.hourDecrementCallbacks},function(){return[V(b,U({class:n.cx("pcDecrementButton"),"aria-label":n.$primevue.config.locale.prevHour,unstyled:n.unstyled,onMousedown:e[16]||(e[16]=function(m){return l.onTimePickerElementMouseDown(m,0,-1)}),onMouseup:e[17]||(e[17]=function(m){return l.onTimePickerElementMouseUp(m)}),onKeydown:[l.onContainerButtonKeydown,e[19]||(e[19]=Ae(function(m){return l.onTimePickerElementMouseDown(m,0,-1)},["enter"])),e[20]||(e[20]=Ae(function(m){return l.onTimePickerElementMouseDown(m,0,-1)},["space"]))],onMouseleave:e[18]||(e[18]=function(m){return l.onTimePickerElementMouseLeave()}),onKeyup:[e[21]||(e[21]=Ae(function(m){return l.onTimePickerElementMouseUp(m)},["enter"])),e[22]||(e[22]=Ae(function(m){return l.onTimePickerElementMouseUp(m)},["space"]))]},n.timepickerButtonProps,{pt:n.ptm("pcDecrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:ce(function(m){return[ye(n.$slots,"decrementicon",{},function(){return[(f(),pe(et(n.decrementIcon?"span":"ChevronDownIcon"),U({class:[n.decrementIcon,m.class]},n.ptm("pcDecrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","unstyled","onKeydown","pt"])]})],16),o("div",U(n.ptm("separatorContainer"),{"data-pc-group-section":"timepickerContainer"}),[o("span",U(n.ptm("separator"),{"data-pc-group-section":"timepickerlabel"}),te(n.timeSeparator),17)],16),o("div",U({class:n.cx("minutePicker")},n.ptm("minutePicker"),{"data-pc-group-section":"timepickerContainer"}),[ye(n.$slots,"minuteincrementbutton",{callbacks:l.minuteIncrementCallbacks},function(){return[V(b,U({class:n.cx("pcIncrementButton"),"aria-label":n.$primevue.config.locale.nextMinute,disabled:n.disabled,unstyled:n.unstyled,onMousedown:e[23]||(e[23]=function(m){return l.onTimePickerElementMouseDown(m,1,1)}),onMouseup:e[24]||(e[24]=function(m){return l.onTimePickerElementMouseUp(m)}),onKeydown:[l.onContainerButtonKeydown,e[26]||(e[26]=Ae(function(m){return l.onTimePickerElementMouseDown(m,1,1)},["enter"])),e[27]||(e[27]=Ae(function(m){return l.onTimePickerElementMouseDown(m,1,1)},["space"]))],onMouseleave:e[25]||(e[25]=function(m){return l.onTimePickerElementMouseLeave()}),onKeyup:[e[28]||(e[28]=Ae(function(m){return l.onTimePickerElementMouseUp(m)},["enter"])),e[29]||(e[29]=Ae(function(m){return l.onTimePickerElementMouseUp(m)},["space"]))]},n.timepickerButtonProps,{pt:n.ptm("pcIncrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:ce(function(m){return[ye(n.$slots,"incrementicon",{},function(){return[(f(),pe(et(n.incrementIcon?"span":"ChevronUpIcon"),U({class:[n.incrementIcon,m.class]},n.ptm("pcIncrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"])]}),o("span",U(n.ptm("minute"),{"data-pc-group-section":"timepickerlabel"}),te(l.formattedCurrentMinute),17),ye(n.$slots,"minutedecrementbutton",{callbacks:l.minuteDecrementCallbacks},function(){return[V(b,U({class:n.cx("pcDecrementButton"),"aria-label":n.$primevue.config.locale.prevMinute,disabled:n.disabled,unstyled:n.unstyled,onMousedown:e[30]||(e[30]=function(m){return l.onTimePickerElementMouseDown(m,1,-1)}),onMouseup:e[31]||(e[31]=function(m){return l.onTimePickerElementMouseUp(m)}),onKeydown:[l.onContainerButtonKeydown,e[33]||(e[33]=Ae(function(m){return l.onTimePickerElementMouseDown(m,1,-1)},["enter"])),e[34]||(e[34]=Ae(function(m){return l.onTimePickerElementMouseDown(m,1,-1)},["space"]))],onMouseleave:e[32]||(e[32]=function(m){return l.onTimePickerElementMouseLeave()}),onKeyup:[e[35]||(e[35]=Ae(function(m){return l.onTimePickerElementMouseUp(m)},["enter"])),e[36]||(e[36]=Ae(function(m){return l.onTimePickerElementMouseUp(m)},["space"]))]},n.timepickerButtonProps,{pt:n.ptm("pcDecrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:ce(function(m){return[ye(n.$slots,"decrementicon",{},function(){return[(f(),pe(et(n.decrementIcon?"span":"ChevronDownIcon"),U({class:[n.decrementIcon,m.class]},n.ptm("pcDecrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"])]})],16),n.showSeconds?(f(),I("div",U({key:0,class:n.cx("separatorContainer")},n.ptm("separatorContainer"),{"data-pc-group-section":"timepickerContainer"}),[o("span",U(n.ptm("separator"),{"data-pc-group-section":"timepickerlabel"}),te(n.timeSeparator),17)],16)):ae("",!0),n.showSeconds?(f(),I("div",U({key:1,class:n.cx("secondPicker")},n.ptm("secondPicker"),{"data-pc-group-section":"timepickerContainer"}),[ye(n.$slots,"secondincrementbutton",{callbacks:l.secondIncrementCallbacks},function(){return[V(b,U({class:n.cx("pcIncrementButton"),"aria-label":n.$primevue.config.locale.nextSecond,disabled:n.disabled,unstyled:n.unstyled,onMousedown:e[37]||(e[37]=function(m){return l.onTimePickerElementMouseDown(m,2,1)}),onMouseup:e[38]||(e[38]=function(m){return l.onTimePickerElementMouseUp(m)}),onKeydown:[l.onContainerButtonKeydown,e[40]||(e[40]=Ae(function(m){return l.onTimePickerElementMouseDown(m,2,1)},["enter"])),e[41]||(e[41]=Ae(function(m){return l.onTimePickerElementMouseDown(m,2,1)},["space"]))],onMouseleave:e[39]||(e[39]=function(m){return l.onTimePickerElementMouseLeave()}),onKeyup:[e[42]||(e[42]=Ae(function(m){return l.onTimePickerElementMouseUp(m)},["enter"])),e[43]||(e[43]=Ae(function(m){return l.onTimePickerElementMouseUp(m)},["space"]))]},n.timepickerButtonProps,{pt:n.ptm("pcIncrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:ce(function(m){return[ye(n.$slots,"incrementicon",{},function(){return[(f(),pe(et(n.incrementIcon?"span":"ChevronUpIcon"),U({class:[n.incrementIcon,m.class]},n.ptm("pcIncrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"])]}),o("span",U(n.ptm("second"),{"data-pc-group-section":"timepickerlabel"}),te(l.formattedCurrentSecond),17),ye(n.$slots,"seconddecrementbutton",{callbacks:l.secondDecrementCallbacks},function(){return[V(b,U({class:n.cx("pcDecrementButton"),"aria-label":n.$primevue.config.locale.prevSecond,disabled:n.disabled,unstyled:n.unstyled,onMousedown:e[44]||(e[44]=function(m){return l.onTimePickerElementMouseDown(m,2,-1)}),onMouseup:e[45]||(e[45]=function(m){return l.onTimePickerElementMouseUp(m)}),onKeydown:[l.onContainerButtonKeydown,e[47]||(e[47]=Ae(function(m){return l.onTimePickerElementMouseDown(m,2,-1)},["enter"])),e[48]||(e[48]=Ae(function(m){return l.onTimePickerElementMouseDown(m,2,-1)},["space"]))],onMouseleave:e[46]||(e[46]=function(m){return l.onTimePickerElementMouseLeave()}),onKeyup:[e[49]||(e[49]=Ae(function(m){return l.onTimePickerElementMouseUp(m)},["enter"])),e[50]||(e[50]=Ae(function(m){return l.onTimePickerElementMouseUp(m)},["space"]))]},n.timepickerButtonProps,{pt:n.ptm("pcDecrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:ce(function(m){return[ye(n.$slots,"decrementicon",{},function(){return[(f(),pe(et(n.decrementIcon?"span":"ChevronDownIcon"),U({class:[n.decrementIcon,m.class]},n.ptm("pcDecrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"])]})],16)):ae("",!0),n.hourFormat=="12"?(f(),I("div",U({key:2,class:n.cx("separatorContainer")},n.ptm("separatorContainer"),{"data-pc-group-section":"timepickerContainer"}),[o("span",U(n.ptm("separator"),{"data-pc-group-section":"timepickerlabel"}),te(n.timeSeparator),17)],16)):ae("",!0),n.hourFormat=="12"?(f(),I("div",U({key:3,class:n.cx("ampmPicker")},n.ptm("ampmPicker")),[ye(n.$slots,"ampmincrementbutton",{toggleCallback:function(B){return l.toggleAMPM(B)},keydownCallback:function(B){return l.onContainerButtonKeydown(B)}},function(){return[V(b,U({class:n.cx("pcIncrementButton"),"aria-label":n.$primevue.config.locale.am,disabled:n.disabled,unstyled:n.unstyled,onClick:e[51]||(e[51]=function(m){return l.toggleAMPM(m)}),onKeydown:l.onContainerButtonKeydown},n.timepickerButtonProps,{pt:n.ptm("pcIncrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:ce(function(m){return[ye(n.$slots,"incrementicon",{class:we(n.cx("incrementIcon"))},function(){return[(f(),pe(et(n.incrementIcon?"span":"ChevronUpIcon"),U({class:[n.cx("incrementIcon"),m.class]},n.ptm("pcIncrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"])]}),o("span",U(n.ptm("ampm"),{"data-pc-group-section":"timepickerlabel"}),te(s.pm?n.$primevue.config.locale.pm:n.$primevue.config.locale.am),17),ye(n.$slots,"ampmdecrementbutton",{toggleCallback:function(B){return l.toggleAMPM(B)},keydownCallback:function(B){return l.onContainerButtonKeydown(B)}},function(){return[V(b,U({class:n.cx("pcDecrementButton"),"aria-label":n.$primevue.config.locale.pm,disabled:n.disabled,onClick:e[52]||(e[52]=function(m){return l.toggleAMPM(m)}),onKeydown:l.onContainerButtonKeydown},n.timepickerButtonProps,{pt:n.ptm("pcDecrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:ce(function(m){return[ye(n.$slots,"decrementicon",{class:we(n.cx("decrementIcon"))},function(){return[(f(),pe(et(n.decrementIcon?"span":"ChevronDownIcon"),U({class:[n.cx("decrementIcon"),m.class]},n.ptm("pcDecrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","onKeydown","pt"])]})],16)):ae("",!0)],16,Bd)):ae("",!0),n.showButtonBar?(f(),I("div",U({key:2,class:n.cx("buttonbar")},n.ptm("buttonbar")),[ye(n.$slots,"buttonbar",{todayCallback:function(B){return l.onTodayButtonClick(B)},clearCallback:function(B){return l.onClearButtonClick(B)}},function(){return[ye(n.$slots,"todaybutton",{actionCallback:function(B){return l.onTodayButtonClick(B)},keydownCallback:function(B){return l.onContainerButtonKeydown(B)}},function(){return[V(b,U({label:l.todayLabel,onClick:e[53]||(e[53]=function(m){return l.onTodayButtonClick(m)}),class:n.cx("pcTodayButton"),unstyled:n.unstyled,onKeydown:l.onContainerButtonKeydown},n.todayButtonProps,{pt:n.ptm("pcTodayButton"),"data-pc-group-section":"button"}),null,16,["label","class","unstyled","onKeydown","pt"])]}),ye(n.$slots,"clearbutton",{actionCallback:function(B){return l.onClearButtonClick(B)},keydownCallback:function(B){return l.onContainerButtonKeydown(B)}},function(){return[V(b,U({label:l.clearLabel,onClick:e[54]||(e[54]=function(m){return l.onClearButtonClick(m)}),class:n.cx("pcClearButton"),unstyled:n.unstyled,onKeydown:l.onContainerButtonKeydown},n.clearButtonProps,{pt:n.ptm("pcClearButton"),"data-pc-group-section":"button"}),null,16,["label","class","unstyled","onKeydown","pt"])]})]})],16)):ae("",!0),ye(n.$slots,"footer")],16,Sd)):ae("",!0)]}),_:3},16,["onAfterEnter","onAfterLeave","onLeave"])]}),_:3},8,["appendTo","disabled"])],16,Id)}Eo.render=Hd;var jn={name:"Calendar",extends:Eo,mounted:function(){console.warn("Deprecated since v4. Use DatePicker component instead.")}},Ud=`
    .p-chip {
        display: inline-flex;
        align-items: center;
        background: dt('chip.background');
        color: dt('chip.color');
        border-radius: dt('chip.border.radius');
        padding-block: dt('chip.padding.y');
        padding-inline: dt('chip.padding.x');
        gap: dt('chip.gap');
    }

    .p-chip-icon {
        color: dt('chip.icon.color');
        font-size: dt('chip.icon.font.size');
        width: dt('chip.icon.size');
        height: dt('chip.icon.size');
    }

    .p-chip-image {
        border-radius: 50%;
        width: dt('chip.image.width');
        height: dt('chip.image.height');
        margin-inline-start: calc(-1 * dt('chip.padding.y'));
    }

    .p-chip:has(.p-chip-remove-icon) {
        padding-inline-end: dt('chip.padding.y');
    }

    .p-chip:has(.p-chip-image) {
        padding-block-start: calc(dt('chip.padding.y') / 2);
        padding-block-end: calc(dt('chip.padding.y') / 2);
    }

    .p-chip-remove-icon {
        cursor: pointer;
        font-size: dt('chip.remove.icon.size');
        width: dt('chip.remove.icon.size');
        height: dt('chip.remove.icon.size');
        color: dt('chip.remove.icon.color');
        border-radius: 50%;
        transition:
            outline-color dt('chip.transition.duration'),
            box-shadow dt('chip.transition.duration');
        outline-color: transparent;
    }

    .p-chip-remove-icon:focus-visible {
        box-shadow: dt('chip.remove.icon.focus.ring.shadow');
        outline: dt('chip.remove.icon.focus.ring.width') dt('chip.remove.icon.focus.ring.style') dt('chip.remove.icon.focus.ring.color');
        outline-offset: dt('chip.remove.icon.focus.ring.offset');
    }
`,Kd={root:"p-chip p-component",image:"p-chip-image",icon:"p-chip-icon",label:"p-chip-label",removeIcon:"p-chip-remove-icon"},Nd=Hl.extend({name:"chip",style:Ud,classes:Kd}),zd={name:"BaseChip",extends:Ms,props:{label:{type:[String,Number],default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:Nd,provide:function(){return{$pcChip:this,$parentInstance:this}}},Oo={name:"Chip",extends:zd,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(e){(e.key==="Enter"||e.key==="Backspace")&&this.close(e)},close:function(e){this.visible=!1,this.$emit("remove",e)}},computed:{dataP:function(){return Ht({removable:this.removable})}},components:{TimesCircleIcon:Ts}},Yd=["aria-label","data-p"],qd=["src"];function jd(n,e,i,t,s,l){return s.visible?(f(),I("div",U({key:0,class:n.cx("root"),"aria-label":n.label},n.ptmi("root"),{"data-p":l.dataP}),[ye(n.$slots,"default",{},function(){return[n.image?(f(),I("img",U({key:0,src:n.image},n.ptm("image"),{class:n.cx("image")}),null,16,qd)):n.$slots.icon?(f(),pe(et(n.$slots.icon),U({key:1,class:n.cx("icon")},n.ptm("icon")),null,16,["class"])):n.icon?(f(),I("span",U({key:2,class:[n.cx("icon"),n.icon]},n.ptm("icon")),null,16)):ae("",!0),n.label!==null?(f(),I("div",U({key:3,class:n.cx("label")},n.ptm("label")),te(n.label),17)):ae("",!0)]}),n.removable?ye(n.$slots,"removeicon",{key:0,removeCallback:l.close,keydownCallback:l.onKeydown},function(){return[(f(),pe(et(n.removeIcon?"span":"TimesCircleIcon"),U({class:[n.cx("removeIcon"),n.removeIcon],onClick:l.close,onKeydown:l.onKeydown},n.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):ae("",!0)],16,Yd)):ae("",!0)}Oo.render=jd;var Wd=`
    .p-multiselect {
        display: inline-flex;
        cursor: pointer;
        position: relative;
        user-select: none;
        background: dt('multiselect.background');
        border: 1px solid dt('multiselect.border.color');
        transition:
            background dt('multiselect.transition.duration'),
            color dt('multiselect.transition.duration'),
            border-color dt('multiselect.transition.duration'),
            outline-color dt('multiselect.transition.duration'),
            box-shadow dt('multiselect.transition.duration');
        border-radius: dt('multiselect.border.radius');
        outline-color: transparent;
        box-shadow: dt('multiselect.shadow');
    }

    .p-multiselect:not(.p-disabled):hover {
        border-color: dt('multiselect.hover.border.color');
    }

    .p-multiselect:not(.p-disabled).p-focus {
        border-color: dt('multiselect.focus.border.color');
        box-shadow: dt('multiselect.focus.ring.shadow');
        outline: dt('multiselect.focus.ring.width') dt('multiselect.focus.ring.style') dt('multiselect.focus.ring.color');
        outline-offset: dt('multiselect.focus.ring.offset');
    }

    .p-multiselect.p-variant-filled {
        background: dt('multiselect.filled.background');
    }

    .p-multiselect.p-variant-filled:not(.p-disabled):hover {
        background: dt('multiselect.filled.hover.background');
    }

    .p-multiselect.p-variant-filled.p-focus {
        background: dt('multiselect.filled.focus.background');
    }

    .p-multiselect.p-invalid {
        border-color: dt('multiselect.invalid.border.color');
    }

    .p-multiselect.p-disabled {
        opacity: 1;
        background: dt('multiselect.disabled.background');
    }

    .p-multiselect-dropdown {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        background: transparent;
        color: dt('multiselect.dropdown.color');
        width: dt('multiselect.dropdown.width');
        border-start-end-radius: dt('multiselect.border.radius');
        border-end-end-radius: dt('multiselect.border.radius');
    }

    .p-multiselect-clear-icon {
        align-self: center;
        color: dt('multiselect.clear.icon.color');
        inset-inline-end: dt('multiselect.dropdown.width');
    }

    .p-multiselect-label-container {
        overflow: hidden;
        flex: 1 1 auto;
        cursor: pointer;
    }

    .p-multiselect-label {
        white-space: nowrap;
        cursor: pointer;
        overflow: hidden;
        text-overflow: ellipsis;
        padding: dt('multiselect.padding.y') dt('multiselect.padding.x');
        color: dt('multiselect.color');
    }

    .p-multiselect-display-chip .p-multiselect-label {
        display: flex;
        align-items: center;
        gap: calc(dt('multiselect.padding.y') / 2);
    }

    .p-multiselect-label.p-placeholder {
        color: dt('multiselect.placeholder.color');
    }

    .p-multiselect.p-invalid .p-multiselect-label.p-placeholder {
        color: dt('multiselect.invalid.placeholder.color');
    }

    .p-multiselect.p-disabled .p-multiselect-label {
        color: dt('multiselect.disabled.color');
    }

    .p-multiselect-label-empty {
        overflow: hidden;
        visibility: hidden;
    }

    .p-multiselect-overlay {
        position: absolute;
        top: 0;
        left: 0;
        background: dt('multiselect.overlay.background');
        color: dt('multiselect.overlay.color');
        border: 1px solid dt('multiselect.overlay.border.color');
        border-radius: dt('multiselect.overlay.border.radius');
        box-shadow: dt('multiselect.overlay.shadow');
        min-width: 100%;
    }

    .p-multiselect-header {
        display: flex;
        align-items: center;
        padding: dt('multiselect.list.header.padding');
    }

    .p-multiselect-header .p-checkbox {
        margin-inline-end: dt('multiselect.option.gap');
    }

    .p-multiselect-filter-container {
        flex: 1 1 auto;
    }

    .p-multiselect-filter {
        width: 100%;
    }

    .p-multiselect-list-container {
        overflow: auto;
    }

    .p-multiselect-list {
        margin: 0;
        padding: 0;
        list-style-type: none;
        padding: dt('multiselect.list.padding');
        display: flex;
        flex-direction: column;
        gap: dt('multiselect.list.gap');
    }

    .p-multiselect-option {
        cursor: pointer;
        font-weight: normal;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        gap: dt('multiselect.option.gap');
        padding: dt('multiselect.option.padding');
        border: 0 none;
        color: dt('multiselect.option.color');
        background: transparent;
        transition:
            background dt('multiselect.transition.duration'),
            color dt('multiselect.transition.duration'),
            border-color dt('multiselect.transition.duration'),
            box-shadow dt('multiselect.transition.duration'),
            outline-color dt('multiselect.transition.duration');
        border-radius: dt('multiselect.option.border.radius');
    }

    .p-multiselect-option:not(.p-multiselect-option-selected):not(.p-disabled).p-focus {
        background: dt('multiselect.option.focus.background');
        color: dt('multiselect.option.focus.color');
    }

    .p-multiselect-option:not(.p-multiselect-option-selected):not(.p-disabled):hover {
        background: dt('multiselect.option.focus.background');
        color: dt('multiselect.option.focus.color');
    }

    .p-multiselect-option.p-multiselect-option-selected {
        background: dt('multiselect.option.selected.background');
        color: dt('multiselect.option.selected.color');
    }

    .p-multiselect-option.p-multiselect-option-selected.p-focus {
        background: dt('multiselect.option.selected.focus.background');
        color: dt('multiselect.option.selected.focus.color');
    }

    .p-multiselect-option-group {
        cursor: auto;
        margin: 0;
        padding: dt('multiselect.option.group.padding');
        background: dt('multiselect.option.group.background');
        color: dt('multiselect.option.group.color');
        font-weight: dt('multiselect.option.group.font.weight');
    }

    .p-multiselect-empty-message {
        padding: dt('multiselect.empty.message.padding');
    }

    .p-multiselect-label .p-chip {
        padding-block-start: calc(dt('multiselect.padding.y') / 2);
        padding-block-end: calc(dt('multiselect.padding.y') / 2);
        border-radius: dt('multiselect.chip.border.radius');
    }

    .p-multiselect-label:has(.p-chip) {
        padding: calc(dt('multiselect.padding.y') / 2) calc(dt('multiselect.padding.x') / 2);
    }

    .p-multiselect-fluid {
        display: flex;
        width: 100%;
    }

    .p-multiselect-sm .p-multiselect-label {
        font-size: dt('multiselect.sm.font.size');
        padding-block: dt('multiselect.sm.padding.y');
        padding-inline: dt('multiselect.sm.padding.x');
    }

    .p-multiselect-sm .p-multiselect-dropdown .p-icon {
        font-size: dt('multiselect.sm.font.size');
        width: dt('multiselect.sm.font.size');
        height: dt('multiselect.sm.font.size');
    }

    .p-multiselect-lg .p-multiselect-label {
        font-size: dt('multiselect.lg.font.size');
        padding-block: dt('multiselect.lg.padding.y');
        padding-inline: dt('multiselect.lg.padding.x');
    }

    .p-multiselect-lg .p-multiselect-dropdown .p-icon {
        font-size: dt('multiselect.lg.font.size');
        width: dt('multiselect.lg.font.size');
        height: dt('multiselect.lg.font.size');
    }

    .p-floatlabel-in .p-multiselect-filter {
        padding-block-start: dt('multiselect.padding.y');
        padding-block-end: dt('multiselect.padding.y');
    }
`,_d={root:function(e){var i=e.props;return{position:i.appendTo==="self"?"relative":void 0}}},Gd={root:function(e){var i=e.instance,t=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-display-chip":t.display==="chip","p-disabled":t.disabled,"p-invalid":i.$invalid,"p-variant-filled":i.$variant==="filled","p-focus":i.focused,"p-inputwrapper-filled":i.$filled,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-multiselect-open":i.overlayVisible,"p-multiselect-fluid":i.$fluid,"p-multiselect-sm p-inputfield-sm":t.size==="small","p-multiselect-lg p-inputfield-lg":t.size==="large"}]},labelContainer:"p-multiselect-label-container",label:function(e){var i=e.instance,t=e.props;return["p-multiselect-label",{"p-placeholder":i.label===t.placeholder,"p-multiselect-label-empty":!t.placeholder&&!i.$filled}]},clearIcon:"p-multiselect-clear-icon",chipItem:"p-multiselect-chip-item",pcChip:"p-multiselect-chip",chipIcon:"p-multiselect-chip-icon",dropdown:"p-multiselect-dropdown",loadingIcon:"p-multiselect-loading-icon",dropdownIcon:"p-multiselect-dropdown-icon",overlay:"p-multiselect-overlay p-component",header:"p-multiselect-header",pcFilterContainer:"p-multiselect-filter-container",pcFilter:"p-multiselect-filter",listContainer:"p-multiselect-list-container",list:"p-multiselect-list",optionGroup:"p-multiselect-option-group",option:function(e){var i=e.instance,t=e.option,s=e.index,l=e.getItemOptions,c=e.props;return["p-multiselect-option",{"p-multiselect-option-selected":i.isSelected(t)&&c.highlightOnSelect,"p-focus":i.focusedOptionIndex===i.getOptionIndex(s,l),"p-disabled":i.isOptionDisabled(t)}]},emptyMessage:"p-multiselect-empty-message"},Xd=Hl.extend({name:"multiselect",style:Wd,classes:Gd,inlineStyles:_d}),Jd={name:"BaseMultiSelect",extends:bo,props:{options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"14rem"},placeholder:String,inputId:{type:String,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},overlayClass:{type:String,default:null},overlayStyle:{type:null,default:null},dataKey:null,showClear:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},resetFilterOnClear:{type:Boolean,default:!1},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:null},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},chipIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:Xd,provide:function(){return{$pcMultiSelect:this,$parentInstance:this}}};function _n(n){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(n)}function Qa(n,e){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),i.push.apply(i,t)}return i}function $a(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Qa(Object(i),!0).forEach(function(t){Qt(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Qa(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))})}return n}function Qt(n,e,i){return(e=Zd(e))in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function Zd(n){var e=Qd(n,"string");return _n(e)=="symbol"?e:e+""}function Qd(n,e){if(_n(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var t=i.call(n,e);if(_n(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function eo(n){return nu(n)||tu(n)||eu(n)||$d()}function $d(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eu(n,e){if(n){if(typeof n=="string")return Pl(n,e);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Pl(n,e):void 0}}function tu(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function nu(n){if(Array.isArray(n))return Pl(n)}function Pl(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,t=Array(e);i<e;i++)t[i]=n[i];return t}var xl={name:"MultiSelect",extends:Jd,inheritAttrs:!1,emits:["change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],inject:{$pcFluid:{default:null}},outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{options:function(){this.autoUpdateModel()}},mounted:function(){this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(In.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,i){return this.virtualScrollerDisabled?e:i&&i(e).index},getOptionLabel:function(e){return this.optionLabel?kn(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?kn(e,this.optionValue):e},getOptionRenderKey:function(e,i){return this.dataKey?kn(e,this.dataKey):this.getOptionLabel(e)+"_".concat(i)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,i,t,s){return this.ptm(s,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(t,i),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?kn(e,this.optionDisabled):!1},isOptionGroup:function(e){return!!(this.optionGroupLabel&&e.optionGroup&&e.group)},getOptionGroupLabel:function(e){return kn(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return kn(e,this.optionGroupChildren)},getAriaPosInset:function(e){var i=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(t){return i.isOptionGroup(t)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&rn(this.$refs.focusInput)},hide:function(e){var i=this,t=function(){i.$emit("before-hide"),i.overlayVisible=!1,i.clicked=!1,i.focusedOptionIndex=-1,i.searchValue="",i.resetFilterOnHide&&(i.filterValue=null),e&&rn(i.$refs.focusInput)};setTimeout(function(){t()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),!this.autoFilterFocus&&this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){var i,t;this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e),(i=(t=this.formField).onBlur)===null||i===void 0||i.call(t)},onKeyDown:function(e){var i=this;if(this.disabled){e.preventDefault();return}var t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&t){var s=this.visibleOptions.filter(function(l){return i.isValidOption(l)}).map(function(l){return i.getOptionValue(l)});this.updateModel(e,s),e.preventDefault();break}!t&&Bs(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,[]),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var i=e.relatedTarget===this.$refs.focusInput?xs(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;rn(i)},onLastHiddenFocus:function(e){var i=e.relatedTarget===this.$refs.focusInput?Ps(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;rn(i)},onOptionSelect:function(e,i){var t=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(i))){var c=this.isSelected(i),d=null;c?d=this.d_value.filter(function(b){return!yi(b,t.getOptionValue(i),t.equalityKey)}):d=[].concat(eo(this.d_value||[]),[this.getOptionValue(i)]),this.updateModel(e,d),s!==-1&&(this.focusedOptionIndex=s),l&&rn(this.$refs.focusInput)}},onOptionMouseMove:function(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)},onOptionSelectRange:function(e){var i=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(t===-1&&(t=this.findNearestSelectedOptionIndex(s,!0)),s===-1&&(s=this.findNearestSelectedOptionIndex(t)),t!==-1&&s!==-1){var l=Math.min(t,s),c=Math.max(t,s),d=this.visibleOptions.slice(l,c+1).filter(function(b){return i.isValidOption(b)}).map(function(b){return i.getOptionValue(b)});this.updateModel(e,d)}},onFilterChange:function(e){var i=e.target.value;this.filterValue=i,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:i}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){yo.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var i=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,i),this.changeFocusedOptionIndex(e,i)}e.preventDefault()},onArrowUpKey:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!i)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var t=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,t,this.startRangeIndex),this.changeFocusedOptionIndex(e,t),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i){var t=e.currentTarget;e.shiftKey?t.setSelectionRange(0,e.target.selectionStart):(t.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else{var s=e.metaKey||e.ctrlKey,l=this.findFirstOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,l,this.startRangeIndex),this.changeFocusedOptionIndex(e,l),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i){var t=e.currentTarget;if(e.shiftKey)t.setSelectionRange(e.target.selectionStart,t.value.length);else{var s=t.value.length;t.setSelectionRange(s,s),this.focusedOptionIndex=-1}}else{var l=e.metaKey||e.ctrlKey,c=this.findLastOptionIndex();e.shiftKey&&l&&this.onOptionSelectRange(e,this.startRangeIndex,c),this.changeFocusedOptionIndex(e,c),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&(this.hide(!0),e.stopPropagation()),e.preventDefault()},onTabKey:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i||(this.overlayVisible&&this.hasFocusableElements()?(rn(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){In.set("overlay",e,this.$primevue.config.zIndex.overlay),Co(e,{position:"absolute",top:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&rn(this.$refs.filterInput.$el),this.autoUpdateModel(),this.$attrSelector&&e.setAttribute(this.$attrSelector,"")},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){In.clear(e)},alignOverlay:function(){this.appendTo==="self"?wo(this.overlay,this.$el):(this.overlay.style.minWidth=Di(this.$el)+"px",ko(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(i){e.overlayVisible&&e.isOutsideClicked(i)&&e.hide()},document.addEventListener("click",this.outsideClickListener,!0))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener,!0),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Do(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!Io()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var i=this,t=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],s=t.find(function(l){return!i.isOptionGroup(l)&&yi(i.getOptionValue(l),e,i.equalityKey)});return this.getOptionLabel(s)},getSelectedItemsLabel:function(){var e=/{(.*?)}/,i=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(i)?i.replace(i.match(e)[0],this.d_value.length+""):i},onToggleAll:function(e){var i=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var t=this.allSelected?[]:this.visibleOptions.filter(function(s){return i.isValidOption(s)}).map(function(s){return i.getOptionValue(s)});this.updateModel(e,t)}},removeOption:function(e,i){var t=this;e.stopPropagation();var s=this.d_value.filter(function(l){return!yi(l,i,t.equalityKey)});this.updateModel(e,s)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return Rl(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var i;return this.isValidOption(e)&&typeof this.getOptionLabel(e)=="string"&&((i=this.getOptionLabel(e))===null||i===void 0?void 0:i.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Zt(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,i){return yi(e,i,this.equalityKey)},isSelected:function(e){var i=this,t=this.getOptionValue(e);return(this.d_value||[]).some(function(s){return i.isEquals(s,t)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(i){return e.isValidOption(i)})},findLastOptionIndex:function(){var e=this;return bi(this.visibleOptions,function(i){return e.isValidOption(i)})},findNextOptionIndex:function(e){var i=this,t=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(s){return i.isValidOption(s)}):-1;return t>-1?t+e+1:e},findPrevOptionIndex:function(e){var i=this,t=e>0?bi(this.visibleOptions.slice(0,e),function(s){return i.isValidOption(s)}):-1;return t>-1?t:e},findSelectedOptionIndex:function(){var e=this;if(this.$filled){for(var i=function(){var c=e.d_value[s],d=e.visibleOptions.findIndex(function(b){return e.isValidSelectedOption(b)&&e.isEquals(c,e.getOptionValue(b))});if(d>-1)return{v:d}},t,s=this.d_value.length-1;s>=0;s--)if(t=i(),t)return t.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.$filled?this.visibleOptions.findIndex(function(i){return e.isValidSelectedOption(i)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.$filled?bi(this.visibleOptions,function(i){return e.isValidSelectedOption(i)}):-1},findNextSelectedOptionIndex:function(e){var i=this,t=this.$filled&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(s){return i.isValidSelectedOption(s)}):-1;return t>-1?t+e+1:-1},findPrevSelectedOptionIndex:function(e){var i=this,t=this.$filled&&e>0?bi(this.visibleOptions.slice(0,e),function(s){return i.isValidSelectedOption(s)}):-1;return t>-1?t:-1},findNearestSelectedOptionIndex:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=-1;return this.$filled&&(i?(t=this.findPrevSelectedOptionIndex(e),t=t===-1?this.findNextSelectedOptionIndex(e):t):(t=this.findNextSelectedOptionIndex(e),t=t===-1?this.findPrevSelectedOptionIndex(e):t)),t>-1?t:e},findFirstFocusedOptionIndex:function(){var e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var i=this;this.searchValue=(this.searchValue||"")+e.key;var t=-1;Zt(this.searchValue)&&(this.focusedOptionIndex!==-1?(t=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(s){return i.isOptionMatched(s)}),t=t===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(s){return i.isOptionMatched(s)}):t+this.focusedOptionIndex):t=this.visibleOptions.findIndex(function(s){return i.isOptionMatched(s)}),t===-1&&this.focusedOptionIndex===-1&&(t=this.findFirstFocusedOptionIndex()),t!==-1&&this.changeFocusedOptionIndex(e,t)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){i.searchValue="",i.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,i){this.focusedOptionIndex!==i&&(this.focusedOptionIndex=i,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[i]))},scrollInView:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var t=i!==-1?"".concat(e.$id,"_").concat(i):e.focusedOptionId,s=Bt(e.list,'li[id="'.concat(t,'"]'));s?s.scrollIntoView&&s.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(i!==-1?i:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.autoOptionFocus&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex()),this.selectOnFocus&&this.autoOptionFocus&&!this.$filled){var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,i){this.writeValue(i,e),this.$emit("change",{originalEvent:e,value:i})},flatOptions:function(e){var i=this;return(e||[]).reduce(function(t,s,l){var c=i.getOptionGroupChildren(s);return c&&Array.isArray(c)?(t.push({optionGroup:s,group:!0,index:l}),c.forEach(function(d){return t.push(d)})):t.push(s),t},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,i){this.list=e,i&&i(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,i=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var t=As.filter(i,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var s=this.options||[],l=[];return s.forEach(function(c){var d=e.getOptionGroupChildren(c),b=d.filter(function(C){return t.includes(C)});b.length>0&&l.push($a($a({},c),{},Qt({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",eo(b))))}),this.flatOptions(l)}return t}return i},label:function(){var e;if(this.d_value&&this.d_value.length){if(Zt(this.maxSelectedLabels)&&this.d_value.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var i=0;i<this.d_value.length;i++)i!==0&&(e+=", "),e+=this.getLabelByValue(this.d_value[i])}else e=this.placeholder;return e},chipSelectedItems:function(){return Zt(this.maxSelectedLabels)&&this.d_value&&this.d_value.length>this.maxSelectedLabels},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:Zt(this.visibleOptions)&&this.visibleOptions.every(function(i){return e.isOptionGroup(i)||e.isOptionDisabled(i)||e.isSelected(i)})},hasSelectedOption:function(){return this.$filled},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.d_value&&this.d_value.length===this.selectionLimit},filterResultMessageText:function(){return Zt(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.$filled?this.selectionMessageText.replaceAll("{0}",this.d_value.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.$id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(i){return!e.isOptionGroup(i)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions},hasFluid:function(){return Ii(this.fluid)?!!this.$pcFluid:this.fluid},isClearIconVisible:function(){return this.showClear&&this.d_value&&this.d_value.length&&this.d_value!=null&&Zt(this.options)&&!this.disabled&&!this.loading},containerDataP:function(){return Ht(Qt({invalid:this.$invalid,disabled:this.disabled,focus:this.focused,fluid:this.$fluid,filled:this.$variant==="filled"},this.size,this.size))},labelDataP:function(){return Ht(Qt(Qt(Qt({placeholder:this.label===this.placeholder,clearable:this.showClear,disabled:this.disabled},this.size,this.size),"has-chip",this.display==="chip"&&this.d_value&&this.d_value.length&&(this.maxSelectedLabels?this.d_value.length<=this.maxSelectedLabels:!0)),"empty",!this.placeholder&&!this.$filled))},dropdownIconDataP:function(){return Ht(Qt({},this.size,this.size))},overlayDataP:function(){return Ht(Qt({},"portal-"+this.appendTo,"portal-"+this.appendTo))}},directives:{ripple:mo},components:{InputText:sn,Checkbox:Wn,VirtualScroller:Fs,Portal:go,Chip:Oo,IconField:Rs,InputIcon:Vs,TimesIcon:ho,SearchIcon:Ls,ChevronDownIcon:vo,SpinnerIcon:Os,CheckIcon:Es}};function Gn(n){"@babel/helpers - typeof";return Gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gn(n)}function to(n,e,i){return(e=iu(e))in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function iu(n){var e=lu(n,"string");return Gn(e)=="symbol"?e:e+""}function lu(n,e){if(Gn(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var t=i.call(n,e);if(Gn(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var au=["data-p"],ou=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],ru=["data-p"],su={key:0},du=["data-p"],uu=["id","aria-label"],cu=["id"],pu=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-selected","data-p-focused","data-p-disabled"];function fu(n,e,i,t,s,l){var c=je("Chip"),d=je("SpinnerIcon"),b=je("Checkbox"),C=je("InputText"),R=je("SearchIcon"),m=je("InputIcon"),B=je("IconField"),x=je("VirtualScroller"),A=je("Portal"),M=Si("ripple");return f(),I("div",U({ref:"container",class:n.cx("root"),style:n.sx("root"),onClick:e[7]||(e[7]=function(){return l.onContainerClick&&l.onContainerClick.apply(l,arguments)}),"data-p":l.containerDataP},n.ptmi("root")),[o("div",U({class:"p-hidden-accessible"},n.ptm("hiddenInputContainer"),{"data-p-hidden-accessible":!0}),[o("input",U({ref:"focusInput",id:n.inputId,type:"text",readonly:"",disabled:n.disabled,placeholder:n.placeholder,tabindex:n.disabled?-1:n.tabindex,role:"combobox","aria-label":n.ariaLabel,"aria-labelledby":n.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":s.overlayVisible,"aria-controls":s.overlayVisible?n.$id+"_list":void 0,"aria-activedescendant":s.focused?l.focusedOptionId:void 0,"aria-invalid":n.invalid||void 0,onFocus:e[0]||(e[0]=function(){return l.onFocus&&l.onFocus.apply(l,arguments)}),onBlur:e[1]||(e[1]=function(){return l.onBlur&&l.onBlur.apply(l,arguments)}),onKeydown:e[2]||(e[2]=function(){return l.onKeyDown&&l.onKeyDown.apply(l,arguments)})},n.ptm("hiddenInput")),null,16,ou)],16),o("div",U({class:n.cx("labelContainer")},n.ptm("labelContainer")),[o("div",U({class:n.cx("label"),"data-p":l.labelDataP},n.ptm("label")),[ye(n.$slots,"value",{value:n.d_value,placeholder:n.placeholder},function(){return[n.display==="comma"?(f(),I(Ce,{key:0},[ze(te(l.label||"empty"),1)],64)):n.display==="chip"?(f(),I(Ce,{key:1},[l.chipSelectedItems?(f(),I("span",su,te(l.label),1)):(f(!0),I(Ce,{key:1},Je(n.d_value,function(L,P){return f(),I("span",U({key:"chip-".concat(n.optionValue?L:l.getLabelByValue(L),"_").concat(P),class:n.cx("chipItem")},{ref_for:!0},n.ptm("chipItem")),[ye(n.$slots,"chip",{value:L,removeCallback:function(j){return l.removeOption(j,L)}},function(){return[V(c,{class:we(n.cx("pcChip")),label:l.getLabelByValue(L),removeIcon:n.chipIcon||n.removeTokenIcon,removable:"",unstyled:n.unstyled,onRemove:function(j){return l.removeOption(j,L)},pt:n.ptm("pcChip")},{removeicon:ce(function(){return[ye(n.$slots,n.$slots.chipicon?"chipicon":"removetokenicon",{class:we(n.cx("chipIcon")),item:L,removeCallback:function(j){return l.removeOption(j,L)}})]}),_:2},1032,["class","label","removeIcon","unstyled","onRemove","pt"])]})],16)}),128)),!n.d_value||n.d_value.length===0?(f(),I(Ce,{key:2},[ze(te(n.placeholder||"empty"),1)],64)):ae("",!0)],64)):ae("",!0)]})],16,ru)],16),l.isClearIconVisible?ye(n.$slots,"clearicon",{key:0,class:we(n.cx("clearIcon")),clearCallback:l.onClearClick},function(){return[(f(),pe(et(n.clearIcon?"i":"TimesIcon"),U({ref:"clearIcon",class:[n.cx("clearIcon"),n.clearIcon],onClick:l.onClearClick},n.ptm("clearIcon"),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):ae("",!0),o("div",U({class:n.cx("dropdown")},n.ptm("dropdown")),[n.loading?ye(n.$slots,"loadingicon",{key:0,class:we(n.cx("loadingIcon"))},function(){return[n.loadingIcon?(f(),I("span",U({key:0,class:[n.cx("loadingIcon"),"pi-spin",n.loadingIcon],"aria-hidden":"true"},n.ptm("loadingIcon")),null,16)):(f(),pe(d,U({key:1,class:n.cx("loadingIcon"),spin:"","aria-hidden":"true"},n.ptm("loadingIcon")),null,16,["class"]))]}):ye(n.$slots,"dropdownicon",{key:1,class:we(n.cx("dropdownIcon"))},function(){return[(f(),pe(et(n.dropdownIcon?"span":"ChevronDownIcon"),U({class:[n.cx("dropdownIcon"),n.dropdownIcon],"aria-hidden":"true","data-p":l.dropdownIconDataP},n.ptm("dropdownIcon")),null,16,["class","data-p"]))]})],16),V(A,{appendTo:n.appendTo},{default:ce(function(){return[V(Ti,U({name:"p-anchored-overlay",onEnter:l.onOverlayEnter,onAfterEnter:l.onOverlayAfterEnter,onLeave:l.onOverlayLeave,onAfterLeave:l.onOverlayAfterLeave},n.ptm("transition")),{default:ce(function(){return[s.overlayVisible?(f(),I("div",U({key:0,ref:l.overlayRef,style:[n.panelStyle,n.overlayStyle],class:[n.cx("overlay"),n.panelClass,n.overlayClass],onClick:e[5]||(e[5]=function(){return l.onOverlayClick&&l.onOverlayClick.apply(l,arguments)}),onKeydown:e[6]||(e[6]=function(){return l.onOverlayKeyDown&&l.onOverlayKeyDown.apply(l,arguments)}),"data-p":l.overlayDataP},n.ptm("overlay")),[o("span",U({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return l.onFirstHiddenFocus&&l.onFirstHiddenFocus.apply(l,arguments)})},n.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),ye(n.$slots,"header",{value:n.d_value,options:l.visibleOptions}),n.showToggleAll&&n.selectionLimit==null||n.filter?(f(),I("div",U({key:0,class:n.cx("header")},n.ptm("header")),[n.showToggleAll&&n.selectionLimit==null?(f(),pe(b,{key:0,modelValue:l.allSelected,binary:!0,disabled:n.disabled,variant:n.variant,"aria-label":l.toggleAllAriaLabel,onChange:l.onToggleAll,unstyled:n.unstyled,pt:l.getHeaderCheckboxPTOptions("pcHeaderCheckbox"),formControl:{novalidate:!0}},{icon:ce(function(L){return[n.$slots.headercheckboxicon?(f(),pe(et(n.$slots.headercheckboxicon),{key:0,checked:L.checked,class:we(L.class)},null,8,["checked","class"])):L.checked?(f(),pe(et(n.checkboxIcon?"span":"CheckIcon"),U({key:1,class:[L.class,to({},n.checkboxIcon,L.checked)]},l.getHeaderCheckboxPTOptions("pcHeaderCheckbox.icon")),null,16,["class"])):ae("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):ae("",!0),n.filter?(f(),pe(B,{key:1,class:we(n.cx("pcFilterContainer")),unstyled:n.unstyled,pt:n.ptm("pcFilterContainer")},{default:ce(function(){return[V(C,{ref:"filterInput",value:s.filterValue,onVnodeMounted:l.onFilterUpdated,onVnodeUpdated:l.onFilterUpdated,class:we(n.cx("pcFilter")),placeholder:n.filterPlaceholder,disabled:n.disabled,variant:n.variant,unstyled:n.unstyled,role:"searchbox",autocomplete:"off","aria-owns":n.$id+"_list","aria-activedescendant":l.focusedOptionId,onKeydown:l.onFilterKeyDown,onBlur:l.onFilterBlur,onInput:l.onFilterChange,pt:n.ptm("pcFilter"),formControl:{novalidate:!0}},null,8,["value","onVnodeMounted","onVnodeUpdated","class","placeholder","disabled","variant","unstyled","aria-owns","aria-activedescendant","onKeydown","onBlur","onInput","pt"]),V(m,{unstyled:n.unstyled,pt:n.ptm("pcFilterIconContainer")},{default:ce(function(){return[ye(n.$slots,"filtericon",{},function(){return[n.filterIcon?(f(),I("span",U({key:0,class:n.filterIcon},n.ptm("filterIcon")),null,16)):(f(),pe(R,Hs(U({key:1},n.ptm("filterIcon"))),null,16))]})]}),_:3},8,["unstyled","pt"])]}),_:3},8,["class","unstyled","pt"])):ae("",!0),n.filter?(f(),I("span",U({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},n.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),te(l.filterResultMessageText),17)):ae("",!0)],16)):ae("",!0),o("div",U({class:n.cx("listContainer"),style:{"max-height":l.virtualScrollerDisabled?n.scrollHeight:""}},n.ptm("listContainer")),[V(x,U({ref:l.virtualScrollerRef},n.virtualScrollerOptions,{items:l.visibleOptions,style:{height:n.scrollHeight},tabindex:-1,disabled:l.virtualScrollerDisabled,pt:n.ptm("virtualScroller")}),Us({content:ce(function(L){var P=L.styleClass,ee=L.contentRef,j=L.items,w=L.getItemOptions,le=L.contentStyle,_=L.itemSize;return[o("ul",U({ref:function(re){return l.listRef(re,ee)},id:n.$id+"_list",class:[n.cx("list"),P],style:le,role:"listbox","aria-multiselectable":"true","aria-label":l.listAriaLabel},n.ptm("list")),[(f(!0),I(Ce,null,Je(j,function(ue,re){return f(),I(Ce,{key:l.getOptionRenderKey(ue,l.getOptionIndex(re,w))},[l.isOptionGroup(ue)?(f(),I("li",U({key:0,id:n.$id+"_"+l.getOptionIndex(re,w),style:{height:_?_+"px":void 0},class:n.cx("optionGroup"),role:"option"},{ref_for:!0},n.ptm("optionGroup")),[ye(n.$slots,"optiongroup",{option:ue.optionGroup,index:l.getOptionIndex(re,w)},function(){return[ze(te(l.getOptionGroupLabel(ue.optionGroup)),1)]})],16,cu)):Ne((f(),I("li",U({key:1,id:n.$id+"_"+l.getOptionIndex(re,w),style:{height:_?_+"px":void 0},class:n.cx("option",{option:ue,index:re,getItemOptions:w}),role:"option","aria-label":l.getOptionLabel(ue),"aria-selected":l.isSelected(ue),"aria-disabled":l.isOptionDisabled(ue),"aria-setsize":l.ariaSetSize,"aria-posinset":l.getAriaPosInset(l.getOptionIndex(re,w)),onClick:function(Se){return l.onOptionSelect(Se,ue,l.getOptionIndex(re,w),!0)},onMousemove:function(Se){return l.onOptionMouseMove(Se,l.getOptionIndex(re,w))}},{ref_for:!0},l.getCheckboxPTOptions(ue,w,re,"option"),{"data-p-selected":l.isSelected(ue),"data-p-focused":s.focusedOptionIndex===l.getOptionIndex(re,w),"data-p-disabled":l.isOptionDisabled(ue)}),[V(b,{defaultValue:l.isSelected(ue),binary:!0,tabindex:-1,variant:n.variant,unstyled:n.unstyled,pt:l.getCheckboxPTOptions(ue,w,re,"pcOptionCheckbox"),formControl:{novalidate:!0}},{icon:ce(function(ie){return[n.$slots.optioncheckboxicon||n.$slots.itemcheckboxicon?(f(),pe(et(n.$slots.optioncheckboxicon||n.$slots.itemcheckboxicon),{key:0,checked:ie.checked,class:we(ie.class)},null,8,["checked","class"])):ie.checked?(f(),pe(et(n.checkboxIcon?"span":"CheckIcon"),U({key:1,class:[ie.class,to({},n.checkboxIcon,ie.checked)]},{ref_for:!0},l.getCheckboxPTOptions(ue,w,re,"pcOptionCheckbox.icon")),null,16,["class"])):ae("",!0)]}),_:2},1032,["defaultValue","variant","unstyled","pt"]),ye(n.$slots,"option",{option:ue,selected:l.isSelected(ue),index:l.getOptionIndex(re,w)},function(){return[o("span",U({ref_for:!0},n.ptm("optionLabel")),te(l.getOptionLabel(ue)),17)]})],16,pu)),[[M]])],64)}),128)),s.filterValue&&(!j||j&&j.length===0)?(f(),I("li",U({key:0,class:n.cx("emptyMessage"),role:"option"},n.ptm("emptyMessage")),[ye(n.$slots,"emptyfilter",{},function(){return[ze(te(l.emptyFilterMessageText),1)]})],16)):!n.options||n.options&&n.options.length===0?(f(),I("li",U({key:1,class:n.cx("emptyMessage"),role:"option"},n.ptm("emptyMessage")),[ye(n.$slots,"empty",{},function(){return[ze(te(l.emptyMessageText),1)]})],16)):ae("",!0)],16,uu)]}),_:2},[n.$slots.loader?{name:"loader",fn:ce(function(L){var P=L.options;return[ye(n.$slots,"loader",{options:P})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),ye(n.$slots,"footer",{value:n.d_value,options:l.visibleOptions}),!n.options||n.options&&n.options.length===0?(f(),I("span",U({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},n.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),te(l.emptyMessageText),17)):ae("",!0),o("span",U({role:"status","aria-live":"polite",class:"p-hidden-accessible"},n.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),te(l.selectedMessageText),17),o("span",U({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[4]||(e[4]=function(){return l.onLastHiddenFocus&&l.onLastHiddenFocus.apply(l,arguments)})},n.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16,du)):ae("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,au)}xl.render=fu;const mu={__name:"MemoEditDialog",props:{visible:{type:Boolean,default:!1},modelValue:{type:String,default:""},header:{type:String,default:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞"}},emits:["update:visible","update:modelValue","save","cancel"],setup(n,{expose:e,emit:i}){e();const t=n,s=i,l=D(null);wt(()=>t.visible,d=>{d&&lt(()=>{var b,C;(C=(b=l.value)==null?void 0:b.$el)==null||C.focus()})});const c={props:t,emit:s,textareaRef:l,ref:D,watch:wt,nextTick:lt,get Dialog(){return Xn},get Textarea(){return Dn},get Button(){return Sn}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}},hu={class:"memo-edit-content"};function vu(n,e,i,t,s,l){return f(),pe(t.Dialog,{visible:i.visible,header:i.header,style:{width:"600px"},modal:!0,"onUpdate:visible":e[6]||(e[6]=c=>n.$emit("update:visible",c)),onHide:e[7]||(e[7]=c=>n.$emit("cancel"))},{footer:ce(()=>[V(t.Button,{label:"–û—Ç–º–µ–Ω–∞",icon:"pi pi-times",onClick:e[4]||(e[4]=c=>n.$emit("cancel")),text:""}),V(t.Button,{label:"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",icon:"pi pi-check",onClick:e[5]||(e[5]=c=>n.$emit("save"))})]),default:ce(()=>[o("div",hu,[V(t.Textarea,{ref:"textareaRef",modelValue:i.modelValue,"onUpdate:modelValue":e[0]||(e[0]=c=>n.$emit("update:modelValue",c)),autoResize:!0,rows:"10",class:"w-full",placeholder:"–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç...",onKeydown:[e[1]||(e[1]=Ae(Xe(()=>{},["stop"]),["enter"])),e[2]||(e[2]=Ae(Xe(c=>n.$emit("save"),["ctrl"]),["enter"])),e[3]||(e[3]=Ae(Xe(c=>n.$emit("save"),["meta"]),["enter"]))]},null,8,["modelValue"]),e[8]||(e[8]=o("div",{class:"memo-hint mt-2 text-sm text-color-secondary"},[o("i",{class:"pi pi-info-circle mr-1"}),ze(" Ctrl+Enter –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è ")],-1))])]),_:1},8,["visible","header"])}const gu=dn(mu,[["render",vu],["__scopeId","data-v-c4924474"],["__file","/home/hive/integram-standalone/src/components/integram/DataTable/dialogs/MemoEditDialog.vue"]]),bu={__name:"ChangeParentDialog",props:{visible:{type:Boolean,default:!1},modelValue:{type:[String,Number],default:null},row:{type:Object,default:null},parentOptions:{type:Array,default:()=>[]},firstHeaderId:{type:String,default:null}},emits:["update:visible","update:modelValue","confirm","make-independent","cancel"],setup(n,{expose:e,emit:i}){e();const t=n,s=i,l=Te(()=>{var d,b;return t.row?t.firstHeaderId&&((b=(d=t.row.cells)==null?void 0:d[t.firstHeaderId])!=null&&b.value)?t.row.cells[t.firstHeaderId].value:t.row.id:""}),c={props:t,emit:s,rowDisplayName:l,computed:Te,get Dialog(){return Xn},get Dropdown(){return Ci},get Button(){return Sn}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}},yu={class:"change-parent-content"},wu={class:"mb-3"},ku={class:"field mb-4"};function Iu(n,e,i,t,s,l){return f(),pe(t.Dialog,{visible:i.visible,header:"–ò–∑–º–µ–Ω–∏—Ç—å –ø–æ–¥—á–∏–Ω—ë–Ω–Ω–æ—Å—Ç—å",style:{width:"500px"},modal:!0,"onUpdate:visible":e[4]||(e[4]=c=>n.$emit("update:visible",c))},{footer:ce(()=>[V(t.Button,{label:"–û—Ç–º–µ–Ω–∞",icon:"pi pi-times",onClick:e[1]||(e[1]=c=>n.$emit("cancel")),text:""}),V(t.Button,{label:"–°–¥–µ–ª–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π",icon:"pi pi-link",onClick:e[2]||(e[2]=c=>n.$emit("make-independent")),severity:"secondary"}),V(t.Button,{label:"–ü–µ—Ä–µ–ø–æ–¥—á–∏–Ω–∏—Ç—å",icon:"pi pi-check",onClick:e[3]||(e[3]=c=>n.$emit("confirm")),disabled:!i.modelValue},null,8,["disabled"])]),default:ce(()=>[o("div",yu,[o("p",wu,[e[5]||(e[5]=o("strong",null,"–ó–∞–ø–∏—Å—å:",-1)),ze(" "+te(t.rowDisplayName),1)]),o("div",ku,[e[6]||(e[6]=o("label",{for:"newParentSelect",class:"block mb-2"},"–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é –∑–∞–ø–∏—Å—å:",-1)),V(t.Dropdown,{id:"newParentSelect",modelValue:i.modelValue,"onUpdate:modelValue":e[0]||(e[0]=c=>n.$emit("update:modelValue",c)),options:i.parentOptions,optionLabel:"name",optionValue:"id",placeholder:"–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–ø–∏—Å—å...",class:"w-full",filter:"",filterPlaceholder:"–ü–æ–∏—Å–∫...",showClear:"",emptyMessage:i.parentOptions.length===0?"–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π":"–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"},null,8,["modelValue","options","emptyMessage"])])])]),_:1},8,["visible"])}const Du=dn(bu,[["render",Iu],["__scopeId","data-v-542ed71a"],["__file","/home/hive/integram-standalone/src/components/integram/DataTable/dialogs/ChangeParentDialog.vue"]]),Cu={__name:"ButtonActionDialog",props:{visible:{type:Boolean,default:!1},buttonLabel:{type:String,default:""},selectedAction:{type:Object,default:null},actions:{type:Array,default:()=>[]},initialParams:{type:Object,default:()=>({})}},emits:["update:visible","update:buttonLabel","update:selectedAction","confirm","cancel"],setup(n,{expose:e,emit:i}){e();const t=n,s=i,l=D({targetId:"[ID]",headerId:"",value:"",parentId:"",customUrl:""});function c(x){s("update:selectedAction",x),l.value={targetId:"[ID]",headerId:"",value:"",parentId:"",customUrl:"",...t.initialParams}}function d(x,A){l.value[x]=A}function b(x){return{headerId:"995832 (ID —Å—Ç–æ–ª–±—Ü–∞ –∏–∑ URL)",value:"–ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ [VAL]",parentId:"995870 (ID —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä–æ–∫–∏)",customUrl:"api/my-action/[ID]?value=[VAL]"}[x]||""}function C(x){return{headerId:"ID —Å—Ç–æ–ª–±—Ü–∞ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ URL –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫",value:"–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [VAL] –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞",parentId:"ID —Å—Ç—Ä–æ–∫–∏, –∫ –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –æ–±—ä–µ–∫—Ç",customUrl:"–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [ID] –¥–ª—è ID —Å—Ç—Ä–æ–∫–∏ –∏ [VAL] –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è"}[x]||""}const R=Te(()=>{if(!t.selectedAction)return"";if(t.selectedAction.actionType==="custom-url")return l.value.customUrl||"–£–∫–∞–∂–∏—Ç–µ URL";let x=t.selectedAction.endpoint||"";l.value.targetId&&(x=x.replace("[ID]",l.value.targetId));const A=[];return l.value.headerId&&A.push(`headerId=${l.value.headerId}`),l.value.value&&A.push(`value=${l.value.value}`),l.value.parentId&&A.push(`parentId=${l.value.parentId}`),A.length>0&&(x+="?"+A.join("&")),`${t.selectedAction.method||"POST"} ${x}`}),m=Te(()=>{if(!t.selectedAction)return!1;const x=t.selectedAction.params||[];for(const A of x)if(!l.value[A])return!1;return!0});wt(()=>t.initialParams,x=>{l.value={targetId:"[ID]",headerId:"",value:"",parentId:"",customUrl:"",...x}},{deep:!0,immediate:!0});const B={props:t,emit:s,actionParams:l,selectAction:c,updateParam:d,getParamPlaceholder:b,getParamHint:C,previewEndpoint:R,isValid:m,ref:D,computed:Te,watch:wt,get Dialog(){return Xn},get InputText(){return sn},get Textarea(){return Dn},get Button(){return Sn}};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}},Su={class:"button-action-content"},Tu={class:"field mb-4"},Mu={class:"button-action-list mb-4"},Eu=["onClick"],Ou={class:"action-icon"},Lu={class:"action-info"},Vu={class:"action-label"},Ru={class:"action-description"},Fu={key:0,class:"action-endpoint"},Au={key:0,class:"action-check"},Pu={key:0,class:"advanced-params"},xu={key:0,class:"field mb-3"},Bu={class:"block mb-2 text-sm"},Hu={class:"text-color-secondary mt-1 block"},Uu={key:1,class:"preview-section mt-4 p-3"},Ku={class:"preview-code"};function Nu(n,e,i,t,s,l){return f(),pe(t.Dialog,{visible:i.visible,header:"–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–Ω–æ–ø–∫—É",style:{width:"600px"},modal:!0,"onUpdate:visible":e[4]||(e[4]=c=>n.$emit("update:visible",c))},{footer:ce(()=>[V(t.Button,{label:"–û—Ç–º–µ–Ω–∞",icon:"pi pi-times",onClick:e[2]||(e[2]=c=>n.$emit("cancel")),text:""}),V(t.Button,{label:"–ü—Ä–∏–º–µ–Ω–∏—Ç—å",icon:"pi pi-check",onClick:e[3]||(e[3]=c=>n.$emit("confirm",{action:i.selectedAction,params:t.actionParams})),disabled:!i.selectedAction||!t.isValid},null,8,["disabled"])]),default:ce(()=>[o("div",Su,[o("div",Tu,[e[5]||(e[5]=o("label",{class:"block mb-2 font-semibold text-sm"},"–¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏",-1)),V(t.InputText,{modelValue:i.buttonLabel,"onUpdate:modelValue":e[0]||(e[0]=c=>n.$emit("update:buttonLabel",c)),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä: –£–¥–∞–ª–∏—Ç—å, –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å...",class:"w-full"},null,8,["modelValue"])]),e[10]||(e[10]=o("div",{class:"field mb-4"},[o("label",{class:"block mb-2 font-semibold text-sm"},"–î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ")],-1)),o("div",Mu,[(f(!0),I(Ce,null,Je(i.actions,c=>{var d,b;return f(),I("div",{key:c.id,class:we(["button-action-item",{selected:((d=i.selectedAction)==null?void 0:d.id)===c.id,danger:c.danger}]),onClick:C=>t.selectAction(c)},[o("div",Ou,[o("i",{class:we(c.icon)},null,2)]),o("div",Lu,[o("div",Vu,te(c.label),1),o("div",Ru,te(c.description),1),c.endpoint?(f(),I("div",Fu,[o("code",null,te(c.method||"POST")+" "+te(c.endpoint),1)])):ae("",!0)]),((b=i.selectedAction)==null?void 0:b.id)===c.id?(f(),I("div",Au,[...e[6]||(e[6]=[o("i",{class:"pi pi-check"},null,-1)])])):ae("",!0)],10,Eu)}),128))]),i.selectedAction?(f(),I("div",Pu,[e[9]||(e[9]=o("div",{class:"params-header mb-3"},[o("i",{class:"pi pi-cog"}),o("span",null,"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–µ–π—Å—Ç–≤–∏—è")],-1)),i.selectedAction.actionType==="api-macro"?(f(),I("div",xu,[e[7]||(e[7]=o("label",{class:"block mb-2 text-sm"},[o("strong",null,"ID —Å—Ç—Ä–æ–∫–∏:"),o("span",{class:"text-color-secondary ml-2"},"([ID] = —Ç–µ–∫—É—â–∞—è —Å—Ç—Ä–æ–∫–∞, –∏–ª–∏ —É–∫–∞–∂–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π ID)")],-1)),V(t.InputText,{modelValue:t.actionParams.targetId,"onUpdate:modelValue":e[1]||(e[1]=c=>t.updateParam("targetId",c)),placeholder:"[ID] –∏–ª–∏ 995882",class:"w-full font-mono"},null,8,["modelValue"])])):ae("",!0),(f(!0),I(Ce,null,Je(i.selectedAction.params||[],c=>{var d;return f(),I("div",{key:c,class:"field mb-3"},[o("label",Bu,[o("strong",null,te(((d=i.selectedAction.paramLabels)==null?void 0:d[c])||c)+":",1)]),c!=="customUrl"?(f(),pe(t.InputText,{key:0,modelValue:t.actionParams[c],"onUpdate:modelValue":b=>t.updateParam(c,b),placeholder:t.getParamPlaceholder(c),class:"w-full font-mono"},null,8,["modelValue","onUpdate:modelValue","placeholder"])):(f(),pe(t.Textarea,{key:1,modelValue:t.actionParams[c],"onUpdate:modelValue":b=>t.updateParam(c,b),placeholder:t.getParamPlaceholder(c),class:"w-full font-mono",rows:"3"},null,8,["modelValue","onUpdate:modelValue","placeholder"])),o("small",Hu,te(t.getParamHint(c)),1)])}),128)),i.selectedAction.endpoint||i.selectedAction.actionType==="custom-url"?(f(),I("div",Uu,[e[8]||(e[8]=o("div",{class:"preview-label mb-2"},[o("i",{class:"pi pi-eye"}),o("span",null,"–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä:")],-1)),o("code",Ku,te(t.previewEndpoint),1)])):ae("",!0)])):ae("",!0)])]),_:1},8,["visible"])}const zu=dn(Cu,[["render",Nu],["__scopeId","data-v-1dedee0b"],["__file","/home/hive/integram-standalone/src/components/integram/DataTable/dialogs/ButtonActionDialog.vue"]]),Yu={__name:"ConditionalFormattingDialog",props:{visible:{type:Boolean,default:!1},rule:{type:Object,default:null},existingRules:{type:Array,default:()=>[]},conditionOptions:{type:Array,default:()=>[{label:"–ë–æ–ª—å—à–µ —á–µ–º",value:"greater"},{label:"–ú–µ–Ω—å—à–µ —á–µ–º",value:"less"},{label:"–†–∞–≤–Ω–æ",value:"equal"},{label:"–°–æ–¥–µ—Ä–∂–∏—Ç",value:"contains"},{label:"–ü—É—Å—Ç–æ",value:"empty"},{label:"–ù–µ –ø—É—Å—Ç–æ",value:"notEmpty"}]},backgroundColors:{type:Array,default:()=>["#dcfce7","#fef3c7","#fee2e2","#dbeafe","#e9d5ff"]},textColors:{type:Array,default:()=>["#166534","#92400e","#991b1b","#1e40af","#6b21a8"]}},emits:["update:visible","update:rule","save","delete-rule","cancel"],setup(n,{expose:e,emit:i}){e();const t=n,s=i,l=Te(()=>!t.rule||!t.rule.headerId?[]:t.existingRules.filter(b=>b.headerId===t.rule.headerId&&b.id!==t.rule.id)),d={props:t,emit:s,relatedRules:l,updateRule:(b,C)=>{if(!t.rule)return;const R={...t.rule,[b]:C};s("update:rule",R)},computed:Te,get Dialog(){return Xn},get Dropdown(){return Ci},get InputText(){return sn},get Button(){return Sn}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},qu={key:0,class:"formatting-dialog-content"},ju={class:"field mb-3"},Wu={key:0,class:"field mb-3"},_u={class:"field mb-3"},Gu={class:"flex gap-2 flex-wrap"},Xu=["onClick"],Ju={class:"field mb-3"},Zu={class:"flex gap-2 flex-wrap"},Qu=["onClick"],$u={key:1,class:"mt-4"};function ec(n,e,i,t,s,l){return f(),pe(t.Dialog,{visible:i.visible,header:"üé® –£—Å–ª–æ–≤–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",style:{width:"500px"},modal:!0,"onUpdate:visible":e[4]||(e[4]=c=>n.$emit("update:visible",c))},{footer:ce(()=>[V(t.Button,{label:"–û—Ç–º–µ–Ω–∞",icon:"pi pi-times",onClick:e[2]||(e[2]=c=>n.$emit("cancel")),text:""}),V(t.Button,{label:"–ü—Ä–∏–º–µ–Ω–∏—Ç—å",icon:"pi pi-check",onClick:e[3]||(e[3]=c=>n.$emit("save"))})]),default:ce(()=>[i.rule?(f(),I("div",qu,[o("div",ju,[e[5]||(e[5]=o("label",{class:"block mb-2 font-semibold"},"–£—Å–ª–æ–≤–∏–µ",-1)),V(t.Dropdown,{modelValue:i.rule.condition,"onUpdate:modelValue":e[0]||(e[0]=c=>t.updateRule("condition",c)),options:i.conditionOptions,optionLabel:"label",optionValue:"value",placeholder:"–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª–æ–≤–∏–µ...",class:"w-full"},null,8,["modelValue","options"])]),["empty","notEmpty"].includes(i.rule.condition)?ae("",!0):(f(),I("div",Wu,[e[6]||(e[6]=o("label",{class:"block mb-2 font-semibold"},"–ó–Ω–∞—á–µ–Ω–∏–µ",-1)),V(t.InputText,{modelValue:i.rule.value,"onUpdate:modelValue":e[1]||(e[1]=c=>t.updateRule("value",c)),placeholder:"–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ...",class:"w-full"},null,8,["modelValue"])])),o("div",_u,[e[7]||(e[7]=o("label",{class:"block mb-2 font-semibold"},"–¶–≤–µ—Ç —Ñ–æ–Ω–∞",-1)),o("div",Gu,[(f(!0),I(Ce,null,Je(i.backgroundColors,c=>(f(),I("div",{key:c,class:we(["color-box",{selected:i.rule.backgroundColor===c}]),style:mt({backgroundColor:c}),onClick:d=>t.updateRule("backgroundColor",c)},null,14,Xu))),128))])]),o("div",Ju,[e[8]||(e[8]=o("label",{class:"block mb-2 font-semibold"},"–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞",-1)),o("div",Zu,[(f(!0),I(Ce,null,Je(i.textColors,c=>(f(),I("div",{key:c,class:we(["color-box",{selected:i.rule.textColor===c}]),style:mt({backgroundColor:c}),onClick:d=>t.updateRule("textColor",c)},null,14,Qu))),128))])]),o("div",{class:"preview-box p-3 border-round",style:mt({backgroundColor:i.rule.backgroundColor,color:i.rule.textColor})},[...e[9]||(e[9]=[o("strong",null,"–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä:",-1),ze(" –û–±—Ä–∞–∑–µ—Ü —Ç–µ–∫—Å—Ç–∞ ",-1)])],4),t.relatedRules.length>0?(f(),I("div",$u,[e[10]||(e[10]=o("label",{class:"block mb-2 font-semibold"},"–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —ç—Ç–æ–π –∫–æ–ª–æ–Ω–∫–∏:",-1)),(f(!0),I(Ce,null,Je(t.relatedRules,c=>(f(),I("div",{key:c.id,class:"existing-rule p-2 mb-2 border-round flex align-items-center justify-content-between",style:mt({backgroundColor:c.backgroundColor,color:c.textColor})},[o("span",null,te(c.condition)+" "+te(c.value),1),V(t.Button,{icon:"pi pi-trash",text:"",severity:"danger",size:"small",onClick:d=>n.$emit("delete-rule",c.id)},null,8,["onClick"])],4))),128))])):ae("",!0)])):ae("",!0)]),_:1},8,["visible"])}const tc=dn(Yu,[["render",ec],["__scopeId","data-v-ec7a842f"],["__file","/home/hive/integram-standalone/src/components/integram/DataTable/dialogs/ConditionalFormattingDialog.vue"]]),nc={__name:"ImagePreviewDialog",props:{visible:{type:Boolean,default:!1},imageUrl:{type:String,default:""},filename:{type:String,default:"–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"}},emits:["update:visible","download","error"],setup(n,{expose:e}){e();const i={get Dialog(){return Xn},get Button(){return Sn}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}},ic={class:"image-preview-container"},lc=["src","alt"];function ac(n,e,i,t,s,l){return f(),pe(t.Dialog,{visible:i.visible,header:i.filename,style:{width:"auto",maxWidth:"90vw"},modal:!0,dismissableMask:!0,class:"image-preview-dialog","onUpdate:visible":e[3]||(e[3]=c=>n.$emit("update:visible",c))},{footer:ce(()=>[V(t.Button,{label:"–°–∫–∞—á–∞—Ç—å",icon:"pi pi-download",onClick:e[1]||(e[1]=c=>n.$emit("download"))}),V(t.Button,{label:"–ó–∞–∫—Ä—ã—Ç—å",icon:"pi pi-times",onClick:e[2]||(e[2]=c=>n.$emit("update:visible",!1)),text:""})]),default:ce(()=>[o("div",ic,[o("img",{src:i.imageUrl,alt:i.filename,class:"image-preview-img",onError:e[0]||(e[0]=c=>n.$emit("error"))},null,40,lc)])]),_:1},8,["visible","header"])}const oc=dn(nc,[["render",ac],["__scopeId","data-v-48a7c4e5"],["__file","/home/hive/integram-standalone/src/components/integram/DataTable/dialogs/ImagePreviewDialog.vue"]]);function no(n,e,i,t,s,l,c,d,b,C){const R=D(null),m=D(null),B=D([]),x=D([]),A=D(null),M=D(null),L=D(!1),P=D(!1),ee=D(null),j=D(""),w=D(!1),le=D("–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞"),_=D(null),ue=D(new Map),re=F=>{F.key==="Escape"&&P.value&&(L.value=!0)};wt(P,(F,z)=>{F&&!z?document.addEventListener("keydown",re,!0):!F&&z&&document.removeEventListener("keydown",re,!0)}),wt(R,F=>{if(F&&F.headerId){const z=i.value.find(Z=>Z.id===F.headerId);z!=null&&z.dirTableId&&lt(()=>{const Z=document.querySelector(".seamless-editor .p-dropdown, .seamless-editor .p-multiselect");if(Z){const $=Z.querySelector("input");$&&$.focus()}})}});const ie=(F,z)=>{var Z,$,$e,qe;return((Z=R.value)==null?void 0:Z.headerId)===F&&(($=R.value)==null?void 0:$.rowId)===z||(($e=ee.value)==null?void 0:$e.headerId)===F&&((qe=ee.value)==null?void 0:qe.rowId)===z},Se=(F,z)=>{var Z,$;return((Z=R.value)==null?void 0:Z.headerId)===F&&(($=R.value)==null?void 0:$.rowId)===z},ve=async(F,z)=>{var at,Be,Me;if(console.log("[DataTable] startCellEdit called",{headerId:F,rowId:z,disableEditing:n.disableEditing}),n.disableEditing)return;if(((at=R.value)==null?void 0:at.headerId)===F&&((Be=R.value)==null?void 0:Be.rowId)===z){console.log("[DataTable] startCellEdit: already editing this cell, skipping");return}L.value=!1,l();const Z=(Me=e.value.find(be=>be.id===z))==null?void 0:Me.cells[F],$=i.value.find(be=>be.id===F),$e=($==null?void 0:$.columnType)==="dir"||($==null?void 0:$.columnType)==="multi";if((($==null?void 0:$.nested)||($==null?void 0:$.columnType)==="nested"||(Z==null?void 0:Z.nested))&&!$e){console.log("[DataTable] startCellEdit: nested cell, calling handleCellDoubleClick"),nt($,Z);return}if(($==null?void 0:$.type)===11){console.log("[DataTable] startCellEdit: Boolean type, skipping inline edit (checkbox handles it)");return}if(($==null?void 0:$.type)===12){console.log("[DataTable] startCellEdit: MEMO type, opening dialog"),ee.value={headerId:F,rowId:z},j.value=(Z==null?void 0:Z.value)||"",le.value=$.value||"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞",w.value=!0,lt(()=>{var be,Ye;(Ye=(be=_.value)==null?void 0:be.$el)==null||Ye.focus()});return}if(($==null?void 0:$.type)===2){console.log("[DataTable] startCellEdit: HTML type, opening dialog"),ee.value={headerId:F,rowId:z},j.value=(Z==null?void 0:Z.value)||"",le.value=$.value||"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HTML",w.value=!0,lt(()=>{var be,Ye;(Ye=(be=_.value)==null?void 0:be.$el)==null||Ye.focus()});return}if(($==null?void 0:$.type)===5){console.log("[DataTable] startCellEdit: GRANT type, loading grant options"),R.value={headerId:F,rowId:z},A.value=$,m.value=(Z==null?void 0:Z.value)||null,(!(b!=null&&b.value)||b.value.length===0)&&(console.log("[DataTable] startCellEdit: GRANT options not loaded, loading now..."),C()),B.value=(b==null?void 0:b.value)||[],lt(()=>{ge()});return}if(A.value=$,console.log("[DataTable] startCellEdit: header set",{header:$,dirTableId:$==null?void 0:$.dirTableId,columnType:$==null?void 0:$.columnType}),Z){if(R.value={headerId:F,rowId:z},console.log("[DataTable] startCellEdit: editingCell set",R.value),$.dirTableId)console.log("[DataTable] startCellEdit: dirTableId detected, will load directory list"),$.columnType==="multi"?x.value=Z.dirValues?Z.dirValues.map(be=>be.dirRowId):[]:m.value=Z.dirRowId||null,s("load-directory-list",{dirTableId:$.dirTableId,callback:be=>{B.value=be,$.columnType==="multi"?oe():ge()}});else if([4,9].includes($.type)&&typeof Z.value=="number"?m.value=new Date(Z.value*1e3):m.value=Z.value,await lt(),await lt(),M.value){const be=Array.isArray(M.value)?M.value[0]:M.value;if(!be)return;const Ye=be.$el||be;if(Ye){const ot=Ye.querySelector?Ye.querySelector("input, textarea"):Ye;if(ot&&typeof ot.focus=="function"){ot.focus();try{ot.select&&typeof ot.select=="function"?ot.select():ot.setSelectionRange&&ot.value!==void 0&&ot.setSelectionRange(0,String(ot.value).length)}catch{}}}}}},oe=async()=>{await lt(),await lt(),requestAnimationFrame(()=>{setTimeout(()=>{const F=document.querySelector(".seamless-editor .p-multiselect")||document.querySelector(".seamless-editor.p-multiselect")||document.querySelector(".cell-editor .p-multiselect");F&&F.click()},30)})},ge=async()=>{console.log("[DataTable] autoOpenDropdown called"),await lt(),requestAnimationFrame(()=>{setTimeout(()=>{const F=document.querySelector(".seamless-editor.p-dropdown");if(console.log("[DataTable] autoOpenDropdown: looking for dropdown",F),F){const z=F.querySelector("input");z&&z.focus();const Z=F.querySelector(".p-dropdown-trigger");console.log("[DataTable] autoOpenDropdown: found trigger",Z),Z&&Z.click()}else console.log("[DataTable] autoOpenDropdown: dropdown NOT found")},20)})},ke=(F,z)=>{const Z=i.value.find(at=>at.id===F);let $,$e,qe;if(Z!=null&&Z.dirTableId){if(Z.columnType==="multi"){const Be=x.value;$=B.value.filter(Ye=>Be.includes(Ye.id)).map(Ye=>Ye.value).join(", "),qe=Be.map(Ye=>({dirRowId:Ye}));const be=`${z}:${F}`;ue.value.set(be,$),s("cell-multi-update",{rowId:z,headerId:F,dirTableId:Z.dirTableId,dirValues:qe}),d(F,z);return}else{const Be=m.value,Me=B.value.find(be=>be.id===Be);$=Me?Me.value:"",$e=Be}const at=`${z}:${F}`;ue.value.set(at,$),s("cell-update",{rowId:z,headerId:F,value:$,type:Z.type,dirRowId:$e,dirValues:qe}),d(F,z)}else{$=m.value;const at=`${z}:${F}`;ue.value.set(at,$),s("cell-update",{rowId:z,headerId:F,value:$,type:Z.type}),d(F,z)}},g=()=>{L.value=!0;const F=document.querySelector(".seamless-editor .p-multiselect");F&&F.removeEventListener("click",Le),R.value=null,m.value=null,x.value=[],A.value=null,setTimeout(()=>{L.value=!1},100)},ne=(F,z)=>{!R.value||L.value||(ke(F,z),g())},he=F=>{if(!P.value&&R.value){const z=document.querySelector(`td[data-row-id="${R.value.rowId}"][data-header-id="${R.value.headerId}"]`),Z=document.querySelector(`td.row-counter-cell[data-row-id="${R.value.rowId}"]`);if(!z&&!Z)return;let $=!1;z&&z.contains(F.target)&&($=!0),Z&&Z.contains(F.target)&&($=!0),$||ne(R.value.headerId,R.value.rowId)}},S=(F,z,Z)=>{F.shiftKey&&F.preventDefault(),z!=="row-counter"&&(R.value&&(R.value.headerId!==z||R.value.rowId!==Z)&&ne(R.value.headerId,R.value.rowId),!(R.value&&R.value.headerId===z&&R.value.rowId===Z)&&(n.editMode==="single-click"&&!n.disableEditing?F.shiftKey&&t.value.start?t.value.end={headerId:z,rowId:Z}:F.ctrlKey||F.metaKey?t.value={start:{headerId:z,rowId:Z},end:null,isSelecting:!1}:(t.value={start:{headerId:z,rowId:Z},end:null,isSelecting:!1},ve(z,Z)):F.shiftKey&&t.value.start?t.value.end={headerId:z,rowId:Z}:t.value={start:{headerId:z,rowId:Z},end:null,isSelecting:!1}))},nt=(F,z)=>{if(console.log("[handleCellDoubleClick] Called with:",{header_nested:F==null?void 0:F.nested,header_columnType:F==null?void 0:F.columnType,header_nestedTableId:F==null?void 0:F.nestedTableId,header_id:F==null?void 0:F.id,header_value:F==null?void 0:F.value,cell_nestedLink:z==null?void 0:z.nestedLink,cell_value:z==null?void 0:z.value}),console.log("[handleCellDoubleClick] FULL CELL OBJECT:",z),console.log("[handleCellDoubleClick] Cell keys:",Object.keys(z||{})),F.nested||F.columnType==="nested"){console.log("[handleCellDoubleClick] Condition TRUE - emitting open-nested");const Z={tableId:F.nestedTableId||F.id,parentRowId:z.nestedLink,tableName:F.value||z.value};console.log("[handleCellDoubleClick] Emit data:",Z),s("open-nested",Z),console.log("[handleCellDoubleClick] Emit called")}else console.log("[handleCellDoubleClick] Condition FALSE - NOT emitting")},Le=F=>{F.stopPropagation()},ut=()=>{var F;P.value=!1,!L.value&&R.value&&((F=A.value)==null?void 0:F.columnType)==="multi"&&(ke(R.value.headerId,R.value.rowId),setTimeout(()=>{g()},0))},Mt=F=>{if(F.key==="Escape")L.value=!0,F.stopPropagation(),F.preventDefault(),g();else if(F.key==="a"&&(F.ctrlKey||F.metaKey))F.preventDefault(),B.value.length>0&&(x.value=B.value.map(z=>z.id));else if(F.key==="Enter"&&!F.shiftKey){const z=document.querySelector(".seamless-editor .p-multiselect");if(z&&document.querySelector(".p-multiselect-panel")){const $=z.querySelector(".p-multiselect-trigger");$&&$.click()}}},We=F=>{F.key==="Escape"?(L.value=!0,g()):F.key},Et=()=>{var F,z;P.value=!1,!L.value&&R.value&&((F=A.value)!=null&&F.dirTableId)&&((z=A.value)==null?void 0:z.columnType)!=="multi"&&(ke(R.value.headerId,R.value.rowId),setTimeout(()=>{g()},0))},vt=F=>{if(!F)return"";const z=String(F),Z=z.match(/<a[^>]*>([^<]*)<\/a>/i);return Z?Z[1]:z.includes("/")?z.split("/").pop()||z:z.includes(":")&&z.split(":").pop()||z},xt=(F,z,Z)=>{var $e;const $=($e=F.files)==null?void 0:$e[0];$&&s("upload-file",{rowId:Z.id,headerId:z.id,termId:z.termId,baseType:z.type,file:$,callback:qe=>{qe!=null&&qe.success&&(m.value=qe.filename||$.name,g())}})},de=(F,z,Z)=>{var $e,qe;const $=(qe=($e=F.target)==null?void 0:$e.files)==null?void 0:qe[0];$&&(s("upload-file",{rowId:Z.id,headerId:z.id,termId:z.termId,baseType:z.type,file:$,callback:at=>{at!=null&&at.success&&(m.value=at.filename||$.name,g())}}),F.target.value="")},kt=(F,z)=>{s("cell-update",{rowId:z.id,headerId:F.id,value:"",type:F.type}),m.value="",g()},It=()=>{if(!ee.value)return;const{headerId:F,rowId:z}=ee.value,Z=i.value.find($e=>$e.id===F),$=`${z}:${F}`;ue.value.set($,j.value),s("cell-update",{rowId:z,headerId:F,value:j.value,type:(Z==null?void 0:Z.type)||12}),d(F,z),w.value=!1,ee.value=null,j.value=""},Qe=()=>{w.value=!1,ee.value=null,j.value=""};return{editingCell:R,editingValue:m,editingOptions:B,editingMultiValue:x,currentEditingHeader:A,cellEditorInput:M,isCancellingEdit:L,isDropdownOpen:P,memoEditingCell:ee,memoEditingValue:j,isMemoDialogVisible:w,memoDialogHeader:le,memoTextarea:_,localCellOverrides:ue,startCellEdit:ve,saveCellEdit:ke,cancelCellEdit:g,saveAndCloseCellEdit:ne,isEditingCell:ie,isInlineEditing:Se,autoOpenMultiSelect:oe,autoOpenDropdown:ge,handleDropdownClick:Le,handleMultiSelectHide:ut,handleMultiSelectKeydown:Mt,handleDropdownKeydown:We,handleDropDownHide:Et,handleDocumentClick:he,handleCellClick:S,handleCellDoubleClick:nt,handleFileUpload:xt,handleNativeFileSelect:de,clearFileValue:kt,getFileName:vt,saveMemoEdit:It,cancelMemoEdit:Qe,handleGlobalEscForDropdown:re,cleanup:()=>{document.removeEventListener("keydown",re,!0),g(),Qe()}}}function io(n,e){const i=D({}),t=D({}),s=D(new Set),l=M=>{const L=s.value.has(M);return console.log("[isDirectoryLoading] dirTableId:",M,"isLoading:",L,"loadingSet:",[...s.value]),L},c=M=>{const L=t.value[M]||[];return console.log("[getDirectoryOptions] dirTableId:",M,"options:",L.length,"sample:",L[0]),L},d=M=>{console.log("[DataTable.loadDirectoryList] dirTableId:",M,"cached:",!!t.value[M]),t.value[M]||(s.value.add(M),console.log("[DataTable.loadDirectoryList] Emitting load-directory-list for:",M),e("load-directory-list",{dirTableId:M,callback:L=>{console.log("[DataTable.loadDirectoryList] Callback received for:",M,"items:",L==null?void 0:L.length),t.value[M]=L,s.value.delete(M)}}))},b=M=>{var ee;const L=M.dirTableId,P=(ee=t.value[L])==null?void 0:ee.find(j=>j.id===M.dirRowId);M.value=P?P.value:""},C=M=>{var ee;const L=M.dirTableId,P=(ee=t.value[L])==null?void 0:ee.filter(j=>M.dirValues.includes(j.id));M.value=P.map(j=>j.value).join(", ")||""},R=async()=>{const M=[...new Set(n.value.map(L=>L.dirTableId).filter(Boolean))];M.length!==0&&await Promise.all(M.map(L=>new Promise(P=>{t.value[L]?P():(s.value.add(L),e("load-directory-list",{dirTableId:L,callback:ee=>{t.value[L]=ee,i.value[L]=ee,s.value.delete(L),P()}}))})))},m=()=>{const M=new Set;n.value.forEach(L=>{L.dirTableId&&M.add(L.dirTableId)}),M.forEach(L=>d(L))},B=()=>{Object.keys(t.value).forEach(L=>{s.value.add(L),e("load-directory-list",{dirTableId:L,callback:P=>{t.value[L]=P,i.value[L]=P,s.value.delete(L)}})})},x=()=>{i.value={},t.value={},s.value.clear()},A=Te(()=>s.value.size>0);return{directoryLists:i,directoryCache:t,loadingDirectories:s,isLoadingAnyDirectory:A,isDirectoryLoading:l,getDirectoryOptions:c,loadDirectoryList:d,updateDirValue:b,updateMultiDirValue:C,preloadAllDirectories:R,loadAllDirectories:m,refreshDirectoryCache:B,clearDirectoryCache:x}}function lo(n,e,i){const c=D(new Map),d=D(new Set),b=D(!1),C=D({loaded:0,total:0});let R=null;const m=(_,ue)=>`${_}:${ue}`,B=_=>_?Date.now()-_.timestamp<3e5:!1,x=(_,ue,re)=>{if(re!==!0){if(re===!1||re==="false")return}const ie=m(_,ue),Se=c.value.get(ie);B(Se)||d.value.has(ie)||(d.value.add(ie),i("load-dir-row",{dirTableId:_,dirRowId:ue,callback:ve=>{c.value.set(ie,{data:ve||null,timestamp:Date.now()}),d.value.delete(ie)}}))},A=(_,ue)=>{if(ue!==!0){if(ue===!1||ue==="false")return}if(!(_!=null&&_.cells))return;const re=[];n.value.forEach(ie=>{var ve;if(!ie.dirTableId)return;const Se=_.cells[ie.id];Se&&(Se.dirRowId&&re.push({dirTableId:ie.dirTableId,dirRowId:Se.dirRowId}),((ve=Se.dirValues)==null?void 0:ve.length)>0&&Se.dirValues.forEach(oe=>{oe.dirRowId&&re.push({dirTableId:ie.dirTableId,dirRowId:oe.dirRowId})}))}),re.forEach(ie=>x(ie.dirTableId,ie.dirRowId,ue))},M=(_,ue=!0)=>{R&&clearTimeout(R),R=setTimeout(()=>{A(_,ue)},150)},L=(_,ue,re=!0)=>{_.target&&ue&&A(ue,re)},P=()=>{R&&(clearTimeout(R),R=null)},ee=async(_=!0)=>{if(_===!1||_==="false"){console.log("[loadAllDirDataInBackground] autoLoadDirs DISABLED - skipping directory background loading (value:",_,")");return}if(b.value){console.log("Background loading already in progress");return}const re=new Map;e.value.forEach(Se=>{Se!=null&&Se.cells&&n.value.forEach(ve=>{var ge;if(!ve.dirTableId)return;const oe=Se.cells[ve.id];if(oe){if(oe.dirRowId){const ke=m(ve.dirTableId,oe.dirRowId);!re.has(ke)&&!B(c.value.get(ke))&&re.set(ke,{dirTableId:ve.dirTableId,dirRowId:oe.dirRowId})}((ge=oe.dirValues)==null?void 0:ge.length)>0&&oe.dirValues.forEach(ke=>{if(ke.dirRowId){const g=m(ve.dirTableId,ke.dirRowId);!re.has(g)&&!B(c.value.get(g))&&re.set(g,{dirTableId:ve.dirTableId,dirRowId:ke.dirRowId})}})}})});const ie=Array.from(re.values());if(ie.length===0){console.log("All directory data already cached");return}b.value=!0,C.value={loaded:0,total:ie.length},console.log(`Starting background load of ${ie.length} directory references...`);for(let Se=0;Se<ie.length;Se++){if(!b.value){console.log(`[loadAllDirDataInBackground] Loading cancelled by user at ${Se}/${ie.length}`);break}const ve=ie[Se],oe=m(ve.dirTableId,ve.dirRowId);if(B(c.value.get(oe))){C.value.loaded++;continue}if(d.value.has(oe)){C.value.loaded++;continue}await new Promise(ge=>{d.value.add(oe),i("load-dir-row",{dirTableId:ve.dirTableId,dirRowId:ve.dirRowId,callback:ke=>{c.value.set(oe,{data:ke||null,timestamp:Date.now()}),d.value.delete(oe),C.value.loaded++,ge()}})}),Se<ie.length-1&&await new Promise(ge=>setTimeout(ge,500))}b.value=!1,console.log(`Background loading completed: ${C.value.loaded}/${C.value.total}`)},j=()=>{b.value=!1,C.value={loaded:0,total:0}},w=()=>{c.value.clear(),d.value.clear(),P()};return{dirRowCache:c,preloadingDirRows:d,isBackgroundLoadingDirs:b,backgroundLoadProgress:C,DIR_ROW_CACHE_TTL:3e5,ROW_HOVER_DEBOUNCE_MS:150,BACKGROUND_LOAD_DELAY_MS:500,getDirRowCacheKey:m,isCacheValid:B,preloadSingleDirRow:x,preloadRowDirData:A,handleRowHover:M,handleRowFocus:L,cancelRowHoverPreload:P,loadAllDirDataInBackground:ee,stopBackgroundLoading:j,clearDirRowCache:w,cleanup:()=>{P(),j(),w()}}}function ao(n,e,i,t,s){const l=D(!1),c=D(!1),d=D(""),b=D(null),C=D(null),R=D(null),m=D({}),B=D(null),x=D(null),A=D(null),M=(ve,oe,ge=null)=>{d.value=ve,b.value=oe,C.value=ge,c.value=!0},L=()=>{b.value&&b.value(C.value),c.value=!1},P=(ve,oe)=>{B.value=oe},ee=ve=>{if(!B.value||!ve.value.start)return;const oe=ve.value.start.headerId;if(oe==="row-counter")return;const ge=B.value.cells[oe];ge&&(A.value=ge.value)},j=ve=>{if(!B.value||!ve.value.start||!A.value)return;const oe=ve.value.start.headerId;oe!=="row-counter"&&s("cell-update",{rowId:B.value.id,headerId:oe,value:A.value})},w=()=>{B.value&&_(B.value)},le=()=>{B.value&&M("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É —Å—Ç—Ä–æ–∫—É? –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã.",()=>s("row-delete",B.value.id))},_=async ve=>{n.disableEditing||(e.value.forEach(oe=>{oe.dirTableId&&t(oe.dirTableId)}),R.value={id:ve.id,headers:e.value.map(oe=>{const ge=ve.cells[oe.id]||{value:null,dirRowId:null,dirValues:[]},ke=oe.nested||oe.columnType==="nested"||(ge==null?void 0:ge.nested);let g=ge.value;return[4,9].includes(oe.type)&&typeof g=="number"&&(g=new Date(g*1e3)),{headerId:oe.id,value:g,dirRowId:ge.dirRowId,dirValues:ge.dirValues?ge.dirValues.map(ne=>ne.dirRowId):[],columnType:oe.columnType,type:oe.type,dirTableId:oe.dirTableId,isNested:ke,nestedTableId:oe.nestedTableId||oe.id,nestedLink:ge.nestedLink}})},l.value=!0)},ue=()=>{if(!re())return;const ve={id:R.value.id,headers:R.value.headers.filter(oe=>!oe.isNested).map(oe=>{var he,S;let ge=oe.value,ke=null,g=[];const ne=oe.type;if(oe.dirTableId)if(oe.columnType==="multi"){const nt=oe.dirValues;ge=((he=i.value[oe.dirTableId])==null?void 0:he.filter(ut=>nt.includes(ut.id))).map(ut=>ut.value).join(", "),g=nt.map(ut=>({dirRowId:ut}))}else{ke=oe.dirRowId;const nt=(S=i.value[oe.dirTableId])==null?void 0:S.find(Le=>Le.id===ke);ge=(nt==null?void 0:nt.value)||""}else[4,9].includes(ne)&&(ge instanceof Date?ge=Math.floor(ge.getTime()/1e3):(ge===null||ge==="")&&(ge=null));return{headerId:oe.headerId,value:ge,dirRowId:ke,dirValues:g,type:ne}})};s("row-update",ve),l.value=!1},re=()=>{m.value={};let ve=!0;return R.value.headers.forEach(oe=>{oe.isNested||oe.required&&!oe.value&&(m.value[oe.headerId]="–≠—Ç–æ –ø–æ–ª–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ",ve=!1)}),ve},ie=()=>{l.value=!1,R.value=null,m.value={}};return{isRowEditDialogVisible:l,isConfirmDialogVisible:c,confirmMessage:d,pendingAction:b,pendingActionData:C,editingRow:R,fieldErrors:m,contextMenuRow:B,changeParentRow:x,copiedCellValue:A,showConfirmationDialog:M,confirmAction:L,onRowContextMenu:P,copyCellValue:ee,pasteCellValue:j,editRow:w,deleteRow:le,startRowEdit:_,saveRowEdit:ue,validateRow:re,cancelRowEdit:ie,cleanup:()=>{ie(),c.value=!1,B.value=null,x.value=null,A.value=null}}}function oo(n,e){const i=D(null),t=D([]),s=D({}),l=D(null),c=Te(()=>{if(!i.value)return e.value.map(M=>({type:"row",data:M}));const A=[];for(const[M,L]of Object.entries(i.value.groups))A.push({type:"group",key:M,data:L}),s.value[M]&&A.push(...L.rows.map(P=>({type:"row",data:P})));return A}),d=A=>{const M=A.filter(L=>L&&n.value.some(P=>P.id===L));M.length===0||t.value.length===M.length&&t.value.every(L=>M.includes(L))?(i.value=null,t.value=[],s.value={}):(t.value=M,b(M))},b=A=>{const M={};e.value.forEach(L=>{const P=A.map(ee=>{const j=L.cells[ee],w=j==null?void 0:j.value;return w??"(–ü—É—Å—Ç–æ)"}).join("|");M[P]||(M[P]={rows:[],count:0}),M[P].rows.push(L),M[P].count++}),i.value={columns:A,groups:M},s.value=Object.keys(M).reduce((L,P)=>(L[P]=!0,L),{})},C=A=>{l.value===A?(i.value=null,l.value=null,s.value={}):(l.value=A,R(A))},R=A=>{const M={};e.value.forEach(L=>{const P=L.cells[A],ee=(P==null?void 0:P.value)||"(–ü—É—Å—Ç–æ)";M[ee]||(M[ee]={rows:[],count:0}),M[ee].rows.push(L),M[ee].count++}),i.value={column:A,groups:M},s.value=Object.keys(M).reduce((L,P)=>(L[P]=!0,L),{})};return{groupedData:i,currentGroupColumns:t,expandedGroups:s,currentGroupColumn:l,flattenedRows:c,toggleMultiGroupBy:d,groupMultiData:b,toggleGroupBy:C,groupData:R,toggleGroup:A=>{s.value[A]=!s.value[A]},formatMultiGroupHeader:A=>A.split("|").map((L,P)=>{const ee=t.value[P],j=n.value.find(w=>w.id===ee);return j?`${j.value}: ${L}`:L}).join("; "),cleanup:()=>{i.value=null,t.value=[],s.value={},l.value=null}}}const zn=32,Bl=20;function ro(n,e){const i=D(0),t=D(600),s=Te(()=>!1),l=Te(()=>{if(!s.value)return{start:0,end:n.value.length,offset:0};const R=i.value,m=Math.floor(R/zn),B=Math.ceil(t.value/zn),x=Math.max(0,m-Bl),A=Math.min(n.value.length,m+B+Bl),M=x*zn;return{start:x,end:A,offset:M}}),c=Te(()=>{const{start:R,end:m}=l.value;return n.value.slice(R,m)}),d=Te(()=>s.value?n.value.length*zn:null);return{virtualScrollTop:i,containerHeight:t,isVirtualScrollEnabled:s,visibleRowRange:l,visibleRows:c,totalRowsHeight:d,updateTableHeight:()=>{const R=document.querySelector(".table-container");if(!R)return;const m=document.querySelector(".p-tabview-tablist-container"),B=m?m.offsetHeight:0,x=document.querySelector(".layout-main"),A=x?x.offsetHeight:0,M=document.querySelector(".p-tabview-panels"),L=M?window.getComputedStyle(M):null,P=L?parseFloat(L.paddingTop):0,ee=L?parseFloat(L.paddingBottom):0,j=x?window.getComputedStyle(x):null,w=j?parseFloat(j.paddingBottom):0;let le=A-B-P-ee-w;if(!x||le<=0){const _=R.clientHeight;_>0?le=_:le=Math.max(400,window.innerHeight-200)}R.style.setProperty("max-height",`${le}px`),t.value=le},handleScroll:R=>{const m=R.target,{scrollTop:B,scrollHeight:x,clientHeight:A}=m;s.value&&(i.value=B),x-(B+A)<100&&e("load-more")}}}function so(n,e,i,t){const s=D(null),l=D(null),c=D(null),d=(B,x)=>{s.value=x,B.dataTransfer.effectAllowed="move",B.currentTarget.classList.add("dragging"),B.dataTransfer.setDragImage(new Image,0,0)},b=(B,x)=>{if(s.value===x||e.value)return;const A=B.currentTarget.getBoundingClientRect(),L=B.clientX-A.left<A.width/2;l.value=x,c.value=L?"left":"right"},C=(B,x)=>{if(!e.value){if(B.preventDefault(),s.value&&s.value!==x){const A=[...n.value],M=A.findIndex(ee=>ee.id===s.value),L=A.findIndex(ee=>ee.id===x),P=c.value==="left"?L:L+1;if(M!==-1&&L!==-1){const[ee]=A.splice(M,1);A.splice(P,0,ee),n.value=A,t("update:table-config",{headers:A,tableWidth:i.value.offsetWidth})}}m()}},R=B=>{B.currentTarget.classList.remove("dragging"),m()},m=()=>{s.value=null,l.value=null,c.value=null};return{draggedColumnId:s,dropTargetColumnId:l,dropPosition:c,handleDragStart:d,handleDragOver:b,handleDrop:C,handleDragEnd:R,resetDragState:m}}function uo(n,e,i){const t=D(null),s=D(""),l=D(null),c=D(null),d=D(null),b=D(),C=D(!1);return{editingHeaderId:t,editingHeaderName:s,currentHeaderTarget:l,headerContextMenu:c,currentHeader:d,typeMenu:b,showTypeSubmenu:C,onHeaderContextMenu:(j,w)=>{d.value=w,l.value=j.currentTarget,c.value.show(j)},showTypeOverlay:j=>{j?b.value.show(j,l.value):b.value.toggle(j,l.value),c.value.hide()},emitHeaderAction:async j=>{var w,le,_,ue;if(j==="rename"){if(t.value=d.value.id,s.value=d.value.value,await lt(),i.value){const re=i.value.$el||i.value;re&&re.focus&&re.focus()}}else n("header-action",{action:j,headerId:(w=d.value)==null?void 0:w.id,termId:(le=d.value)==null?void 0:le.termId,value:(_=d.value)==null?void 0:_.value,type:(ue=d.value)==null?void 0:ue.type})},saveHeaderRename:()=>{var j;s.value.trim()&&(n("header-action",{action:"rename",headerId:d.value.id,termId:d.value.termId,value:s.value.trim(),type:(j=d.value)==null?void 0:j.type}),t.value=null,s.value="")},cancelHeaderRename:()=>{t.value=null,s.value=""},changeColumnType:j=>{e("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø –∫–æ–ª–æ–Ω–∫–∏? –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö.",()=>{var w,le,_;n("header-action",{action:"change-type",headerId:(w=d.value)==null?void 0:w.id,termId:(le=d.value)==null?void 0:le.termId,value:(_=d.value)==null?void 0:_.value,type:j}),b.value.hide()})},toggleHeaderMenu:(j,w)=>{d.value=w,b.value.toggle(j),C.value=!1},deleteColumn:()=>{e("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∫–æ–ª–æ–Ω–∫—É? –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –Ω–µ–π –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã.",()=>{n("header-action",{action:"delete",headerId:d.value.id,termId:d.value.termId}),b.value.hide()})},cleanup:()=>{c.value&&c.value.hide(),b.value&&b.value.hide(),t.value=null,s.value="",d.value=null,l.value=null,C.value=!1}}}const co=300,Vl=28,po=36,fo=50,rc={__name:"DataTable",props:{headers:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},tableWidth:{type:Number,default:null},isLoading:{type:Boolean,default:!1},isLoadingMore:Boolean,disableEditing:{type:Boolean,default:!1},report:{type:Boolean,default:!1},disableTypeEditing:{type:Boolean,default:!1},editMode:{type:String,default:"double-click"},isAddingRow:{type:Boolean,default:!1},isAddingColumn:{type:Boolean,default:!1},allDataLoaded:{type:Boolean,default:!0},dateStyle:{type:String,default:"relative"},serverUrl:{type:String,default:""},typeId:{type:[Number,String],default:null},autoLoadDirs:{type:Boolean,default:!0},database:{type:String,default:"my"}},emits:["update:headers","update:table-config","load-more","cell-update","row-update","add-column","add-row","load-directory-list","open-filter","load-dir-row","load-nested-preview","cell-multi-update","row-delete","row-move-up","open-nested","row-change-parent","bulk-delete","open-directory","button-action-change","upload-file"],setup(n,{expose:e,emit:i}){Yn(async()=>{await _a().catch(console.error),F.value=$e()});const t=Xa,s=Ja,l={SUM:a=>{var r;return(r=a.flat().map(u=>typeof u=="number"?u:parseFloat(u)))==null?void 0:r.reduce((u,p)=>u+p,0)},AVG:a=>{const r=a.flat().map(p=>typeof p=="number"?p:parseFloat(p)),u=r.reduce((p,h)=>p+h,0);return r.length>0?u/r.length:0},MIN:a=>Math.min(...a.flat().map(r=>typeof r=="number"?r:parseFloat(r))),MAX:a=>Math.max(...a.flat().map(r=>typeof r=="number"?r:parseFloat(r))),COUNT:a=>a.flat().length,IF:([a,r,u])=>a?r:u,NUMBER:([a])=>isNaN(parseFloat(a))?0:parseFloat(a)},c=[{id:"update-cell",label:"–û–±–Ω–æ–≤–∏—Ç—å —è—á–µ–π–∫—É",icon:"pi pi-pencil",actionType:"api-macro",method:"POST",endpoint:"_m_set/[ID]",description:"–û–±–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —è—á–µ–π–∫–∏ (–º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ª—é–±–æ–π ID —Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç–æ–ª–±—Ü–∞)",params:["headerId","value"],paramLabels:{headerId:"ID —Å—Ç–æ–ª–±—Ü–∞",value:"–ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ"}},{id:"delete-row",label:"–£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É",icon:"pi pi-trash",actionType:"api-macro",method:"POST",endpoint:"_m_del/[ID]",description:"–£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É (—É–∫–∞–∂–∏—Ç–µ [ID] –¥–ª—è —Ç–µ–∫—É—â–µ–π –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π ID)",danger:!0,params:[],refreshAction:"delete-row"},{id:"move-up",label:"–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤–≤–µ—Ä—Ö",icon:"pi pi-arrow-up",actionType:"api-macro",method:"POST",endpoint:"_m_up/[ID]",description:"–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Å—Ç—Ä–æ–∫—É –≤–≤–µ—Ä—Ö –≤ –ø–æ—Ä—è–¥–∫–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏",params:[],refreshAction:"reload-table"},{id:"move-to-parent",label:"–ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—è",icon:"pi pi-sitemap",actionType:"api-macro",method:"POST",endpoint:"_m_move/[ID]",description:"–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Å—Ç—Ä–æ–∫—É –∫ –¥—Ä—É–≥–æ–º—É —Ä–æ–¥–∏—Ç–µ–ª—é",params:["parentId"],paramLabels:{parentId:"ID –Ω–æ–≤–æ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—è"},refreshAction:"reload-table"},{id:"custom-url",label:"–ö–∞—Å—Ç–æ–º–Ω—ã–π URL",icon:"pi pi-code",actionType:"custom-url",description:"–°–≤–æ–π URL —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π [ID] –∏ [VAL] –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–≤",params:["customUrl"],paramLabels:{customUrl:"URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: api/action/[ID]?val=[VAL])"}},{id:"none",label:"–ë–µ–∑ –¥–µ–π—Å—Ç–≤–∏—è",icon:"pi pi-ban",actionType:"none",description:"–ö–Ω–æ–ø–∫–∞ –±–µ–∑ –¥–µ–π—Å—Ç–≤–∏—è (–Ω–µ–∞–∫—Ç–∏–≤–Ω–∞)",params:[]}],d=n,b=i,C=D(!1),R=D(null),m=D([]),B=D(!1),x=D(null),A=D(null),M=D(""),L=D({}),P=D([...d.headers]),ee=D(El),j=D(null),w=D(!1),le=D({headerId:null,startX:0,startWidth:0,currentTh:null,tableStartWidth:0}),_=D(null),ue=D(56),re=D(null),ie=D(null),Se=D(""),ve=D(null),oe=D(null);let ge=null,ke=null;const g=()=>{ke&&(clearTimeout(ke),ke=null),re.value&&re.value.hide(),ie.value=null},ne=D(null),he=D(!1),S=D(""),nt=D({});let Le=null;const ut=a=>{const r=a.target.closest("[data-tooltip]");if(!r)return;Le&&(clearTimeout(Le),Le=null);const u=r.getAttribute("data-tooltip");if(!u)return;S.value=u;const p=r.getBoundingClientRect(),h=8;nt.value={position:"fixed",left:`${p.left+p.width/2}px`,top:`${p.top-h}px`,transform:"translate(-50%, -100%)",zIndex:1e4},he.value=!0},Mt=a=>{a.target.closest("[data-tooltip]")&&(Le=setTimeout(()=>{he.value=!1},100))},We=D({}),Et=D({}),vt=D([]),xt=D(!1),de=D(null),kt=D({}),It=D(!1),Qe=D(""),$t=D(""),F=D({}),z=D(!1),Z=D({rowId:null,startY:0,startHeight:0,currentTr:null}),$=()=>d.typeId?`integram_row_heights_${d.typeId}`:null,$e=()=>{const a=$();if(!a)return{};try{const r=localStorage.getItem(a);return r?JSON.parse(r):{}}catch(r){return console.error("[DataTable] Failed to load row heights:",r),{}}},qe=()=>{const a=$();if(a)try{localStorage.setItem(a,JSON.stringify(F.value))}catch(r){console.error("[DataTable] Failed to save row heights:",r)}},at=a=>F.value[a]||po,Be=D(null),Me=D(!1),be=D(new Set),Ye=D(null),ot=D(!1),ct=D(new Set),Ze=D([]),Ot=D(!1),Ve=D({}),Ut=D(null),Lt=D([]),Tn=D(null),Vt=D(null),pt=D(null),Yt=D(null),qt=D(null),en=async()=>{var a,r;await lt(),(r=(a=pt.value)==null?void 0:a.$el)==null||r.focus()},Jn=async()=>{var a,r;await lt(),(r=(a=Yt.value)==null?void 0:a.$el)==null||r.focus()},Tt=D(new Map),Rt=D(new Map),Zn=D(new Map),Mn=D(new Map),Mi=Te(()=>({width:d.tableWidth?`${d.tableWidth}px`:"auto","table-layout":d.tableWidth?"fixed":"auto"})),un=Te(()=>({width:`${ue.value}px`,minWidth:`${ue.value}px`})),Ei=Te(()=>ee.value.filter(a=>a.value!==10)),Oi=Te(()=>{var a;return((a=nn.value)==null?void 0:a.dirTableId)&&mn.value.has(nn.value.dirTableId)}),Oe=D({start:null,end:null,isSelecting:!1}),jt=Te(()=>{if(!Oe.value.start||!Oe.value.end)return null;const a=Ke.value.findIndex(h=>h.id===Oe.value.start.rowId),r=Ke.value.findIndex(h=>h.id===Oe.value.end.rowId),u=Oe.value.start.headerId==="row-counter"?-1:P.value.findIndex(h=>h.id===Oe.value.start.headerId),p=Oe.value.end.headerId==="row-counter"?-1:P.value.findIndex(h=>h.id===Oe.value.end.headerId);return{minRow:Math.min(a,r),maxRow:Math.max(a,r),minCol:Math.min(u,p),maxCol:Math.max(u,p)}}),gt=D([]),Dt=D(-1),Li=a=>{gt.value=gt.value.slice(0,Dt.value+1),gt.value.push(a),gt.value.length>fo?gt.value.shift():Dt.value++,console.log("[History] Added command:",a.type,"Stack size:",gt.value.length)},cn=()=>{if(Dt.value<0){console.log("[History] Nothing to undo");return}const a=gt.value[Dt.value];console.log("[History] Undoing:",a.type),a.undo(),Dt.value--},Qn=()=>{if(Dt.value>=gt.value.length-1){console.log("[History] Nothing to redo");return}Dt.value++;const a=gt.value[Dt.value];console.log("[History] Redoing:",a.type),a.execute()},ht=(a,r,u,p)=>({type:"cell-edit",data:{headerId:a,rowId:r,oldValue:u,newValue:p},execute:()=>{b("update-cell",{headerId:a,rowId:r,value:p})},undo:()=>{b("update-cell",{headerId:a,rowId:r,value:u})}}),$n=(a,r)=>({type:"row-delete",data:{rowId:a,rowData:r},execute:()=>{b("delete-row",a)},undo:()=>{console.warn("[History] Row restore not fully implemented - requires API support")}}),Vi=(a,r)=>({type:"fill",data:{cells:a,oldValues:r},execute:()=>{a.forEach(({headerId:u,rowId:p,value:h})=>{b("update-cell",{headerId:u,rowId:p,value:h})})},undo:()=>{r.forEach(({headerId:u,rowId:p,value:h})=>{b("update-cell",{headerId:u,rowId:p,value:h})})}}),Ri=a=>{if((a.ctrlKey||a.metaKey)&&a.key==="z"&&!a.shiftKey){a.preventDefault(),cn();return}if((a.ctrlKey||a.metaKey)&&(a.key==="y"||a.key==="z"&&a.shiftKey)){a.preventDefault(),Qn();return}},Kt=D(new Map),En=(a,r)=>{const u=`${a}_${r}`;Kt.value.set(u,Date.now()),Kt.value=new Map(Kt.value)},ei=(a,r)=>{const u=`${a}_${r}`;return Kt.value.has(u)},ti=(a,r)=>{const u=`${a}_${r}`,p=Kt.value.get(u);if(!p)return null;const k=Date.now()-p,T=Math.floor(k/1e3),y=Math.floor(T/60),O=Math.floor(y/60);return T<60?`${T} —Å–µ–∫ –Ω–∞–∑–∞–¥`:y<60?`${y} –º–∏–Ω –Ω–∞–∑–∞–¥`:O<24?`${O} —á –Ω–∞–∑–∞–¥`:"—Å–µ–≥–æ–¥–Ω—è"},Wt=Te(()=>{const a=new Map;return d.rows.forEach(r=>{const u=new Map;r.values.forEach(p=>{p.headerId==="req_957"&&console.log("[cellsMap] Storing cell for req_957 on row "+r.id+":",{headerId:p.headerId,value:p.value,nested:p.nested,nestedTableId:p.nestedTableId,nestedLink:p.nestedLink}),u.set(p.headerId,p)}),a.set(r.id,u)}),a}),Ke=Te(()=>d.rows.map(a=>({id:a.id,cells:Object.fromEntries(P.value.map(r=>{var y;const u=(y=Wt.value.get(a.id))==null?void 0:y.get(r.id),p=u||{value:null};r.id==="req_957"&&a.id===194856&&console.log("[processedRows] Getting cell for req_957 on row 194856:",{cellFromMap:u,cellFromMapHasNestedLink:u==null?void 0:u.nestedLink,fallbackUsed:!u});const h=`${a.id}:${r.id}`,k=pi.value.get(h),T={...p,value:k!==void 0?k:p.value,nested:p.nested||r.nested,nestedTableId:p.nestedTableId||r.nestedTableId,nestedLink:p.nestedLink};return r.id==="req_957"&&a.id===194856&&console.log("[processedRows] Cell for req_957 on row 194856:",{originalCell:p,processedCell:T,hasNestedLink:"nestedLink"in p,nestedLinkValue:p.nestedLink}),[r.id,T]}))}))),Ft=Te(()=>{const a=Object.entries(We.value).filter(([,r])=>r&&r.size>0);return a.length===0?Ke.value:Ke.value.filter(r=>a.every(([u,p])=>{var T;const h=(T=r.cells[u])==null?void 0:T.value,k=String(h??"");return p.has(k)}))}),On=Te(()=>{if(Ze.value.length===0)return Ft.value;const a=[...Ft.value];return a.sort((r,u)=>{var p,h;for(const{headerId:k,direction:T}of Ze.value){const y=(p=r.cells[k])==null?void 0:p.value,O=(h=u.cells[k])==null?void 0:h.value;if(y==null&&O==null)continue;if(y==null)return 1;if(O==null)return-1;let H=0;if(typeof y=="number"&&typeof O=="number")H=y-O;else{const G=String(y).toLowerCase(),Q=String(O).toLowerCase();H=G.localeCompare(Q,"ru")}if(H!==0)return T==="asc"?H:-H}return 0}),a}),ni=Te(()=>{if(!d.allDataLoaded){const r={};return P.value.forEach(u=>{r[u.id]={sum:"‚ö†Ô∏è",avg:"‚ö†Ô∏è",count:"‚ö†Ô∏è"}}),r}const a={};return P.value.forEach(r=>{const u=r.id;Ve.value[u];const p=On.value.map(y=>{var O;return(O=y.cells[u])==null?void 0:O.value}).filter(y=>y!=null&&!isNaN(Number(y))).map(y=>Number(y));if(p.length===0){a[u]={sum:null,avg:null,count:0};return}const h=p.reduce((y,O)=>y+O,0),k=h/p.length,T=p.length;a[u]={sum:h.toFixed(2),avg:k.toFixed(2),count:T}}),a}),{groupedData:Fi,currentGroupColumns:ft,expandedGroups:Ai,currentGroupColumn:Nt,flattenedRows:pn,toggleMultiGroupBy:_t,groupMultiData:tn,toggleGroupBy:Ln,groupData:Gt,toggleGroup:Pi,formatMultiGroupHeader:Vn,cleanup:ii}=oo(P,On),{virtualScrollTop:xi,containerHeight:Bi,isVirtualScrollEnabled:Hi,visibleRowRange:Ui,visibleRows:Ki,totalRowsHeight:Ni,updateTableHeight:fn,handleScroll:zi}=ro(pn,b),{draggedColumnId:Yi,dropTargetColumnId:qi,dropPosition:ji,handleDragStart:Wi,handleDragOver:_i,handleDrop:Gi,handleDragEnd:Xi,resetDragState:Ji}=so(P,w,j,b),{directoryLists:li,directoryCache:Xt,loadingDirectories:mn,isLoadingAnyDirectory:Zi,isDirectoryLoading:Qi,getDirectoryOptions:$i,loadDirectoryList:Rn,updateDirValue:el,updateMultiDirValue:tl,preloadAllDirectories:nl,loadAllDirectories:il,refreshDirectoryCache:ai,clearDirectoryCache:oi}=io(P,b),{dirRowCache:hn,preloadingDirRows:ll,isBackgroundLoadingDirs:vn,backgroundLoadProgress:Fn,DIR_ROW_CACHE_TTL:v,ROW_HOVER_DEBOUNCE_MS:E,BACKGROUND_LOAD_DELAY_MS:N,getDirRowCacheKey:q,isCacheValid:Y,preloadSingleDirRow:W,preloadRowDirData:K,handleRowHover:X,handleRowFocus:J,cancelRowHoverPreload:fe,loadAllDirDataInBackground:De,stopBackgroundLoading:Pe,clearDirRowCache:tt,cleanup:Fe}=lo(P,Ke,b),{grantOptions:rt,loading:At,error:Ee,loadGrantOptions:it,formatGrantValue:st,getGrantSeverity:Pt,getGrantIcon:dt,isSystemGrant:Ge,isRequisiteGrant:bt,getGrantWarning:Ct}=ja(),{editingCell:St,editingValue:ri,editingOptions:si,editingMultiValue:di,currentEditingHeader:nn,cellEditorInput:ui,isCancellingEdit:ci,isDropdownOpen:ln,memoEditingCell:An,memoEditingValue:al,isMemoDialogVisible:Lo,memoDialogHeader:Vo,memoTextarea:Ro,localCellOverrides:pi,startCellEdit:ol,saveCellEdit:Ul,cancelCellEdit:Kl,saveAndCloseCellEdit:Fo,isEditingCell:Ao,isInlineEditing:Po,autoOpenMultiSelect:xo,autoOpenDropdown:Bo,handleDropdownClick:Ho,handleMultiSelectHide:Uo,handleMultiSelectKeydown:Ko,handleDropdownKeydown:No,handleDropDownHide:zo,handleDocumentClick:Nl,handleCellClick:Yo,handleCellDoubleClick:qo,handleFileUpload:jo,handleNativeFileSelect:Wo,clearFileValue:_o,getFileName:Go,saveMemoEdit:Xo,cancelMemoEdit:Jo,handleGlobalEscForDropdown:zl,cleanup:Yl}=no(d,Ke,P,Oe,b,g,Rn,En,rt,it),{isRowEditDialogVisible:ql,isConfirmDialogVisible:jl,confirmMessage:Wl,pendingAction:_l,pendingActionData:Zo,editingRow:rl,fieldErrors:Qo,contextMenuRow:gn,changeParentRow:an,copiedCellValue:Gl,showConfirmationDialog:Xl,confirmAction:$o,onRowContextMenu:er,copyCellValue:Jl,pasteCellValue:Zl,editRow:Ql,deleteRow:$l,startRowEdit:tr,saveRowEdit:nr,validateRow:ir,cancelRowEdit:lr,cleanup:ea}=ao(d,P,Xt,Rn,b),{editingHeaderId:ar,editingHeaderName:or,currentHeaderTarget:rr,headerContextMenu:sr,currentHeader:yt,typeMenu:dr,showTypeSubmenu:ur,onHeaderContextMenu:cr,showTypeOverlay:ta,emitHeaderAction:na,saveHeaderRename:pr,cancelHeaderRename:fr,changeColumnType:mr,toggleHeaderMenu:hr,deleteColumn:ia,cleanup:la}=uo(b,Xl,qt),vr=Te(()=>{var a,r,u,p,h;return[{label:"–§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å",icon:"pi pi-filter",command:()=>{var k;return b("open-filter",(k=yt.value)==null?void 0:k.id)},disabled:d==null?void 0:d.disableEditing},{label:"–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å",icon:"pi pi-pencil",command:()=>na("rename"),disabled:d==null?void 0:d.disableEditing},...d!=null&&d.disableTypeEditing?[]:[{label:"–ò–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø",icon:"pi pi-sync",command:k=>ta(k.originalEvent),disabled:d==null?void 0:d.disableEditing}],{label:"–£–¥–∞–ª–∏—Ç—å",icon:"pi pi-trash",command:()=>ia(),class:"text-red-500",disabled:d==null?void 0:d.disableEditing},{label:ft.value.includes((a=yt.value)==null?void 0:a.id)?"–£–±—Ä–∞—Ç—å –∏–∑ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏":"–°–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å",icon:"pi pi-objects-column",command:()=>{const k=yt.value.id;if(ft.value.includes(k)){const T=ft.value.filter(y=>y!==k);_t(T)}else _t([k])}},{label:"–î–æ–±–∞–≤–∏—Ç—å –∫ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–µ",icon:"pi pi-plus",visible:ft.value.length>0&&!ft.value.includes((r=yt.value)==null?void 0:r.id),command:()=>{const k=[...ft.value,yt.value.id];_t(k)}},{label:"–û—á–∏—Å—Ç–∏—Ç—å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É",icon:"pi pi-times",visible:ft.value.length>0,command:()=>{_t([])}},{separator:!0},{label:"üé® –£—Å–ª–æ–≤–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",icon:"pi pi-palette",command:()=>{var k;return Ca((k=yt.value)==null?void 0:k.id)}},{label:"‚ö° –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ –∫–Ω–æ–ø–∫–∏",icon:"pi pi-bolt",visible:((u=yt.value)==null?void 0:u.type)===7,command:()=>ra(yt.value),disabled:d==null?void 0:d.disableEditing},{separator:!0},{label:ct.value.has((p=yt.value)==null?void 0:p.id)?"–û—Ç–∫—Ä–µ–ø–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É":"üìå –ó–∞–∫—Ä–µ–ø–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É",icon:ct.value.has((h=yt.value)==null?void 0:h.id)?"pi pi-times":"pi pi-lock",command:()=>{var k;return Da((k=yt.value)==null?void 0:k.id)}},{separator:!0},{label:"–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å A‚ÜíZ",icon:"pi pi-arrow-up",command:()=>{var k;Ze.value=[{headerId:(k=yt.value)==null?void 0:k.id,direction:"asc"}]}},{label:"–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å Z‚ÜíA",icon:"pi pi-arrow-down",command:()=>{var k;Ze.value=[{headerId:(k=yt.value)==null?void 0:k.id,direction:"desc"}]}},{label:"–û—á–∏—Å—Ç–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É",icon:"pi pi-times",command:()=>Ta(),disabled:Ze.value.length===0}]}),gr=Te(()=>[{label:"–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å",icon:"pi pi-copy",command:()=>Jl()},{label:"–í—Å—Ç–∞–≤–∏—Ç—å",icon:"pi pi-paste",command:()=>Zl(),disabled:!Gl.value||(d==null?void 0:d.disableEditing)},{label:"–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫—É",icon:"pi pi-pencil",command:()=>Ql(),disabled:d==null?void 0:d.disableEditing},{label:"–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤–≤–µ—Ä—Ö",icon:"pi pi-arrow-up",command:()=>aa(),disabled:d==null?void 0:d.disableEditing},{separator:!0},{label:"–ò–∑–º–µ–Ω–∏—Ç—å –ø–æ–¥—á–∏–Ω—ë–Ω–Ω–æ—Å—Ç—å...",icon:"pi pi-sitemap",command:()=>oa(),disabled:d==null?void 0:d.disableEditing},{separator:!0},{label:"–£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É",icon:"pi pi-trash",command:()=>$l(),class:"text-red-500",disabled:d==null?void 0:d.disableEditing}]);function aa(){gn.value&&b("row-move-up",gn.value.id)}function oa(){if(gn.value){an.value=gn.value,R.value=null;const a=gn.value.id;m.value=d.rows.filter(r=>r.id!==a).map(r=>{var h,k,T,y;const u=P.value[0],p=((k=(h=r.cells)==null?void 0:h[u==null?void 0:u.id])==null?void 0:k.value)||((y=(T=r.values)==null?void 0:T[0])==null?void 0:y.value)||`ID: ${r.id}`;return{id:r.id,name:`${p} (ID: ${r.id})`}}),C.value=!0}}function sl(){C.value=!1,an.value=null,R.value=null,m.value=[]}function br(){an.value&&(b("row-change-parent",{rowId:an.value.id,newParentId:R.value||1}),sl())}function yr(){an.value&&(b("row-change-parent",{rowId:an.value.id,newParentId:1}),sl())}function ra(a){x.value=a;const u=((a==null?void 0:a.attrs)||"").split(":").filter(T=>T.trim());let p="",h="";const k={};for(const T of u)if(T.includes("=")){const[y,O]=T.split("=");y==="ALIAS"&&O?h=O:y&&O&&(k[y]=O)}else T.trim()&&(p||(p=T.trim()));M.value=h||(a==null?void 0:a.value)||"–ö–Ω–æ–ø–∫–∞",A.value=c.find(T=>T.endpoint===p||T.id===p)||null,L.value={targetId:k.targetId||"[ID]",headerId:k.headerId||"",value:k.value||"",parentId:k.parentId||"",customUrl:k.customUrl||"",...k},B.value=!0}function sa(){B.value=!1,x.value=null,A.value=null,M.value="",L.value={}}function wr(a){if(x.value&&a.action){const r=M.value.trim()||"–ö–Ω–æ–ø–∫–∞",u=a.action,p=a.params||{};let h=`:ALIAS=${r}`;u.endpoint?h+=`:${u.endpoint}`:u.id&&(h+=`:${u.id}`);for(const[T,y]of Object.entries(p))y&&y!==""&&(h+=`:${T}=${y}`);h+=":",b("button-action-change",{headerId:x.value.id,termId:x.value.termId,action:u,label:r,params:p});const k=P.value.findIndex(T=>T.id===x.value.id);k!==-1&&(P.value[k].attrs=h),sa()}}function kr(a){const r=a.target.closest(".data-table-action-button");if(r){const u=r.dataset.rowId,p=r.dataset.headerId;u&&p&&da(a,u,p)}}async function da(a,r,u){var Re,xe,He,Ie;a.stopPropagation(),a.preventDefault();const p=P.value.find(_e=>_e.id===u);if(!p)return;const k=(p.attrs||"").split(":").filter(_e=>_e.trim());let T="";const y={};for(const _e of k)if(_e.includes("=")){const[Jt,xa]=_e.split("=");Jt!=="ALIAS"&&Jt&&xa&&(y[Jt]=xa)}else _e.trim()&&(T||(T=_e.trim()));if(T==="none"||!T)return;const O=d.rows.find(_e=>_e.id===r),H=P.value[0],G=((xe=(Re=O==null?void 0:O.cells)==null?void 0:Re[H==null?void 0:H.id])==null?void 0:xe.value)||((Ie=(He=O==null?void 0:O.values)==null?void 0:He[0])==null?void 0:Ie.value)||"",Q={};for(const[_e,Jt]of Object.entries(y))Q[_e]=String(Jt).replace(/\[ID\]/g,String(r||"")).replace(/\[VAL\]/g,String(G||""));let me=T.replace(/\[ID\]/g,String(r||"")).replace(/\[VAL\]/g,String(G||""));const se=c.find(_e=>_e.endpoint===T||_e.id===T);try{b("button-click",{rowId:r,headerId:u,endpoint:me,params:Q,actionType:(se==null?void 0:se.actionType)||"api-macro",refreshAction:se==null?void 0:se.refreshAction})}catch(_e){console.error("Button action failed:",_e)}}const fi=(a,r,u,p,h=0,k=new Set)=>{if(h>s)return"#ERROR!";if(!a.startsWith("="))return a;if(h===0){const G=`${u}-${p}-${a}`;if(Tt.value.has(G))return Tt.value.get(G)}const T=a.slice(1).trim(),y=/([A-Z]+)\(([^)]*)\)/g;let O=T.replace(y,(G,Q,me)=>{if(!l[Q])return G;const se=[];let Re="",xe=0;for(const Ie of me){if(Ie===","&&xe===0){se.push(Re.trim()),Re="";continue}Ie==="("&&xe++,Ie===")"&&xe--,Re+=Ie}se.push(Re.trim());const He=se.map(Ie=>Ie.includes("(")?fi(`=${Ie}`,r,u,p,h+1,k):Ie.includes(":")?dl(...Ie.split(":").map(_e=>_e.trim()),r,u,p,h,k):mi(Ie,r,u,p,h,k)).flat();try{return l[Q](He)}catch{return"#ERROR!"}});O=O.replace(/(\[[^\]]+\]:\[[^\]]+\])/g,G=>{const[Q,me]=G.split(":");return dl(Q,me,r,u,p,h,k)}),O=O.replace(/\[(\d+|\*)\](?:\[([-+]?\d+|\*)\])?/g);let H;try{const G=O.replace(/√∑/g,"/").replace(/√ó/g,"*");H=Ga(G),H=typeof H=="number"?H:G}catch{H=O}if(h===0){const G=`${u}-${p}-${a}`;Tt.value.set(G,H)}return H},mi=(a,r,u,p,h,k)=>{const T=a.match(/\[(\d+|\*)\](?:\[([-+]?\d+|\*)\])?/);if(!T)return a;const[,y,O]=T;if(O==="*")return ul(y,r,"*",p,h,k);const H=y==="*"?p:parseInt(y);let G;if(!O)G=u;else if(O.startsWith("+")||O.startsWith("-")){const se=parseInt(O),Re=r.findIndex(He=>He.id===u);if(Re===-1)return"#REF!";const xe=Re+se;if(xe<0||xe>=r.length)return"#REF!";G=r[xe].id}else{if(O==="*")return cl(H,r,u,p,h,k);G=parseInt(O)}const Q=r.find(se=>se.id===G);if(!Q)return"#REF!";const me=Q.values.find(se=>se.headerId===H);return me?bn(me,r,G,H,h,k):"#REF!"},dl=(a,r,u,p,h,k,T)=>{const y=`${p}-${h}-${a}:${r}`;if(Rt.value.has(y))return Rt.value.get(y);const O=mi(a,u,p,h,k,T),H=mi(r,u,p,h,k,T);if(typeof O=="number"&&typeof H=="number"){const Ie=[O,H];return Rt.value.set(y,Ie),Ie}const G=a.match(/\[(\d+)\](?:\[([-+]?\d+)\])?/),Q=r.match(/\[(\d+)\](?:\[([-+]?\d+)\])?/);if(!G||!Q)return[O,H];const[,me,se]=G,[,Re,xe]=Q;let He;return se===xe&&se!=="*"?He=ul(`${me}:${Re}`,u,parseInt(se),h,k,T):me===Re?He=cl(parseInt(me),u,p,h,k,T,parseInt(se),parseInt(xe)):He=ua(parseInt(me),parseInt(se),parseInt(Re),parseInt(xe),u,h,k,T),Rt.value.set(y,He),He},ul=(a,r,u,p,h,k)=>{let T,y;if(a.includes(":")?[T,y]=a.split(":").map(Number):T=y=parseInt(a),u==="*"){const H=[];for(const G of r)for(const Q of G.values)Q.headerId>=T&&Q.headerId<=y&&H.push(bn(Q,r,G.id,Q.headerId,h,k));return H}const O=r.find(H=>H.id===u);return O?O.values.filter(H=>H.headerId>=T&&H.headerId<=y).map(H=>bn(H,r,u,H.headerId,h,k)):[]},cl=(a,r,u,p,h,k,T,y)=>{const O=T?r.findIndex(G=>G.id===T):r.findIndex(G=>G.id===u),H=y?r.findIndex(G=>G.id===y):O;return O===-1||H===-1?[]:r.slice(Math.min(O,H),Math.max(O,H)+1).map(G=>{const Q=G.values.find(me=>me.headerId===a);return Q?bn(Q,r,G.id,a,h,k):0})},ua=(a,r,u,p,h,k,T,y)=>{const O=[];for(let H=r;H<=p;H++){const G=h.find(me=>me.id===H);if(!G)continue;const Q=[];for(let me=a;me<=u;me++){const se=G.values.find(Re=>Re.headerId===me);Q.push(se?bn(se,h,H,me,T,y):0)}O.push(Q)}return O},bn=(a,r,u,p,h,k)=>{const T=`${u}-${p}`;if(k.has(T))return"#CYCLE!";const y=new Set(k);y.add(T);let O=a.value;return typeof O=="string"&&O.startsWith("=")&&(O=fi(O,r,u,p,h+1,y)),a.type===4||a.type===9?typeof O=="string"?ca(O):O:isNaN(parseFloat(O))?O:parseFloat(O)},ca=a=>{const r=[/(\d{2})\.(\d{2})\.(\d{4}) (\d{2}):(\d{2}):(\d{2})/,/(\d{2})\.(\d{2})\.(\d{4}) (\d{2}):(\d{2})/,/(\d{2})\.(\d{2})\.(\d{4})/];for(const u of r){const p=a.match(u);if(p){const[h,k,T,y,O,H,G]=p,Q=new Date(parseInt(y),parseInt(T)-1,parseInt(k),O?parseInt(O):0,H?parseInt(H):0,G?parseInt(G):0);return Math.floor(Q.getTime()/1e3)}}return 0},pa=(a,r,u)=>{if(!a||!a.startsWith("="))return[];const p=[],h=a.slice(1),k=/\[(\d+|\*)\](?:\[([-+]?\d+|\*)\])?/g;let T;for(;(T=k.exec(h))!==null;){const[,O,H]=T;if(O==="*"||H==="*"){if(H==="*"&&O!=="*"){const me=parseInt(O);u.forEach(se=>{p.push(`${se.id}-${me}`)})}else if(O==="*"&&H){const me=H.startsWith("+")||H.startsWith("-")?r+parseInt(H):parseInt(H),se=u.find(Re=>Re.id===me);se&&se.values.forEach(Re=>{p.push(`${me}-${Re.headerId}`)})}continue}const G=O==="*"?null:parseInt(O);let Q;H?H.startsWith("+")||H.startsWith("-")?Q=r+parseInt(H):Q=parseInt(H):Q=r,G!==null&&Q!==null&&p.push(`${Q}-${G}`)}const y=/\[(\d+)\](?:\[(\d+)\])?\s*:\s*\[(\d+)\](?:\[(\d+)\])?/g;for(;(T=y.exec(h))!==null;){const[,O,H,G,Q]=T,me=parseInt(O),se=parseInt(G),Re=H?parseInt(H):r,xe=Q?parseInt(Q):r;for(let He=Math.min(Re,xe);He<=Math.max(Re,xe);He++)for(let Ie=Math.min(me,se);Ie<=Math.max(me,se);Ie++)p.push(`${He}-${Ie}`)}return[...new Set(p)]},Pn=()=>{const a=new Map,r=new Map;d.rows.forEach(u=>{u.values.forEach(p=>{if(typeof p.value=="string"&&p.value.startsWith("=")){const h=`${u.id}-${p.headerId}`,k=pa(p.value,u.id,d.rows);a.set(h,k),k.forEach(T=>{r.has(T)||r.set(T,[]),r.get(T).push(h)})}})}),Zn.value=a,Mn.value=r},fa=a=>{Array.isArray(a)||(a=[a]);const r=new Set;return a.forEach(u=>{(Mn.value.get(u)||[]).forEach(h=>r.add(h))}),r.forEach(u=>{const[p,h]=u.split("-");for(const k of Tt.value.keys())k.startsWith(`${p}-${h}-`)&&Tt.value.delete(k);for(const k of Rt.value.keys())k.startsWith(`${p}-${h}-`)&&Rt.value.delete(k)}),r.size},Ir=a=>a==null||a===""?!1:typeof a=="boolean"?a:typeof a=="number"?a!==0:typeof a=="string"?a==="X"||a==="1"||a==="true"||a.toLowerCase()==="–¥–∞":!!a,Dr=async(a,r,u)=>{console.log("[DataTable] toggleBooleanValue",{headerId:a,rowId:r,newValue:u});const p=Ke.value.find(y=>y.id===r);if(!p){console.error("[DataTable] toggleBooleanValue: row not found",r);return}if(!p.cells[a]){console.error("[DataTable] toggleBooleanValue: cell not found",a);return}const k=u?"X":"",T=`${r}:${a}`;pi.value.set(T,k),En(a,r),b("cell-update",{rowId:r,headerId:a,value:k})},Cr=(a,r,u,p)=>{var T;let h=a;if(u!==null&&typeof a=="string"&&a.startsWith("=")&&(h=fi(a,d.rows,u,p,0,new Set)),h==null||h==="")return"";const k=y=>{const O=/(\+\d{1,3}[-.\s]?\(?\d{1,4}\)?(?:[-.\s]?\d{1,4}){2,4})/g,H=/([\w.-]+@[\w.-]+\.\w{2,})/gi;let G=y;return G=G.replace(O,Q=>`<a href="tel:${Q.replace(/[-.\s()]/g,"")}" class="cell-chip cell-phone" title="–ü–æ–∑–≤–æ–Ω–∏—Ç—å: ${Q}" onclick="event.stopPropagation()"><i class="pi pi-phone"></i><span>${Q}</span></a>`),G=G.replace(H,Q=>`<a href="mailto:${Q}" class="cell-chip cell-email" title="–ù–∞–ø–∏—Å–∞—Ç—å: ${Q}" onclick="event.stopPropagation()"><i class="pi pi-envelope"></i><span>${Q}</span></a>`),G};switch(r){case 2:{const y=String(h);return/<[^>]+>/.test(y)?`<span class="cell-html" title="HTML –∫–æ–Ω—Ç–µ–Ω—Ç">${y}</span>`:k(y)}case 3:return k(String(h));case 5:{const y=parseInt(h,10);return y===0?'<span class="cell-chip cell-grant cell-grant-editor" title="–†–µ–¥–∞–∫—Ç–æ—Ä —Ç–∏–ø–æ–≤"><i class="pi pi-cog"></i><span>Type editor</span></span>':y===1?'<span class="cell-chip cell-grant cell-grant-all" title="–í—Å–µ –æ–±—ä–µ–∫—Ç—ã"><i class="pi pi-database"></i><span>All objects</span></span>':y===10?'<span class="cell-chip cell-grant cell-grant-files" title="–§–∞–π–ª—ã"><i class="pi pi-folder"></i><span>Files</span></span>':`<span class="cell-chip cell-grant" title="–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: ${y}"><i class="pi pi-shield"></i><span>Grant #${y}</span></span>`}case 6:return!h||h===""?"":'<span class="cell-chip cell-password" title="–ü–∞—Ä–æ–ª—å —Å–∫—Ä—ã—Ç"><i class="pi pi-lock"></i><span>******</span></span>';case 7:{const y=P.value.find(Ie=>Ie.id===p),H=((y==null?void 0:y.attrs)||"").split(":").filter(Ie=>Ie.trim());let G=h||"–î–µ–π—Å—Ç–≤–∏–µ",Q="",me="api-macro";for(const Ie of H)if(Ie.includes("=")){const[_e,Jt]=Ie.split("=");_e==="ALIAS"&&Jt&&(G=Jt)}else Ie.trim()&&(Q||(Q=Ie.trim()));if(Q==="none"||!Q)return`<button class="cell-button cell-button-disabled" onclick="event.stopPropagation()" disabled title="–ö–Ω–æ–ø–∫–∞ –±–µ–∑ –¥–µ–π—Å—Ç–≤–∏—è"><i class="pi pi-ban"></i><span>${G}</span></button>`;if(Q.startsWith("http")||Q.startsWith("/"))me="custom-url";else{const Ie=c.find(_e=>_e.endpoint===Q||_e.id===Q);Ie&&(me=Ie.actionType)}const se=`data-row-id="${u}" data-header-id="${p}" data-action-type="${me}"`,Re=Q.includes("_m_del")||Q.includes("delete");return`<button class="${Re?"cell-button cell-button-danger":"cell-button cell-button-action"} data-table-action-button" ${se} title="${G}" onclick="event.stopPropagation()"><i class="pi ${Re?"pi-trash":me==="custom-url"?"pi-external-link":"pi-bolt"}"></i><span>${G}</span></button>`}case 8:return k(String(h));case 10:{const y=String(h);if(!y)return"";let O="",H=y;const G=y.match(/<a[^>]*href="([^"]*)"[^>]*>([^<]*)<\/a>/i);if(G)O=G[1],H=G[2];else if(y.includes(":")){const Ie=y.indexOf(":");y.substring(0,Ie),H=y.substring(Ie+1),O=y}else y.startsWith("/")?(O=y,H=y.split("/").pop()||y):H=y;const Q=((T=H.split(".").pop())==null?void 0:T.toLowerCase())||"",me=["jpg","jpeg","png","gif","webp","svg","bmp","ico"].includes(Q),se=["mp4","avi","mov","mkv","webm","ogv"].includes(Q),Re=["mp3","wav","ogg","flac","aac","m4a"].includes(Q);let xe="pi-file";me?xe="pi-image":["pdf"].includes(Q)?xe="pi-file-pdf":["doc","docx","odt","rtf"].includes(Q)?xe="pi-file-word":["xls","xlsx","ods","csv"].includes(Q)?xe="pi-file-excel":["zip","rar","7z","tar","gz"].includes(Q)?xe="pi-box":Re?xe="pi-volume-up":se&&(xe="pi-video");const He=O&&O.startsWith("/")&&d.serverUrl?`${d.serverUrl}${O}`:O;if(me&&He&&(He.startsWith("/")||He.startsWith("http"))){const Ie=He.replace(/'/g,"\\'"),_e=H.replace(/'/g,"\\'");return`<a href="javascript:void(0)" class="cell-file cell-file-preview" title="–û—Ç–∫—Ä—ã—Ç—å: ${H}" onclick="event.stopPropagation(); window.__dataTableOpenImagePreview && window.__dataTableOpenImagePreview('${Ie}', '${_e}')"><img src="${He}" alt="${H}" class="cell-file-thumbnail" loading="lazy" onerror="this.style.display='none';this.nextElementSibling.style.display='inline-flex'"><span class="cell-file-fallback" style="display:none"><i class="pi ${xe}"></i><span>${H}</span></span></a>`}return He&&(He.startsWith("/")||He.startsWith("http"))?`<a href="${He}" class="cell-chip cell-file" target="_blank" rel="noopener" title="–°–∫–∞—á–∞—Ç—å: ${H}" onclick="event.stopPropagation()"><i class="pi ${xe}"></i><span>${H}</span></a>`:`<span class="cell-chip cell-file" title="–§–∞–π–ª: ${H}"><i class="pi ${xe}"></i><span>${H}</span></span>`}case 11:return h&&h!==""&&h!=="0"&&h!=="false"?'<span class="cell-boolean cell-boolean-true" title="–î–∞"><i class="pi pi-check-circle"></i></span>':'<span class="cell-boolean cell-boolean-false" title="–ù–µ—Ç"><i class="pi pi-times-circle"></i></span>';case 12:{const y=String(h),O=y.includes(`
`),H=y.length>100?y.substring(0,100)+"...":y,G=k(H.replace(/\n/g," "));return O||y.length>100?`<span class="cell-memo" title="${y.replace(/"/g,"&quot;").substring(0,500)}"><i class="pi pi-align-left"></i>${G}</span>`:G}case 15:return`<span class="cell-chip cell-calculated" title="–í—ã—á–∏—Å–ª—è–µ–º–æ–µ –ø–æ–ª–µ"><i class="pi pi-calculator"></i><span>${String(h)}</span></span>`;case 16:{const y=String(h);return y==="0"?'<span class="cell-chip cell-report-col" title="–í—ã—á–∏—Å–ª—è–µ–º–∞—è –∫–æ–ª–æ–Ω–∫–∞ –æ—Ç—á—ë—Ç–∞"><i class="pi pi-table"></i><span>–í—ã—á–∏—Å–ª—è–µ–º–æ–µ</span></span>':`<span class="cell-chip cell-report-col" title="–ö–æ–ª–æ–Ω–∫–∞ –æ—Ç—á—ë—Ç–∞: ${y}"><i class="pi pi-table"></i><span>${y}</span></span>`}case 17:{const y=String(h);if(!y)return"";let O=y,H=O;if(y.includes(":")&&!y.startsWith("/")){const Q=y.indexOf(":");H=y.substring(Q+1)}else H=O.split("/").pop()||O;const G=O.startsWith("/")&&d.serverUrl?`${d.serverUrl}${O}`:O;return O.startsWith("/")||G.startsWith("http")?`<a href="${G}" class="cell-path-link" target="_blank" rel="noopener" title="–û—Ç–∫—Ä—ã—Ç—å: ${O}" onclick="event.stopPropagation()"><i class="pi pi-external-link"></i><span>${H}</span></a>`:`<span class="cell-path" title="–ü—É—Ç—å: ${y}"><i class="pi pi-folder-open"></i><span>${H}</span></span>`}case 9:{let y=null;if(typeof h=="number")y=h;else if(typeof h=="string")if(/^\d+$/.test(h))y=parseInt(h,10);else if(/^\d{2}\.\d{2}\.\d{4}$/.test(h)){const O=h.split("."),H=parseInt(O[0],10),G=parseInt(O[1],10)-1,Q=parseInt(O[2],10),me=new Date(Q,G,H);y=Math.floor(me.getTime()/1e3)}else return h;return y?va(y,d.dateStyle):h}case 4:{let y=null;if(typeof h=="number")y=h;else if(typeof h=="string")if(/^\d+$/.test(h))y=parseInt(h,10);else if(/^\d{2}\.\d{2}\.\d{4}\s+\d{2}:\d{2}:\d{2}$/.test(h)){const[O,H]=h.split(/\s+/),[G,Q,me]=O.split(".").map(Ie=>parseInt(Ie,10)),[se,Re,xe]=H.split(":").map(Ie=>parseInt(Ie,10)),He=new Date(me,Q-1,G,se,Re,xe);y=Math.floor(He.getTime()/1e3)}else return h;return y?ga(y,d.dateStyle):h}case 13:{const y=typeof h=="number"?h:parseInt(h,10);if(isNaN(y))return h;const O=y.toLocaleString("ru-RU");return`<span class="cell-number cell-number-integer${y<0?" cell-number-negative":""}">${O}</span>`}case 14:{const y=typeof h=="number"?h:parseFloat(h);if(isNaN(y))return h;const O=y.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2});return`<span class="cell-number cell-number-decimal${y<0?" cell-number-negative":""}">${O}</span>`}default:return h}},Sr=(a,r)=>{if(!a)return"";const u=new Date(a*1e3);return r.replace("dd",String(u.getDate()).padStart(2,"0")).replace("MM",String(u.getMonth()+1).padStart(2,"0")).replace("yyyy",u.getFullYear()).replace("HH",String(u.getHours()).padStart(2,"0")).replace("mm",String(u.getMinutes()).padStart(2,"0")).replace("ss",String(u.getSeconds()).padStart(2,"0"))},pl=["—è–Ω–≤","—Ñ–µ–≤","–º–∞—Ä","–∞–ø—Ä","–º–∞–π","–∏—é–Ω","–∏—é–ª","–∞–≤–≥","—Å–µ–Ω","–æ–∫—Ç","–Ω–æ—è","–¥–µ–∫"],fl=["—è–Ω–≤–∞—Ä—è","—Ñ–µ–≤—Ä–∞–ª—è","–º–∞—Ä—Ç–∞","–∞–ø—Ä–µ–ª—è","–º–∞—è","–∏—é–Ω—è","–∏—é–ª—è","–∞–≤–≥—É—Å—Ç–∞","—Å–µ–Ω—Ç—è–±—Ä—è","–æ–∫—Ç—è–±—Ä—è","–Ω–æ—è–±—Ä—è","–¥–µ–∫–∞–±—Ä—è"],ml=["–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ","–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫","–≤—Ç–æ—Ä–Ω–∏–∫","—Å—Ä–µ–¥–∞","—á–µ—Ç–≤–µ—Ä–≥","–ø—è—Ç–Ω–∏—Ü–∞","—Å—É–±–±–æ—Ç–∞"],ma=a=>{const r=new Date(a*1e3),u=ml[r.getDay()],p=r.getDate(),h=fl[r.getMonth()],k=r.getFullYear();return`${u}, ${p} ${h} ${k}`},ha=a=>{const r=new Date(a*1e3),u=ml[r.getDay()],p=r.getDate(),h=fl[r.getMonth()],k=r.getFullYear(),T=String(r.getHours()).padStart(2,"0"),y=String(r.getMinutes()).padStart(2,"0");return`${u}, ${p} ${h} ${k}, ${T}:${y}`},hl=a=>{const r=new Date(a*1e3),u=new Date;u.setHours(0,0,0,0),r.setHours(0,0,0,0);const p=r.getTime()-u.getTime(),h=Math.round(p/(1e3*60*60*24));let k,T;return h===0?(k="–°–µ–≥–æ–¥–Ω—è",T="date-today"):h===-1?(k="–í—á–µ—Ä–∞",T="date-past"):h===1?(k="–ó–∞–≤—Ç—Ä–∞",T="date-future"):h>1&&h<=7?(k=`–ß–µ—Ä–µ–∑ ${h} ${xn(h)}`,T="date-future"):h<-1&&h>=-7?(k=`${Math.abs(h)} ${xn(Math.abs(h))} –Ω–∞–∑–∞–¥`,T="date-past"):h>7?(k=`–ß–µ—Ä–µ–∑ ${h} ${xn(h)}`,T="date-far-future"):(k=`${Math.abs(h)} ${xn(Math.abs(h))} –Ω–∞–∑–∞–¥`,T="date-far-past"),{label:k,cssClass:T,diffDays:h}},xn=a=>{const r=a%100,u=a%10;return r>=11&&r<=19?"–¥–Ω–µ–π":u===1?"–¥–µ–Ω—å":u>=2&&u<=4?"–¥–Ω—è":"–¥–Ω–µ–π"},va=(a,r)=>{if(!a)return"";const u=new Date(a*1e3),p=String(u.getDate()).padStart(2,"0"),h=String(u.getMonth()+1).padStart(2,"0"),k=u.getFullYear(),T=pl[u.getMonth()],y=hl(a),O=ma(a);let H;switch(r){case"classic":H=`${p}.${h}.${k}`;break;case"relative":H=y.label;break;case"pill":default:H=Math.abs(y.diffDays)<=7?y.label:`${u.getDate()} ${T}`;break}return`<span class="cell-chip cell-date ${y.cssClass}" data-tooltip="${O}"><i class="pi pi-calendar"></i><span>${H}</span></span>`},ga=(a,r)=>{if(!a)return"";const u=new Date(a*1e3),p=String(u.getDate()).padStart(2,"0"),h=String(u.getMonth()+1).padStart(2,"0"),k=u.getFullYear(),T=String(u.getHours()).padStart(2,"0"),y=String(u.getMinutes()).padStart(2,"0"),O=pl[u.getMonth()],H=hl(a),G=`${T}:${y}`,Q=ha(a);let me;switch(r){case"classic":me=`${p}.${h}.${k} ${G}`;break;case"relative":me=`${H.label}, ${G}`;break;case"pill":default:me=Math.abs(H.diffDays)<=7?`${H.label}, ${G}`:`${u.getDate()} ${O}, ${G}`;break}return`<span class="cell-chip cell-datetime ${H.cssClass}" data-tooltip="${Q}"><i class="pi pi-clock"></i><span>${me}</span></span>`},Tr=a=>{var r;return(r=P.value.find(u=>u.id===a))==null?void 0:r.dirTableId},ba=Te(()=>{const a=new Map;let r=0;return pn.value.forEach(u=>{u.type==="row"&&(a.set(u.data.id,r),r++)}),a}),Mr=a=>{const r=ba.value.get(a);return r!==void 0?r:-1},Er=(a,r)=>{var u,p;return((u=Oe.value.start)==null?void 0:u.headerId)===a&&((p=Oe.value.start)==null?void 0:p.rowId)===r};function ya(a){const r=new Set;return Ke.value.forEach(u=>{var h;const p=(h=u.cells[a])==null?void 0:h.value;r.add(String(p??""))}),Array.from(r).sort((u,p)=>u===""?1:p===""?-1:u.localeCompare(p,"ru"))}function Or(a,r){if(Be.value&&Be.value!==a){const p=Et.value[Be.value];p&&p.hide()}Be.value=a,We.value[a]||(We.value[a]=new Set),kt.value[a]||(kt.value[a]="");const u=Et.value[a];u&&u.toggle(r)}function wa(a){var p;const r=ya(a),u=((p=kt.value[a])==null?void 0:p.toLowerCase())||"";return u?r.filter(h=>h.toLowerCase().includes(u)):r}function Lr(a,r){const u=We.value[a];u.has(r)?u.delete(r):u.add(r),ft.value.length>0?tn(ft.value):Nt.value&&Gt(Nt.value)}function Vr(a){We.value[a]=new Set,kt.value[a]="",ft.value.length>0?tn(ft.value):Nt.value&&Gt(Nt.value)}function Rr(a){const r=wa(a);We.value[a]=new Set(r),ft.value.length>0?tn(ft.value):Nt.value&&Gt(Nt.value)}function Fr(a){const r=We.value[a];return r&&r.size>0}const ka=Te(()=>Ft.value.length===0?!1:Ft.value.every(a=>be.value.has(a.id)));function Ar(){ka.value?be.value.clear():Ft.value.forEach(a=>{be.value.add(a.id)}),ot.value=be.value.size>0}function Pr(a,r,u){if(r.shiftKey&&Ye.value!==null){const p=Math.min(Ye.value,u),h=Math.max(Ye.value,u);for(let k=p;k<=h;k++){const T=Ft.value[k];T&&be.value.add(T.id)}}else r.ctrlKey||r.metaKey,be.value.has(a)?be.value.delete(a):be.value.add(a),Ye.value=u;ot.value=be.value.size>0}function Ia(){Me.value=!Me.value,Me.value||vl()}function vl(){be.value.clear(),Ye.value=null,ot.value=!1,Me.value=!1}function xr(){if(be.value.size===0)return;const a=be.value.size;Wl.value=`–£–¥–∞–ª–∏—Ç—å ${a} –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π?`,_l.value=()=>{b("bulk-delete",Array.from(be.value)),vl()},jl.value=!0}function Br(){if(be.value.size===0)return;const a=d.rows.filter(r=>be.value.has(r.id));console.log("Exporting",a.length,"rows")}function Da(a){a&&(ct.value.has(a)?ct.value.delete(a):ct.value.add(a))}function Ca(a){a&&(de.value={id:Date.now().toString(),headerId:a,condition:"greater",value:"",backgroundColor:"#dcfce7",textColor:"#166534"},xt.value=!0)}function Hr(){if(!de.value)return;const a=vt.value.findIndex(r=>r.headerId===de.value.headerId&&r.id===de.value.id);a>=0?vt.value[a]={...de.value}:vt.value.push({...de.value}),xt.value=!1,de.value=null}function Ur(a){vt.value=vt.value.filter(r=>r.id!==a)}function Sa(a,r){Qe.value=a,$t.value=r||"–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ",It.value=!0}function Kr(){console.error("[DataTable] Image preview failed to load:",Qe.value)}function Nr(){if(!Qe.value)return;const a=document.createElement("a");a.href=Qe.value,a.download=$t.value||"image",a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a)}typeof window<"u"&&(window.__dataTableOpenImagePreview=Sa);function zr(a,r){const u=vt.value.filter(p=>p.headerId===a);for(const p of u){let h=!1;switch(p.condition){case"greater":h=parseFloat(r)>parseFloat(p.value);break;case"less":h=parseFloat(r)<parseFloat(p.value);break;case"equal":h=String(r).toLowerCase()===String(p.value).toLowerCase();break;case"contains":h=String(r).toLowerCase().includes(String(p.value).toLowerCase());break;case"empty":h=!r||String(r).trim()==="";break;case"notEmpty":h=r&&String(r).trim()!=="";break}if(h)return{backgroundColor:p.backgroundColor,color:p.textColor}}return{}}const Yr=Te(()=>{const a={};let r=0;const u=80;return P.value.forEach((p,h)=>{if(ct.value.has(p.id)){a[p.id]=r+u;const k=p.width||150;r+=k}}),a}),qr=a=>ct.value.has(a);function jr(a,r){if(a){if(!d.allDataLoaded){console.warn('Sorting requires all data to be loaded. Enable "Auto-load all data" in settings.');return}if(r.shiftKey){const u=Ze.value.findIndex(p=>p.headerId===a);if(u>=0){const p=Ze.value[u].direction;Ze.value[u].direction=p==="asc"?"desc":"asc"}else Ze.value.length<3?Ze.value.push({headerId:a,direction:"asc"}):(Ze.value.shift(),Ze.value.push({headerId:a,direction:"asc"}))}else if(Ze.value.findIndex(p=>p.headerId===a)===0&&Ze.value.length===1){const p=Ze.value[0].direction;Ze.value[0].direction=p==="asc"?"desc":"asc"}else Ze.value=[{headerId:a,direction:"asc"}]}}function Ta(){Ze.value=[]}function Wr(a){const r=Ze.value.findIndex(u=>u.headerId===a);return r<0?null:{order:r+1,direction:Ze.value[r].direction}}function _r(a){return Ze.value.some(r=>r.headerId===a)}function hi(a,r){a&&(Ve.value[a]=r)}function gl(){Ot.value=!Ot.value}function Gr(a){const r=ni.value[a];if(!r)return"";const u=Ve.value[a]||"sum",p=r[u];return p==null||p===0?"":u==="count"?`n=${p}`:u==="sum"?`Œ£=${p}`:u==="avg"?`xÃÑ=${p}`:p}function Xr(a,r){var u;(u=Ma.value)==null||u.show(a),Bn.value=r}const Bn=D(null),Ma=D(null),Jr=Te(()=>[{label:"–°—É–º–º–∞ (SUM)",icon:"pi pi-plus",command:()=>{var a;return hi((a=Bn.value)==null?void 0:a.id,"sum")}},{label:"–°—Ä–µ–¥–Ω–µ–µ (AVG)",icon:"pi pi-chart-line",command:()=>{var a;return hi((a=Bn.value)==null?void 0:a.id,"avg")}},{label:"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (COUNT)",icon:"pi pi-hashtag",command:()=>{var a;return hi((a=Bn.value)==null?void 0:a.id,"count")}},{separator:!0},{label:Ot.value?"–°–∫—Ä—ã—Ç—å —Ñ—É—Ç–µ—Ä":"–ü–æ–∫–∞–∑–∞—Ç—å —Ñ—É—Ç–µ—Ä",icon:Ot.value?"pi pi-eye-slash":"pi pi-eye",command:()=>gl()}]);async function Ea(){var me;if(!Oe.value.start)return;const a=Oe.value.start,r=Oe.value.end||a,u=Ke.value.findIndex(se=>se.id===a.rowId),p=Ke.value.findIndex(se=>se.id===r.rowId),h=P.value.findIndex(se=>se.id===a.headerId),k=P.value.findIndex(se=>se.id===r.headerId),T=Math.min(u,p),y=Math.max(u,p),O=Math.min(h,k),H=Math.max(h,k),G=[];for(let se=T;se<=y;se++){const Re=Ke.value[se],xe=[];for(let He=O;He<=H;He++){const Ie=P.value[He],_e=((me=Re.cells[Ie.id])==null?void 0:me.value)??"";xe.push(String(_e))}G.push(xe.join("	"))}const Q=G.join(`
`);try{await navigator.clipboard.writeText(Q),Ut.value={data:Q,rows:y-T+1,cols:H-O+1},console.log("Copied to clipboard:",Q)}catch(se){console.error("Failed to copy:",se)}}async function Oa(){var a;if(Oe.value.start)try{const r=await navigator.clipboard.readText();if(!r)return;const u=r.split(`
`).map(y=>y.split("	")),p=Oe.value.start,h=Ke.value.findIndex(y=>y.id===p.rowId),k=P.value.findIndex(y=>y.id===p.headerId);if(h===-1||k===-1)return;const T=[];for(let y=0;y<u.length;y++){const O=h+y;if(O>=Ke.value.length)break;const H=Ke.value[O],G=u[y];for(let Q=0;Q<G.length;Q++){const me=k+Q;if(me>=P.value.length)break;const se=P.value[me],Re=G[Q];T.push({rowId:H.id,headerId:se.id,cellId:(a=H.cells[se.id])==null?void 0:a.id,value:Re})}}for(const y of T)b("cell-update",{cellId:y.cellId,headerId:y.headerId,value:y.value,rowId:y.rowId});console.log("Pasted",T.length,"cells")}catch(r){console.error("Failed to paste:",r)}}const Zr=(a,r)=>{if(!jt.value)return!1;const u=Ke.value.findIndex(h=>h.id===r),p=a==="row-counter"?-1:P.value.findIndex(h=>h.id===a);return u>=jt.value.minRow&&u<=jt.value.maxRow&&p>=jt.value.minCol&&p<=jt.value.maxCol},Qr=a=>{const r=bl(a);r&&(Oe.value={start:{headerId:r.headerId,rowId:r.rowId},end:null,isSelecting:!0})},$r=a=>{if(!Oe.value.isSelecting)return;const r=bl(a);r&&(Oe.value.end={headerId:r.headerId,rowId:r.rowId})},es=()=>Oe.value.isSelecting=!1,bl=a=>{const r=a.target.closest("td");return r?{headerId:r.dataset.headerId||"row-counter",rowId:r.closest("tr").dataset.rowId}:null},Hn=(a,r)=>{const u=document.getElementById(`table-container-${d["data-tab-id"]}`);if(!u)return;const p=u.querySelector(`tr[data-row-id="${r}"] td[data-header-id="${a}"]`);if(p){const h=u.getBoundingClientRect(),k=p.getBoundingClientRect();(k.top<h.top||k.bottom>h.bottom)&&p.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}},yn=a=>{if(!Oe.value.start)return;const r=Ke.value.findIndex(k=>k.id===Oe.value.start.rowId),u=P.value.findIndex(k=>k.id===Oe.value.start.headerId);let p=r,h=u;switch(a){case"up":p=Math.max(0,r-1);break;case"down":p=Math.min(Ke.value.length-1,r+1);break;case"left":h=Math.max(0,u-1);break;case"right":h=Math.min(P.value.length-1,u+1);break}if(p!==r||h!==u){const k=Ke.value[p],T=P.value[h];k&&T&&(Oe.value={start:{headerId:T.id,rowId:k.id},end:null,isSelecting:!1},Hn(T.id,k.id))}},La=()=>{if(Ke.value.length===0||P.value.length===0)return;const a=Ke.value[0],r=P.value[0];Oe.value={start:{headerId:r.id,rowId:a.id},end:null,isSelecting:!1},Hn(r.id,a.id)},Va=()=>{if(Ke.value.length===0||P.value.length===0)return;const a=Ke.value[Ke.value.length-1],r=P.value[P.value.length-1];Oe.value={start:{headerId:r.id,rowId:a.id},end:null,isSelecting:!1},Hn(r.id,a.id)},yl=a=>{if(!j.value)return;const r=j.value.closest(".table-container");if(!r)return;const u=r.clientHeight,p=r.scrollTop,k=Math.floor(u/32),T=Ke.value.findIndex(G=>G.id===Oe.value.start.rowId);let y=T;a==="up"?(y=Math.max(0,T-k),r.scrollTop=Math.max(0,p-u)):a==="down"&&(y=Math.min(Ke.value.length-1,T+k),r.scrollTop=p+u);const O=Ke.value[y],H=P.value.find(G=>G.id===Oe.value.start.headerId);O&&H&&(Oe.value={start:{headerId:H.id,rowId:O.id},end:null,isSelecting:!1},Hn(H.id,O.id))},wl=a=>{if((a.ctrlKey||a.metaKey)&&a.key==="c"){a.preventDefault(),Ea();return}if((a.ctrlKey||a.metaKey)&&a.key==="v"){a.preventDefault(),d!=null&&d.disableEditing||Oa();return}if(!St.value&&Oe.value.start)switch(a.key){case"Enter":d!=null&&d.disableEditing||(a.preventDefault(),ol(Oe.value.start.headerId,Oe.value.start.rowId));break;case"ArrowUp":a.preventDefault(),yn("up");break;case"ArrowDown":a.preventDefault(),yn("down");break;case"ArrowLeft":a.preventDefault(),yn("left");break;case"ArrowRight":a.preventDefault(),yn("right");break;case"Tab":a.preventDefault(),yn(a.shiftKey?"left":"right");break;case"Home":(a.ctrlKey||a.metaKey)&&(a.preventDefault(),La());break;case"End":(a.ctrlKey||a.metaKey)&&(a.preventDefault(),Va());break;case"PageUp":a.preventDefault(),yl("up");break;case"PageDown":a.preventDefault(),yl("down");break}},ts=(a,r)=>{w.value=!0,a.preventDefault(),a.stopPropagation();const u=a.currentTarget.closest("th");u&&(le.value={headerId:r,startX:a.clientX,startWidth:u.offsetWidth,currentTh:u,tableStartWidth:j.value.offsetWidth},u.classList.add("resizing"),document.addEventListener("mousemove",vi),document.addEventListener("mouseup",gi),document.body.style.cursor="col-resize",document.body.style.userSelect="none")},vi=a=>{if(!w.value)return;a.preventDefault();const{headerId:r,startX:u,startWidth:p,tableStartWidth:h}=le.value,k=a.clientX-u;let T=p+k;T<t&&(T=t);const y=document.querySelector(`th[data-header-id="${r}"]`);y&&(y.style.width=`${T}px`,y.style.minWidth=`${T}px`,y.style.maxWidth=`${T}px`,document.querySelectorAll(`td[data-header-id="${r}"]`).forEach(O=>{O.style.width=`${T}px`,O.style.minWidth=`${T}px`,O.style.maxWidth=`${T}px`}),T>t&&(j.value.style.width=`${h+k}px`))},gi=()=>{if(!w.value)return;const{headerId:a}=le.value,r=document.querySelector(`th[data-header-id="${a}"]`),u=(r==null?void 0:r.offsetWidth)||0,p=j.value.offsetWidth,h=P.value.map(k=>k.id===a?{...k,width:u}:k);P.value=h,b("update:table-config",{headers:h,tableWidth:p}),kl()},kl=()=>{document.removeEventListener("mousemove",vi),document.removeEventListener("mouseup",gi),document.body.style.cursor="",document.body.style.userSelect="",le.value.currentTh&&le.value.currentTh.classList.remove("resizing"),w.value=!1,le.value={headerId:null,startX:0,startWidth:0,currentTh:null,tableStartWidth:0}},ns=(a,r)=>{a.preventDefault(),a.stopPropagation();const u=a.currentTarget.closest("tr");u&&(z.value=!0,Z.value={rowId:r,startY:a.clientY,startHeight:u.offsetHeight,currentTr:u},u.classList.add("row-resizing"),document.addEventListener("mousemove",Il),document.addEventListener("mouseup",Dl),document.body.style.cursor="row-resize",document.body.style.userSelect="none")},Il=a=>{if(!z.value)return;a.preventDefault();const{rowId:r,startY:u,startHeight:p}=Z.value,h=a.clientY-u;let k=p+h;k<Vl&&(k=Vl),F.value[r]=k;const T=document.querySelector(`tr[data-row-id="${r}"]`);T&&(T.style.height=`${k}px`,T.querySelectorAll("td").forEach(y=>{y.style.height=`${k}px`}))},Dl=()=>{z.value&&(qe(),Cl())},Cl=()=>{document.removeEventListener("mousemove",Il),document.removeEventListener("mouseup",Dl),document.body.style.cursor="",document.body.style.userSelect="",Z.value.currentTr&&Z.value.currentTr.classList.remove("row-resizing"),z.value=!1,Z.value={rowId:null,startY:0,startHeight:0,currentTr:null}},is=a=>{delete F.value[a],qe();const r=document.querySelector(`tr[data-row-id="${a}"]`);r&&(r.style.height="",r.querySelectorAll("td").forEach(u=>{u.style.height=""}))},ls=a=>{const r=document.querySelector(`th[data-header-id="${a}"]`),u=document.querySelectorAll(`td[data-header-id="${a}"]`);if(!r)return;const p=document.createElement("div");p.style.position="absolute",p.style.visibility="hidden",p.style.whiteSpace="nowrap",p.style.font=window.getComputedStyle(r).font,p.style.padding="0",p.style.margin="0",document.body.appendChild(p);let h=0;const k=r.querySelector(".header-content");if(k){const se=k.textContent||"";p.textContent=se,h=Math.max(h,p.offsetWidth)}Array.from(u).slice(0,100).forEach(se=>{const Re=se.textContent||"";p.textContent=Re,h=Math.max(h,p.offsetWidth)}),document.body.removeChild(p);const y=40,O=r.querySelector(".filter-button")?30:0,H=r.querySelector(".sort-indicator")?20:0,G=y+O+H,Q=Math.max(t,h+G);r.style.width=`${Q}px`,r.style.minWidth=`${Q}px`,r.style.maxWidth=`${Q}px`,u.forEach(se=>{se.style.width=`${Q}px`,se.style.minWidth=`${Q}px`,se.style.maxWidth=`${Q}px`});const me=P.value.map(se=>se.id===a?{...se,width:Q}:se);P.value=me,b("update:table-config",{headers:me,tableWidth:j.value.offsetWidth})},as=(a,r=null)=>{if(r&&r.columnType==="dir")return"fas fa-link me-2";if(r&&r.columnType==="multi")return"fas fa-list me-2";const u=ee.value.find(p=>p.value==a);return`fas ${u?u.icon:"fa-question-circle"} me-2`},os=(a,r=null)=>{if(r&&r.columnType==="dir")return"–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫";if(r&&r.columnType==="multi")return"–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä";const u=El.find(p=>p.value==a);return u?u.label:"Unknown type"},rs=()=>{d!=null&&d.isAddingColumn||b("add-column")},ss=()=>{d!=null&&d.isAddingRow||b("add-row")},ds=a=>{const r=P.value.find(u=>u.id===a.headerId);ql.value=!1,b("open-nested",{tableId:a.nestedTableId||(r==null?void 0:r.nestedTableId)||a.headerId,parentRowId:a.nestedLink,tableName:(r==null?void 0:r.value)||a.value})},us=(a,r,u)=>r&&u==="multi"?xl:r?Ci:{3:wi,8:wi,9:jn,11:Wn,12:Dn,13:qn,14:qn,4:jn}[a]||wi,cs=(a,r,u=[],p=d.database)=>{if(r)return{options:u,optionLabel:"value",optionValue:"id",filter:!0,showClear:!0,placeholder:"–í—ã–±–µ—Ä–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ",focusOnShow:!0,autoFocus:!0,onChange:k=>{St.value&&Ul(St.value.headerId,St.value.rowId)}};const h={};switch(a){case 3:case 8:h.database=p,h.placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç (@ –¥–ª—è —É–ø–æ–º–∏–Ω–∞–Ω–∏–π)";break;case 4:h.showTime=!0,h.showSeconds=!0,h.dateFormat="dd.mm.yy",h.timeFormat="HH:mm:ss";break;case 9:h.dateFormat="dd.mm.yy";break;case 11:h.binary=!0;break}return h},ps=(a,r,u=null)=>{if(u!=null&&u.displayValue)return u.displayValue;const p=a.dirTableId;if(Xt.value[p]){const h=Xt.value[p].find(k=>k.id===r);return h?h.value:`ID: ${r}`}return"..."},fs=(a,r)=>{a.dirTableId&&b("open-directory",{typeId:a.dirTableId,typeName:a.value||a.alias||`–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ ${a.dirTableId}`,dirRowId:r})},ms=async(a,r,u)=>{if(!u)return;ke&&(clearTimeout(ke),ke=null);const p=a.currentTarget||a.target,h=q(r.dirTableId,u),k=hn.value.get(h),T=y=>{!p||!document.body.contains(p)||(Se.value=r.value,ie.value=y,re.value&&re.value.show({currentTarget:p,target:p}))};if(Y(k)&&k.data){ke=setTimeout(()=>{T(k.data)},100);return}ke=setTimeout(()=>{if(!p||!document.body.contains(p))return;Se.value=r.value;const y=hn.value.get(h);Y(y)?ie.value=y.data:b("load-dir-row",{dirTableId:r.dirTableId,dirRowId:u,callback:O=>{hn.value.set(h,{data:O||null,timestamp:Date.now()}),ie.value=O}}),re.value&&re.value.show({currentTarget:p,target:p})},300)},hs=a=>{var u,p;const r=(p=(u=ie.value)==null?void 0:u.headers)==null?void 0:p.find(h=>h.id===a);return r?r.value:""},vs=(a,r)=>{const u=String(a||"").trim().toLowerCase();return r===4||r===5?"pi pi-calendar":r===6?"pi pi-clock":r===7?"pi pi-check-square":/^[\w.-]+@[\w.-]+\.\w+$/.test(u)?"pi pi-envelope":/^(\+?\d{1,3}[-.\s]?)?\(?\d{1,4}\)?[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/.test(u)?"pi pi-phone":/^https?:\/\//i.test(u)?"pi pi-link":/^\d+([.,]\d+)?$/.test(u)?"pi pi-hashtag":"pi pi-circle-fill"},gs=async(a,r,u,p)=>{const h=(u==null?void 0:u.nestedTableId)||(r==null?void 0:r.nestedTableId)||(r==null?void 0:r.nested);if(!h)return;ge&&clearTimeout(ge);const k=a.currentTarget;ge=setTimeout(async()=>{!k||!document.body.contains(k)||(oe.value=null,ve.value&&ve.value.show({currentTarget:k,target:k}),b("load-nested-preview",{nestedTableId:h,parentRowId:p,tableName:r.label||r.value||"–ü–æ–¥—á–∏–Ω—ë–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞",callback:T=>{!k||!document.body.contains(k)||(oe.value={tableName:r.label||r.value||"–ü–æ–¥—á–∏–Ω—ë–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞",totalCount:(u==null?void 0:u.value)||(T==null?void 0:T.totalCount)||0,items:(T==null?void 0:T.items)||[]})}}))},co)},bs=()=>{ge&&(clearTimeout(ge),ge=null),ve.value&&ve.value.hide(),oe.value=null},Ra=async()=>{if(console.log("[preloadDirectories] CALLED! autoLoadDirs:",d.autoLoadDirs,"localHeaders count:",P.value.length),d.autoLoadDirs===!1||d.autoLoadDirs==="false"){console.log("[preloadDirectories] autoLoadDirs DISABLED - skipping directory preload (value:",d.autoLoadDirs,")");return}const r=[...new Set(P.value.map(u=>u.dirTableId).filter(Boolean))];r.length!==0&&(console.log("[preloadDirectories] Starting preload of",r.length,"directories"),await Promise.all(r.map(u=>new Promise(p=>{Xt.value[u]?p():(mn.value.add(u),b("load-directory-list",{dirTableId:u,callback:h=>{Xt.value[u]=h,li.value[u]=h,mn.value.delete(u),p()}}))}))))},Fa=()=>{Vt.value=setInterval(()=>{ai()},300*1e3)},Aa=()=>{Vt.value&&(clearInterval(Vt.value),Vt.value=null)},Sl=a=>[3,8,12].includes(a),ys=(a,r)=>{a.value=r,Sl(a.type)&&lt(()=>{Tl(a)})},Tl=a=>{var p;const r=rl.value.headers.findIndex(h=>h.headerId===a.headerId);if(r===-1)return;const u=(p=Lt.value[r])==null?void 0:p.$el;u&&a.type===12&&(u.style.height="auto",u.style.height=`${u.scrollHeight}px`)};wt(rl,a=>{a&&lt(()=>{a.headers.forEach(r=>{Sl(r.type)&&Tl(r)})})},{deep:!0}),wt(()=>d.headers,a=>{P.value=a.map(r=>({...r,width:r.width||150,columnType:r.columnType||"regular"})),console.log("[DataTable] Headers updated, columnTypes:",a.map(r=>({id:r.id,name:r.value,columnType:r.columnType,dirTableId:r.dirTableId})))},{immediate:!0,deep:!0}),wt(()=>d.tableWidth,a=>{j.value&&a!==null&&(j.value.style.width=`${a}px`)}),wt(()=>d.rows,(a,r)=>{if(pi.value.clear(),!r||a.length!==r.length){Pn(),Tt.value.clear(),Rt.value.clear();return}const u=[];a.forEach((p,h)=>{const k=r[h];if(!k||k.id!==p.id){Pn(),Tt.value.clear(),Rt.value.clear();return}p.values.forEach((T,y)=>{const O=k.values[y];if(!(!O||O.headerId!==T.headerId)&&T.value!==O.value){const H=`${p.id}-${T.headerId}`;u.push(H),typeof T.value=="string"&&T.value.startsWith("=")&&Pn()}})}),u.length>0&&fa(u)},{deep:!0}),wt(St,a=>{if(a&&a.headerId){const r=P.value.find(u=>u.id===a.headerId);r!=null&&r.dirTableId&&lt(()=>{const u=document.querySelector(".seamless-editor .p-dropdown, .seamless-editor .p-multiselect");if(u){const p=u.querySelector(".p-dropdown-trigger, .p-multiselect-trigger");p&&p.click()}})}});const Ml=()=>{window.removeEventListener("resize",fn),document.removeEventListener("keydown",wl),document.removeEventListener("mousemove",vi),document.removeEventListener("mouseup",gi),oi(),Fe(),Yl(),ea(),ii(),la(),_.value&&_.value.hide(),re.value&&re.value.hide(),Oe.value={start:null,end:null,isSelecting:!1},w.value&&kl()};Yn(()=>{console.log("[DataTable.onMounted] autoLoadDirs prop value:",d.autoLoadDirs,"type:",typeof d.autoLoadDirs),j.value=document.querySelector(".coda-style-datatable table"),fn(),window.addEventListener("resize",fn),document.addEventListener("mousedown",Nl),document.addEventListener("keydown",wl),console.log("[DataTable.onMounted] Calling preloadDirectories with autoLoadDirs:",d.autoLoadDirs),Ra(),Fa(),Pn();const a=document.querySelector(".coda-style-datatable");a&&(a.addEventListener("mouseenter",ut,!0),a.addEventListener("mouseleave",Mt,!0))}),Ha(()=>{Aa(),Ml(),document.removeEventListener("keydown",zl,!0),z.value&&Cl();const a=document.querySelector(".coda-style-datatable");a&&(a.removeEventListener("mouseenter",ut,!0),a.removeEventListener("mouseleave",Mt,!0)),Le&&(clearTimeout(Le),Le=null)}),e({cleanup:Ml,cancelCellEdit:Kl,startCellEdit:ol,isEditing:()=>St.value!==null,toggleSelectionMode:Ia,selectionModeEnabled:()=>Me.value,toggleFooter:gl,isFooterVisible:()=>Ot.value,loadAllDirDataInBackground:De,stopBackgroundLoading:Pe,isBackgroundLoadingDirs:()=>vn.value,backgroundLoadProgress:()=>Fn.value});const Pa={MIN_COLUMN_WIDTH:t,MAX_DEPTH:s,FUNCTION_HANDLERS:l,BUTTON_ACTIONS:c,props:d,emit:b,isChangeParentDialogVisible:C,newParentId:R,parentOptions:m,isButtonActionDialogVisible:B,buttonActionHeader:x,selectedButtonAction:A,buttonLabelInput:M,buttonActionParams:L,localHeaders:P,types:ee,table:j,isResizing:w,resizeData:le,rowContextMenu:_,rowCounterWidth:ue,dirOverlay:re,currentDirRow:ie,currentDirHeader:Se,nestedOverlay:ve,currentNestedPreview:oe,get nestedPreviewTimeout(){return ge},set nestedPreviewTimeout(a){ge=a},NESTED_PREVIEW_DELAY:co,get dirInfoTimeout(){return ke},set dirInfoTimeout(a){ke=a},hideDirInfo:g,customTooltip:ne,tooltipVisible:he,tooltipText:S,tooltipStyle:nt,get tooltipHideTimeout(){return Le},set tooltipHideTimeout(a){Le=a},handleTooltipShow:ut,handleTooltipHide:Mt,columnFilters:We,columnFilterPopovers:Et,formattingRules:vt,isFormattingDialogVisible:xt,editingRule:de,columnFilterSearch:kt,isImagePreviewVisible:It,imagePreviewUrl:Qe,imagePreviewFilename:$t,MIN_ROW_HEIGHT:Vl,DEFAULT_ROW_HEIGHT:po,rowHeights:F,isRowResizing:z,rowResizeData:Z,getRowHeightsStorageKey:$,loadRowHeights:$e,saveRowHeights:qe,getRowHeight:at,activeFilterColumn:Be,selectionModeEnabled:Me,selectedRowIds:be,lastSelectedRowIndex:Ye,bulkActionsVisible:ot,pinnedColumns:ct,sortColumns:Ze,showFooter:Ot,aggregationTypes:Ve,clipboardData:Ut,fieldRefs:Lt,multiselectRef:Tn,cacheRefreshInterval:Vt,rowEditSaveButton:pt,confirmYesButton:Yt,headerEditorInput:qt,onRowEditDialogShow:en,onConfirmDialogShow:Jn,formulaCache:Tt,rangeCacheMap:Rt,dependencyGraph:Zn,reverseDependencyGraph:Mn,tableStyle:Mi,rowCounterStyle:un,filteredTypes:Ei,isLoadingDirectory:Oi,selectedCells:Oe,selectionRange:jt,historyStack:gt,historyIndex:Dt,MAX_HISTORY_SIZE:fo,addToHistory:Li,undo:cn,redo:Qn,createCellEditCommand:ht,createRowDeleteCommand:$n,createFillCommand:Vi,handleUndoRedoShortcut:Ri,changedCells:Kt,markCellAsChanged:En,isCellChanged:ei,getCellChangeTime:ti,cellsMap:Wt,processedRows:Ke,filteredByColumnRows:Ft,sortedAndFilteredRows:On,columnAggregations:ni,groupedData:Fi,currentGroupColumns:ft,expandedGroups:Ai,currentGroupColumn:Nt,flattenedRows:pn,toggleMultiGroupBy:_t,groupMultiData:tn,toggleGroupBy:Ln,groupData:Gt,toggleGroup:Pi,formatMultiGroupHeader:Vn,cleanupGrouping:ii,virtualScrollTop:xi,containerHeight:Bi,isVirtualScrollEnabled:Hi,visibleRowRange:Ui,visibleRows:Ki,totalRowsHeight:Ni,updateTableHeight:fn,handleScroll:zi,draggedColumnId:Yi,dropTargetColumnId:qi,dropPosition:ji,handleDragStart:Wi,handleDragOver:_i,handleDrop:Gi,handleDragEnd:Xi,resetDragState:Ji,directoryLists:li,directoryCache:Xt,loadingDirectories:mn,isLoadingAnyDirectory:Zi,isDirectoryLoading:Qi,getDirectoryOptions:$i,loadDirectoryList:Rn,updateDirValue:el,updateMultiDirValue:tl,preloadAllDirectories:nl,loadAllDirectories:il,refreshDirectoryCache:ai,clearDirectoryCache:oi,dirRowCache:hn,preloadingDirRows:ll,isBackgroundLoadingDirs:vn,backgroundLoadProgress:Fn,DIR_ROW_CACHE_TTL:v,ROW_HOVER_DEBOUNCE_MS:E,BACKGROUND_LOAD_DELAY_MS:N,getDirRowCacheKey:q,isCacheValid:Y,preloadSingleDirRow:W,preloadRowDirData:K,handleRowHover:X,handleRowFocus:J,cancelRowHoverPreload:fe,loadAllDirDataInBackground:De,stopBackgroundLoading:Pe,clearDirRowCache:tt,cleanupDirectoryPreload:Fe,grantOptions:rt,grantOptionsLoading:At,grantOptionsError:Ee,loadGrantOptions:it,formatGrantValue:st,getGrantSeverity:Pt,getGrantIcon:dt,isSystemGrant:Ge,isRequisiteGrant:bt,getGrantWarning:Ct,editingCell:St,editingValue:ri,editingOptions:si,editingMultiValue:di,currentEditingHeader:nn,cellEditorInput:ui,isCancellingEdit:ci,isDropdownOpen:ln,memoEditingCell:An,memoEditingValue:al,isMemoDialogVisible:Lo,memoDialogHeader:Vo,memoTextarea:Ro,localCellOverrides:pi,startCellEdit:ol,saveCellEdit:Ul,cancelCellEdit:Kl,saveAndCloseCellEdit:Fo,isEditingCell:Ao,isInlineEditing:Po,autoOpenMultiSelect:xo,autoOpenDropdown:Bo,handleDropdownClick:Ho,handleMultiSelectHide:Uo,handleMultiSelectKeydown:Ko,handleDropdownKeydown:No,handleDropDownHide:zo,handleDocumentClick:Nl,handleCellClick:Yo,handleCellDoubleClick:qo,handleFileUpload:jo,handleNativeFileSelect:Wo,clearFileValue:_o,getFileName:Go,saveMemoEdit:Xo,cancelMemoEdit:Jo,handleGlobalEscForDropdown:zl,cleanupCellEditing:Yl,isRowEditDialogVisible:ql,isConfirmDialogVisible:jl,confirmMessage:Wl,pendingAction:_l,pendingActionData:Zo,editingRow:rl,fieldErrors:Qo,contextMenuRow:gn,changeParentRow:an,copiedCellValue:Gl,showConfirmationDialog:Xl,confirmAction:$o,onRowContextMenu:er,copyCellValue:Jl,pasteCellValue:Zl,editRow:Ql,deleteRow:$l,startRowEdit:tr,saveRowEdit:nr,validateRow:ir,cancelRowEdit:lr,cleanupRowEditing:ea,editingHeaderId:ar,editingHeaderName:or,currentHeaderTarget:rr,headerContextMenu:sr,currentHeader:yt,typeMenu:dr,showTypeSubmenu:ur,onHeaderContextMenu:cr,showTypeOverlay:ta,emitHeaderAction:na,saveHeaderRename:pr,cancelHeaderRename:fr,changeColumnType:mr,toggleHeaderMenu:hr,deleteColumn:ia,cleanupHeaderManagement:la,headerMenuItems:vr,rowMenuItems:gr,moveRowUp:aa,openChangeParentDialog:oa,closeChangeParentDialog:sl,confirmChangeParent:br,makeRowIndependent:yr,openButtonActionDialog:ra,closeButtonActionDialog:sa,applyButtonAction:wr,handleTableClick:kr,handleButtonClick:da,evaluateFormula:fi,parseReference:mi,parseRange:dl,parseColumnRange:ul,parseRowRange:cl,parseMatrixRange:ua,getCellValue:bn,parseDate:ca,extractDependencies:pa,buildDependencyGraph:Pn,invalidateDependentFormulas:fa,getBooleanValue:Ir,toggleBooleanValue:Dr,formatCellValue:Cr,formatDate:Sr,MONTHS_SHORT:pl,MONTHS_FULL:fl,DAYS_OF_WEEK:ml,getFullDateTooltip:ma,getFullDateTimeTooltip:ha,getRelativeDateInfo:hl,pluralizeDays:xn,formatDateStyled:va,formatDateTimeStyled:ga,getHeaderDirTableId:Tr,rowIndexMap:ba,findRowIndex:Mr,isCellSelected:Er,getUniqueValuesForColumn:ya,toggleColumnFilter:Or,getFilteredUniqueValues:wa,toggleFilterValue:Lr,clearColumnFilter:Vr,selectAllFilterValues:Rr,hasActiveColumnFilter:Fr,isAllRowsSelected:ka,toggleSelectAll:Ar,toggleRowSelection:Pr,toggleSelectionMode:Ia,clearSelection:vl,bulkDeleteSelected:xr,bulkExportSelected:Br,togglePinColumn:Da,openFormattingDialog:Ca,saveFormattingRule:Hr,deleteFormattingRule:Ur,openImagePreview:Sa,onImagePreviewError:Kr,downloadPreviewImage:Nr,getCellStyle:zr,pinnedColumnsOffsets:Yr,isPinnedColumn:qr,handleHeaderSort:jr,clearSort:Ta,getSortInfo:Wr,isColumnSorted:_r,setAggregationType:hi,toggleFooter:gl,getAggregationValue:Gr,onFooterCellContextMenu:Xr,currentFooterHeader:Bn,footerContextMenu:Ma,footerMenuItems:Jr,copySelectedCells:Ea,pasteToSelectedCells:Oa,isInSelectionRange:Zr,startSelection:Qr,handleDragSelection:$r,endSelection:es,getCellFromEvent:bl,scrollToCell:Hn,navigateToCell:yn,navigateToFirstCell:La,navigateToLastCell:Va,scrollByPage:yl,handleKeyboardNavigation:wl,startResize:ts,handleResize:vi,stopResize:gi,cleanupResize:kl,startRowResize:ns,handleRowResize:Il,stopRowResize:Dl,cleanupRowResize:Cl,resetRowHeight:is,autoFitColumn:ls,getTypeIconClass:as,getTypeLabel:os,emitAddColumn:rs,emitAddRow:ss,openNestedFromRowEdit:ds,getEditorComponent:us,getEditorProps:cs,getTagDisplayValue:ps,openDirectory:fs,showDirInfo:ms,findHeaderValue:hs,getDirValueIcon:vs,showNestedPreview:gs,hideNestedPreview:bs,preloadDirectories:Ra,startCacheRefresh:Fa,stopCacheRefresh:Aa,isExpandingField:Sl,handleFieldUpdate:ys,adjustFieldHeight:Tl,cleanup:Ml,computed:Te,ref:D,watch:wt,onBeforeUnmount:Ha,onMounted:Yn,nextTick:lt,get TYPES(){return El},get loadFontAwesome(){return _a},get evaluateMathExpression(){return Ga},get _MIN_COLUMN_WIDTH(){return Xa},get _MAX_DEPTH(){return Ja},get _FUNCTION_HANDLERS(){return Xs},get DUPLICATE_COLORS(){return Gs},get WEEKDAYS_RU(){return Js},get WEEKDAYS_RU_SHORT(){return Zs},get WEEKDAYS_EN(){return Qs},get MONTHS_RU(){return $s},get MONTHS_EN(){return ed},get formatDateUtil(){return td},get pluralizeRecords(){return So},get getNestedBadgeClass(){return nd},get getNestedLabel(){return id},get formatTimeAgo(){return ld},get normalizeValue(){return ad},get InputText(){return sn},get Calendar(){return jn},get Checkbox(){return Wn},get InputNumber(){return qn},get Textarea(){return Dn},get Dropdown(){return Ci},get MultiSelect(){return xl},get Badge(){return Ks},MentionAutocomplete:wi,MentionDisplay:Ys,MemoEditDialog:gu,ChangeParentDialog:Du,ButtonActionDialog:zu,ConditionalFormattingDialog:tc,ImagePreviewDialog:oc,get useCellEditing(){return no},get useDirectoryCache(){return io},get useDirectoryPreload(){return lo},get useRowEditing(){return ao},get useGrouping(){return oo},get useVirtualScroll(){return ro},get VIRTUAL_SCROLL_ROW_HEIGHT(){return zn},get VIRTUAL_SCROLL_BUFFER(){return Bl},get useDragDrop(){return so},get useHeaderManagement(){return uo},get useGrants(){return ja}};return Object.defineProperty(Pa,"__isScriptSetup",{enumerable:!1,value:!0}),Pa}},sc={class:"coda-style-datatable"},dc={key:0,class:"dir-preview-card"},uc={class:"dir-preview-header"},cc={class:"dir-preview-type"},pc={class:"dir-preview-main"},fc={key:0,class:"dir-preview-items"},mc={key:0,class:"dir-preview-item"},hc={class:"dir-preview-label"},vc=["innerHTML"],gc={key:1,class:"dir-preview-item"},bc={class:"dir-preview-label"},yc={class:"dir-preview-value dir-preview-count"},wc={key:1,class:"dir-preview-loading"},kc={key:0,class:"nested-preview-card"},Ic={class:"nested-preview-header"},Dc={class:"nested-preview-type"},Cc={class:"nested-preview-count-badge"},Sc={key:0,class:"nested-preview-items"},Tc={class:"nested-preview-item-number"},Mc={class:"nested-preview-item-value"},Ec={key:0,class:"nested-preview-more"},Oc={key:1,class:"nested-preview-empty"},Lc={key:1,class:"nested-preview-loading"},Vc={class:"column-filter-content"},Rc={class:"filter-header"},Fc={class:"filter-title"},Ac={class:"filter-search"},Pc={class:"filter-actions"},xc={class:"filter-values-list"},Bc=["onClick"],Hc={class:"filter-value-text"},Uc={class:"row-edit-form"},Kc=["onDblclick"],Nc={class:"confirmation-content"},zc={class:"type-menu"},Yc=["onClick"],qc={key:0,class:"bulk-actions-toolbar"},jc={class:"bulk-actions-content"},Wc={class:"bulk-selection-count"},_c={class:"bulk-actions-buttons"},Gc=["id"],Xc={class:"header-content"},Jc={key:1,class:"pi pi-hashtag"},Zc=["data-header-id","data-term-id","data-is-main","data-type","data-dir-table-id","data-nested","onDragstart","onDragover","onDrop","onContextmenu","title"],Qc={class:"header-content"},$c=["onClick"],ep={class:"header-text"},tp={key:0,class:"sort-indicator"},np={class:"sort-order"},ip=["onClick","title"],lp=["onMousedown","onDblclick"],ap={key:0,class:"add-column-header"},op=["disabled"],rp={key:0,class:"pi pi-spin pi-spinner"},sp={key:1,class:"pi pi-plus"},dp={key:0,class:"virtual-scroll-spacer"},up=["colspan"],cp=["onClick"],pp=["colspan"],fp=["data-row-id","onFocusin","onMouseenter","onContextmenu"],mp=["onMousedown","onDblclick"],hp={key:0,class:"cell-content row-counter-with-checkbox"},vp=["onClick"],gp={key:1,class:"cell-content row-counter-hover"},bp={class:"row-number-text"},yp=["onClick"],wp=["data-cell-id","data-row-id","data-header-id","data-label","onMousedown","onDblclick"],kp={class:"cell-content"},Ip={key:1},Dp=["innerHTML"],Cp=["onDblclick","onMouseenter"],Sp=["onDblclick"],Tp=["onClick","onMouseenter"],Mp={key:1,class:"cell-empty-placeholder"},Ep=["onDblclick"],Op=["onClick","onMouseenter"],Lp={key:1,class:"cell-empty-placeholder"},Vp=["onClick","onMouseenter"],Rp={class:"nested-label"},Fp={class:"grant-option-label"},Ap={key:0,class:"grant-value"},Pp={key:1,class:"grant-placeholder"},xp={key:3,class:"cell-editor seamless-editor file-editor-seamless"},Bp=["id","onChange"],Hp=["for","title"],Up={class:"file-editor-text"},Kp=["onClick"],Np={key:1,class:"virtual-scroll-spacer"},zp=["colspan"],Yp={key:0},qp={class:"footer-row"},jp=["onContextmenu"],Wp={class:"footer-cell-content"},_p={key:0,class:"add-row-container coda-add-row"},Gp=["disabled"],Xp={class:"add-row-icon"},Jp={key:0,class:"pi pi-spin pi-spinner"},Zp={key:1,class:"pi pi-plus"},Qp={class:"tooltip-text"};function $p(n,e,i,t,s,l){var m,B,x,A,M,L,P,ee,j,w,le,_,ue,re,ie,Se,ve,oe,ge,ke;const c=je("Popover"),d=je("Button"),b=je("Dialog"),C=je("ContextMenu"),R=Si("tooltip");return f(),I("div",sc,[V(c,{ref:"dirOverlay",class:"dir-preview-popover"},{default:ce(()=>{var g,ne,he;return[t.currentDirRow?(f(),I("div",dc,[o("div",uc,[o("span",cc,te(t.currentDirHeader),1)]),o("div",pc,te(((g=t.currentDirRow.rows[0])==null?void 0:g.val)||"‚Äî"),1),((he=(ne=t.currentDirRow.rows[0])==null?void 0:ne.items)==null?void 0:he.length)>0?(f(),I("div",fc,[(f(!0),I(Ce,null,Je(t.currentDirRow.rows[0].items.slice(0,10),(S,nt)=>(f(),I(Ce,{key:nt},[S.itemType==="value"?(f(),I("div",mc,[o("span",hc,te(S.alias)+":",1),o("span",{class:"dir-preview-value",innerHTML:t.formatCellValue(S.value,S.type)},null,8,vc)])):S.itemType==="subordinate"?(f(),I("div",gc,[o("span",bc,te(S.alias)+":",1),o("span",yc,te(S.count),1)])):ae("",!0)],64))),128))])):ae("",!0)])):(f(),I("div",wc,[...e[27]||(e[27]=[o("i",{class:"pi pi-spin pi-spinner"},null,-1)])]))]}),_:1},512),V(c,{ref:"nestedOverlay",class:"nested-preview-popover"},{default:ce(()=>{var g;return[t.currentNestedPreview?(f(),I("div",kc,[o("div",Ic,[e[28]||(e[28]=o("i",{class:"pi pi-table"},null,-1)),o("span",Dc,te(t.currentNestedPreview.tableName),1),o("span",Cc,te(t.currentNestedPreview.totalCount),1)]),((g=t.currentNestedPreview.items)==null?void 0:g.length)>0?(f(),I("div",Sc,[(f(!0),I(Ce,null,Je(t.currentNestedPreview.items.slice(0,5),(ne,he)=>(f(),I("div",{key:he,class:"nested-preview-item"},[o("span",Tc,te(he+1)+".",1),o("span",Mc,te(ne.val||ne.value||"‚Äî"),1)]))),128)),t.currentNestedPreview.totalCount>5?(f(),I("div",Ec," +"+te(t.currentNestedPreview.totalCount-5)+" –µ—â—ë... ",1)):ae("",!0)])):(f(),I("div",Oc,[...e[29]||(e[29]=[o("i",{class:"pi pi-inbox"},null,-1),o("span",null,"–ù–µ—Ç –∑–∞–ø–∏—Å–µ–π",-1)])]))])):(f(),I("div",Lc,[...e[30]||(e[30]=[o("i",{class:"pi pi-spin pi-spinner"},null,-1)])]))]}),_:1},512),(f(!0),I(Ce,null,Je(t.localHeaders,g=>(f(),pe(c,{key:"filter-"+g.id,ref_for:!0,ref:ne=>{ne&&(t.columnFilterPopovers[g.id]=ne)},style:{width:"280px",maxHeight:"400px"},class:"column-filter-popover"},{default:ce(()=>[o("div",Vc,[o("div",Rc,[o("span",Fc,"–§–∏–ª—å—Ç—Ä: "+te(g.value),1)]),o("div",Ac,[V(t.InputText,{modelValue:t.columnFilterSearch[g.id],"onUpdate:modelValue":ne=>t.columnFilterSearch[g.id]=ne,placeholder:"–ü–æ–∏—Å–∫...",class:"w-full",size:"small"},{prefix:ce(()=>[...e[31]||(e[31]=[o("i",{class:"pi pi-search"},null,-1)])]),_:1},8,["modelValue","onUpdate:modelValue"])]),o("div",Pc,[V(d,{label:"–í—Å–µ",size:"small",text:"",onClick:ne=>t.selectAllFilterValues(g.id)},null,8,["onClick"]),V(d,{label:"–û—á–∏—Å—Ç–∏—Ç—å",size:"small",text:"",onClick:ne=>t.clearColumnFilter(g.id)},null,8,["onClick"])]),o("div",xc,[(f(!0),I(Ce,null,Je(t.getFilteredUniqueValues(g.id),ne=>{var he;return f(),I("div",{key:ne,class:"filter-value-item",onClick:S=>t.toggleFilterValue(g.id,ne)},[V(t.Checkbox,{"model-value":(he=t.columnFilters[g.id])==null?void 0:he.has(ne),binary:!0,onClick:Xe(S=>t.toggleFilterValue(g.id,ne),["stop"])},null,8,["model-value","onClick"]),o("span",Hc,te(ne||"(–ü—É—Å—Ç–æ)"),1)],8,Bc)}),128))])])]),_:2},1024))),128)),V(b,{visible:t.isRowEditDialogVisible,"onUpdate:visible":e[0]||(e[0]=g=>t.isRowEditDialogVisible=g),header:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É",style:{width:"50vw"},modal:!0,class:"row-edit-dialog",onShow:t.onRowEditDialogShow},{footer:ce(()=>[V(d,{label:"–û—Ç–º–µ–Ω–∞",icon:"pi pi-times",onClick:t.cancelRowEdit,text:""},null,8,["onClick"]),V(d,{ref:"rowEditSaveButton",label:"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",icon:"pi pi-check",onClick:t.saveRowEdit},null,8,["onClick"])]),default:ce(()=>{var g;return[o("div",Uc,[(f(!0),I(Ce,null,Je((g=t.editingRow)==null?void 0:g.headers,ne=>{var he;return f(),I("div",{key:ne.headerId,class:we(["form-field",{"has-expanding-content":t.isExpandingField(ne.type)}]),onDblclick:Xe(S=>t.handleCellDoubleClick(ne,n.row.cells[ne.id]),["stop"])},[o("label",null,[ze(te((he=t.localHeaders.find(S=>S.id===ne.headerId))==null?void 0:he.value)+" ",1),o("i",{class:we(t.getTypeIconClass(ne.type,ne))},null,2)]),ne.isNested?(f(),pe(d,{key:0,label:"–û—Ç–∫—Ä—ã—Ç—å ("+(ne.value||0)+")",icon:"fas fa-table",class:"w-full",severity:"secondary",onClick:S=>t.openNestedFromRowEdit(ne)},null,8,["label","onClick"])):ne.dirTableId?(f(),I(Ce,{key:1},[ne.columnType==="multi"?(f(),pe(t.MultiSelect,{key:0,modelValue:ne.dirValues,"onUpdate:modelValue":S=>ne.dirValues=S,options:t.getDirectoryOptions(ne.dirTableId),"option-label":"value","option-value":"id",multiple:!0,loading:t.isDirectoryLoading(ne.dirTableId),disabled:t.isDirectoryLoading(ne.dirTableId),placeholder:t.isDirectoryLoading(ne.dirTableId)?"–ó–∞–≥—Ä—É–∑–∫–∞...":"–í—ã–±–µ—Ä–∏—Ç–µ...",class:"w-full",onChange:S=>t.updateMultiDirValue(ne)},null,8,["modelValue","onUpdate:modelValue","options","loading","disabled","placeholder","onChange"])):(f(),pe(t.Dropdown,{key:1,modelValue:ne.dirRowId,"onUpdate:modelValue":S=>ne.dirRowId=S,options:t.getDirectoryOptions(ne.dirTableId),"option-label":"value","option-value":"id",filter:!0,"show-clear":!0,loading:t.isDirectoryLoading(ne.dirTableId),disabled:t.isDirectoryLoading(ne.dirTableId),placeholder:t.isDirectoryLoading(ne.dirTableId)?"–ó–∞–≥—Ä—É–∑–∫–∞...":"–í—ã–±–µ—Ä–∏—Ç–µ...",class:"w-full",onChange:S=>t.updateDirValue(ne)},null,8,["modelValue","onUpdate:modelValue","options","loading","disabled","placeholder","onChange"]))],64)):(f(),pe(et(t.getEditorComponent(ne.type)),U({key:2,modelValue:ne.value,"onUpdate:modelValue":S=>ne.value=S,class:["w-full",{"p-invalid":t.fieldErrors[ne.headerId]}],binary:ne.type===11,"show-icon":!0,dateFormat:ne.type===9?"dd.mm.yy":"dd.mm.yy HH:mm","show-time":ne.type===4,"show-seconds":ne.type===4},{ref_for:!0},t.getEditorProps(ne.type,ne.dirTableId,t.editingOptions,t.props.database),{"onUpdate:modelValue":S=>t.handleFieldUpdate(ne,S),ref_for:!0,ref:"fieldRefs"}),null,16,["modelValue","onUpdate:modelValue","class","binary","dateFormat","show-time","show-seconds"]))],42,Kc)}),128))])]}),_:1},8,["visible"]),V(b,{visible:t.isConfirmDialogVisible,"onUpdate:visible":e[2]||(e[2]=g=>t.isConfirmDialogVisible=g),header:"–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ",style:{width:"400px"},modal:!0,onShow:t.onConfirmDialogShow},{footer:ce(()=>[V(d,{label:"–û—Ç–º–µ–Ω–∞",icon:"pi pi-times",onClick:e[1]||(e[1]=g=>t.isConfirmDialogVisible=!1),text:""}),V(d,{ref:"confirmYesButton",label:"–î–∞",icon:"pi pi-check",onClick:t.confirmAction},null,8,["onClick"])]),default:ce(()=>[o("div",Nc,[e[32]||(e[32]=o("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),o("span",null,te(t.confirmMessage),1)])]),_:1},8,["visible"]),V(t.MemoEditDialog,{visible:t.isMemoDialogVisible,"onUpdate:visible":e[3]||(e[3]=g=>t.isMemoDialogVisible=g),modelValue:t.memoEditingValue,"onUpdate:modelValue":e[4]||(e[4]=g=>t.memoEditingValue=g),header:t.memoDialogHeader,onSave:t.saveMemoEdit,onCancel:t.cancelMemoEdit},null,8,["visible","modelValue","header","onSave","onCancel"]),V(t.ChangeParentDialog,{visible:t.isChangeParentDialogVisible,"onUpdate:visible":e[5]||(e[5]=g=>t.isChangeParentDialogVisible=g),modelValue:t.newParentId,"onUpdate:modelValue":e[6]||(e[6]=g=>t.newParentId=g),row:t.changeParentRow,"parent-options":t.parentOptions,"first-header-id":(B=(m=t.localHeaders)==null?void 0:m[0])==null?void 0:B.id,onConfirm:t.confirmChangeParent,onMakeIndependent:t.makeRowIndependent,onCancel:t.closeChangeParentDialog},null,8,["visible","modelValue","row","parent-options","first-header-id"]),V(t.ButtonActionDialog,{visible:t.isButtonActionDialogVisible,"onUpdate:visible":e[7]||(e[7]=g=>t.isButtonActionDialogVisible=g),"button-label":t.buttonLabelInput,"onUpdate:buttonLabel":e[8]||(e[8]=g=>t.buttonLabelInput=g),"selected-action":t.selectedButtonAction,"onUpdate:selectedAction":e[9]||(e[9]=g=>t.selectedButtonAction=g),actions:t.BUTTON_ACTIONS,"initial-params":t.buttonActionParams,onConfirm:t.applyButtonAction,onCancel:t.closeButtonActionDialog},null,8,["visible","button-label","selected-action","initial-params"]),V(t.ConditionalFormattingDialog,{visible:t.isFormattingDialogVisible,"onUpdate:visible":e[10]||(e[10]=g=>t.isFormattingDialogVisible=g),rule:t.editingRule,"onUpdate:rule":e[11]||(e[11]=g=>t.editingRule=g),"existing-rules":t.formattingRules,onSave:t.saveFormattingRule,onDeleteRule:t.deleteFormattingRule,onCancel:e[12]||(e[12]=g=>t.isFormattingDialogVisible=!1)},null,8,["visible","rule","existing-rules"]),V(t.ImagePreviewDialog,{visible:t.isImagePreviewVisible,"onUpdate:visible":e[13]||(e[13]=g=>t.isImagePreviewVisible=g),"image-url":t.imagePreviewUrl,filename:t.imagePreviewFilename,onDownload:t.downloadPreviewImage,onError:t.onImagePreviewError},null,8,["visible","image-url","filename"]),V(C,{ref:"headerContextMenu",model:t.headerMenuItems},null,8,["model"]),V(C,{ref:"rowContextMenu",model:t.rowMenuItems},null,8,["model"]),V(C,{ref:"footerContextMenu",model:t.footerMenuItems},null,8,["model"]),V(c,{ref:"typeMenu",style:{width:"320px"},target:t.currentHeaderTarget},{default:ce(()=>[o("div",zc,[(f(!0),I(Ce,null,Je(t.filteredTypes,g=>{var ne;return f(),I("div",{key:g.value,class:we(["type-item",{"active-type":((ne=t.currentHeader)==null?void 0:ne.type)===g.value}]),onClick:he=>t.changeColumnType(g.value)},[o("i",{class:we(["fa",g.icon])},null,2),o("span",null,te(g.label),1)],10,Yc)}),128))])]),_:1},8,["target"]),V(Ti,{name:"slide-down"},{default:ce(()=>{var g;return[t.bulkActionsVisible?(f(),I("div",qc,[o("div",jc,[o("span",Wc," –í—ã–±—Ä–∞–Ω–æ: "+te(t.selectedRowIds.size),1),o("div",_c,[V(d,{label:"–£–¥–∞–ª–∏—Ç—å",icon:"pi pi-trash",severity:"danger",size:"small",onClick:t.bulkDeleteSelected,disabled:(g=t.props)==null?void 0:g.disableEditing},null,8,["disabled"]),V(d,{label:"–≠–∫—Å–ø–æ—Ä—Ç",icon:"pi pi-file-excel",severity:"secondary",size:"small",onClick:t.bulkExportSelected}),V(d,{label:"–û—Ç–º–µ–Ω–∏—Ç—å",icon:"pi pi-times",text:"",size:"small",onClick:t.clearSelection})])])])):ae("",!0)]}),_:1}),o("div",{class:"table-container",id:"table-container-"+n.$attrs["data-tab-id"],style:{"max-height":"600px"},onScroll:e[26]||(e[26]=(...g)=>t.handleScroll&&t.handleScroll(...g)),onMousedown:t.startSelection,onMousemove:t.handleDragSelection,onMouseup:t.endSelection},[o("table",{ref:"table",style:mt(t.tableStyle),onClick:t.handleTableClick},[o("thead",null,[o("tr",null,[o("th",{class:"row-counter-header",style:mt(t.rowCounterStyle)},[o("div",Xc,[t.selectionModeEnabled?Ne((f(),pe(t.Checkbox,{key:0,"model-value":t.isAllRowsSelected,binary:!0,onChange:t.toggleSelectAll,class:"select-all-checkbox"},null,8,["model-value"])),[[R,"–í—ã–±—Ä–∞—Ç—å –≤—Å–µ",void 0,{bottom:!0}]]):(f(),I("i",Jc))])],4),(f(!0),I(Ce,null,Je(t.localHeaders,g=>{var ne;return f(),I("th",{key:g.id,"data-header-id":g.id,"data-term-id":g.termId,"data-is-main":g.isMain,"data-type":g.type,"data-dir-table-id":g.dirTableId,"data-nested":g.nested,style:mt({width:`${g.width}px`,...t.isPinnedColumn(g.id)?{left:`${t.pinnedColumnsOffsets[g.id]}px`}:{}}),draggable:"true",onDragstart:he=>t.handleDragStart(he,g.id),onDragover:Xe(he=>t.handleDragOver(he,g.id),["prevent"]),onDrop:he=>t.handleDrop(he,g.id),onDragend:e[16]||(e[16]=(...he)=>t.handleDragEnd&&t.handleDragEnd(...he)),onContextmenu:Xe(he=>t.onHeaderContextMenu(he,g),["prevent"]),class:we(["draggable-column",{"drop-left":t.dropPosition==="left"&&g.id===t.dropTargetColumnId,"drop-right":t.dropPosition==="right"&&g.id===t.dropTargetColumnId,"non-editable":i.disableEditing,"pinned-column":t.isPinnedColumn(g.id)}]),title:g.value},[o("div",Qc,[g.id===t.editingHeaderId?(f(),pe(t.InputText,{key:0,ref_for:!0,ref:"headerEditorInput",modelValue:t.editingHeaderName,"onUpdate:modelValue":e[14]||(e[14]=he=>t.editingHeaderName=he),onKeydown:[Ae(t.saveHeaderRename,["enter"]),Ae(t.cancelHeaderRename,["esc"])],onBlur:t.saveHeaderRename,class:"header-editor"},null,8,["modelValue","onKeydown","onBlur"])):Ne((f(),I("div",{key:1,class:we(["header-actions",{"disabled-sorting":!t.props.allDataLoaded}]),onClick:Xe(he=>t.handleHeaderSort(g.id,he),["stop"])},[o("span",ep,te(g.value),1),t.isColumnSorted(g.id)?(f(),I("span",tp,[o("span",np,te(t.getSortInfo(g.id).order),1),o("i",{class:we(t.getSortInfo(g.id).direction==="asc"?"pi pi-arrow-up":"pi pi-arrow-down")},null,2)])):ae("",!0),(ne=t.props)!=null&&ne.disableTypeEditing?ae("",!0):(f(),I("span",{key:1,class:"type-icon",onClick:Xe(he=>t.toggleHeaderMenu(he,g),["stop"]),title:t.getTypeLabel(g.type,g)},[o("i",{class:we(t.getTypeIconClass(g.type,g))},null,2),e[33]||(e[33]=o("i",{class:"fas fa-caret-down"},null,-1))],8,ip)),Ne(V(d,{icon:t.hasActiveColumnFilter(g.id)?"pi pi-filter-fill":"pi pi-filter",class:we(["p-button-text p-button-sm filter-button",{"filter-active":t.hasActiveColumnFilter(g.id)}]),disabled:!t.props.allDataLoaded,onClick:Xe(he=>t.toggleColumnFilter(g.id,he),["stop"])},null,8,["icon","class","disabled","onClick"]),[[R,t.props.allDataLoaded?"–§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å":"–§–∏–ª—å—Ç—Ä—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö",void 0,{top:!0}]]),V(d,{icon:"pi pi-bars",class:"p-button-text p-button-sm group-button",onClick:Xe(he=>t.toggleGroupBy(g.id),["stop"]),title:"–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ —ç—Ç–æ–º—É —Å—Ç–æ–ª–±—Ü—É"},null,8,["onClick"])],10,$c)),[[R,t.props.allDataLoaded?"":"–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö",void 0,{top:!0}]])]),Ne(o("div",{class:"resizer",onMousedown:he=>t.startResize(he,g.id),onDblclick:Xe(he=>t.autoFitColumn(g.id),["stop"]),onClick:e[15]||(e[15]=Xe(()=>{},["stop"]))},null,40,lp),[[R,{value:"–î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ ‚Äî –∞–≤—Ç–æ–ø–æ–¥–±–æ—Ä —à–∏—Ä–∏–Ω—ã",showDelay:1e3},void 0,{left:!0}]])],46,Zc)}),128)),!((x=t.props)!=null&&x.disableEditing)&&!((A=t.props)!=null&&A.disableTypeEditing)&&!((M=t.props)!=null&&M.isLoading)&&!((L=t.props)!=null&&L.isLoadingMore)&&((ee=(P=t.props)==null?void 0:P.rows)==null?void 0:ee.length)>0?(f(),I("th",ap,[o("button",{class:we(["add-column-btn",{"is-loading":(j=t.props)==null?void 0:j.isAddingColumn}]),disabled:((w=t.props)==null?void 0:w.isAddingColumn)||((le=t.props)==null?void 0:le.disableEditing),onClick:t.emitAddColumn,title:"–î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É"},[(_=t.props)!=null&&_.isAddingColumn?(f(),I("i",rp)):(f(),I("i",sp))],10,op)])):ae("",!0)])]),o("tbody",null,[t.isVirtualScrollEnabled&&t.visibleRowRange.offset>0?(f(),I("tr",dp,[o("td",{colspan:t.localHeaders.length+1,style:mt({height:`${t.visibleRowRange.offset}px`,padding:0})},null,12,up)])):ae("",!0),(f(!0),I(Ce,null,Je(t.visibleRows,(g,ne)=>{var he;return f(),I(Ce,{key:g.type==="group"?`group-${g.key}`:g.data.id},[g.type==="group"?(f(),I("tr",{key:0,class:"group-header",onClick:S=>t.toggleGroup(g.key)},[o("td",{colspan:t.localHeaders.length+1},[o("i",{class:we(["pi",t.expandedGroups[g.key]?"pi-chevron-down":"pi-chevron-right"])},null,2),ze(" "+te(t.formatMultiGroupHeader(g.key))+" ("+te(g.data.rows.length)+") ",1)],8,pp)],8,cp)):(f(),I("tr",{key:1,"data-row-id":g.data.id,class:"data-row",style:mt(t.rowHeights[g.data.id]?{height:`${t.rowHeights[g.data.id]}px`}:{}),onFocusin:S=>t.handleRowFocus(S,g.data,t.props.autoLoadDirs),onMouseenter:S=>t.handleRowHover(g.data,!0),onContextmenu:Xe(S=>t.onRowContextMenu(S,g.data),["prevent"])},[o("td",{class:we(["row-counter-cell",{"row-selected":t.selectionModeEnabled&&t.selectedRowIds.has(g.data.id)}]),style:mt({...t.rowCounterStyle,...t.rowHeights[g.data.id]?{height:`${t.rowHeights[g.data.id]}px`}:{}})},[o("div",{class:"row-resizer",onMousedown:S=>t.startRowResize(S,g.data.id),onDblclick:Xe(S=>t.resetRowHeight(g.data.id),["stop"]),title:"–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—ã—Å–æ—Ç—ã —Å—Ç—Ä–æ–∫–∏ (–¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ - —Å–±—Ä–æ—Å)"},null,40,mp),t.selectionModeEnabled?(f(),I("div",hp,[V(t.Checkbox,{"model-value":t.selectedRowIds.has(g.data.id),binary:!0,onClick:Xe(S=>t.toggleRowSelection(g.data.id,S,t.visibleRowRange.start+ne),["stop"]),class:"row-select-checkbox"},null,8,["model-value","onClick"]),o("span",{class:"row-number",onClick:S=>t.startRowEdit(g.data)},te(t.findRowIndex(g.data.id)+1),9,vp)])):(f(),I("div",gp,[o("span",bp,te(t.findRowIndex(g.data.id)+1),1),(he=t.props)!=null&&he.disableEditing?ae("",!0):Ne((f(),I("i",{key:0,class:"pi pi-pencil text-primary cursor-pointer row-edit-icon",onClick:S=>t.startRowEdit(g.data)},null,8,yp)),[[R,{value:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É",showDelay:1e3},void 0,{right:!0}]])]))],6),(f(!0),I(Ce,null,Je(t.localHeaders,S=>{var nt,Le,ut,Mt,We,Et,vt,xt;return Ne((f(),I("td",{key:S.id,"data-cell-id":(nt=g.data.cells[S.id])==null?void 0:nt.id,"data-row-id":g.data.id,"data-header-id":S.id,"data-label":S.value,style:mt({width:`${S.width}px`,...t.isPinnedColumn(S.id)?{left:`${t.pinnedColumnsOffsets[S.id]}px`}:{},...t.getCellStyle(S.id,(Le=g.data.cells[S.id])==null?void 0:Le.value,g.data.id),...t.rowHeights[g.data.id]?{height:`${t.rowHeights[g.data.id]}px`}:{}}),class:we({"selected-cell":t.isCellSelected(S.id,g.data.id),"selected-range":t.isInSelectionRange(S.id,g.data.id),"editing-cell":t.isEditingCell(S.id,g.data.id),"pinned-column":t.isPinnedColumn(S.id),"cell-changed":t.isCellChanged(S.id,g.data.id)}),onMousedown:Xe(de=>t.handleCellClick(de,S.id,g.data.id),["stop"]),onDblclick:Xe(de=>t.startCellEdit(S.id,g.data.id),["stop"])},[o("div",kp,[t.isInlineEditing(S.id,g.data.id)?(f(),I(Ce,{key:1},[(vt=t.currentEditingHeader)!=null&&vt.dirTableId&&t.currentEditingHeader.columnType==="multi"?(f(),pe(t.MultiSelect,{key:0,ref_for:!0,ref:"multiselectRef",modelValue:t.editingMultiValue,"onUpdate:modelValue":e[18]||(e[18]=de=>t.editingMultiValue=de),options:t.editingOptions,optionLabel:"value",optionValue:"id",multiple:!0,filter:!0,autoFilterFocus:!0,showToggleAll:!0,display:"chip",maxSelectedLabels:3,loading:t.isLoadingDirectory,disabled:t.isLoadingDirectory,placeholder:"–í—ã–±–µ—Ä–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è...",class:"cell-editor seamless-editor",onKeydown:t.handleMultiSelectKeydown,onShow:e[19]||(e[19]=de=>t.isDropdownOpen=!0),onHide:t.handleMultiSelectHide,onClick:t.handleDropdownClick},null,8,["modelValue","options","loading","disabled","onKeydown","onHide","onClick"])):(xt=t.currentEditingHeader)!=null&&xt.dirTableId?(f(),pe(t.Dropdown,{key:1,modelValue:t.editingValue,"onUpdate:modelValue":e[20]||(e[20]=de=>t.editingValue=de),options:t.editingOptions,optionLabel:"value",optionValue:"id",filter:!0,showClear:!0,loading:t.isLoadingDirectory,disabled:t.isLoadingDirectory,placeholder:t.isLoadingDirectory?"–ó–∞–≥—Ä—É–∑–∫–∞...":"–í—ã–±–µ—Ä–∏—Ç–µ...",class:"cell-editor seamless-editor",onKeydown:t.handleDropdownKeydown,onShow:e[21]||(e[21]=de=>t.isDropdownOpen=!0),onHide:t.handleDropDownHide,onClick:t.handleDropdownClick},null,8,["modelValue","options","loading","disabled","placeholder","onKeydown","onHide","onClick"])):S.type===5?(f(),pe(t.Dropdown,{key:2,ref_for:!0,ref:"cellEditorInput",modelValue:t.editingValue,"onUpdate:modelValue":e[22]||(e[22]=de=>t.editingValue=de),options:t.editingOptions,optionLabel:"label",optionValue:"value",filter:!0,showClear:!0,loading:t.grantOptionsLoading,disabled:t.grantOptionsLoading,placeholder:t.grantOptionsLoading?"–ó–∞–≥—Ä—É–∑–∫–∞...":"–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞...",class:"cell-editor seamless-editor",onKeydown:t.handleDropdownKeydown,onShow:e[23]||(e[23]=de=>t.isDropdownOpen=!0),onHide:t.handleDropDownHide,onClick:t.handleDropdownClick},{option:ce(de=>[o("div",{class:we(["grant-option",{"grant-option-system":t.isSystemGrant(de.option.value)}])},[o("i",{class:we([de.option.icon||"pi pi-shield","grant-option-icon"])},null,2),o("span",Fp,te(de.option.label),1),de.option.severity?(f(),pe(t.Badge,{key:0,severity:de.option.severity,class:"grant-option-badge"},null,8,["severity"])):ae("",!0)],2)]),value:ce(de=>[de.value?(f(),I("div",Ap,[o("i",{class:we([t.getGrantIcon(de.value),"grant-value-icon"])},null,2),o("span",null,te(t.formatGrantValue(de.value)),1)])):(f(),I("span",Pp,"–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞..."))]),_:1},8,["modelValue","options","loading","disabled","placeholder","onKeydown","onHide","onClick"])):S.type===10?(f(),I("div",xp,[o("input",{type:"file",id:`file-input-${g.data.id}-${S.id}`,class:"file-input-hidden",onChange:de=>t.handleNativeFileSelect(de,S,g.data)},null,40,Bp),o("label",{for:`file-input-${g.data.id}-${S.id}`,class:"file-editor-label",title:t.editingValue||"–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª"},[e[36]||(e[36]=o("i",{class:"pi pi-upload file-editor-icon"},null,-1)),o("span",Up,te(t.editingValue?t.getFileName(t.editingValue):"–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª..."),1)],8,Hp),t.editingValue?(f(),I("i",{key:0,class:"pi pi-times file-editor-clear",onClick:Xe(de=>t.clearFileValue(S,g.data),["stop"]),title:"–£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª"},null,8,Kp)):ae("",!0)])):S.type===17?(f(),pe(t.InputText,{key:4,ref_for:!0,ref:"cellEditorInput",modelValue:t.editingValue,"onUpdate:modelValue":e[24]||(e[24]=de=>t.editingValue=de),onKeydown:[Ae(de=>t.saveAndCloseCellEdit(S.id,g.data.id),["enter"]),Ae(t.cancelCellEdit,["esc"])],onBlur:de=>t.saveAndCloseCellEdit(S.id,g.data.id),class:"cell-editor seamless-editor",placeholder:"–í–≤–µ–¥–∏—Ç–µ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É..."},null,8,["modelValue","onKeydown","onBlur"])):(f(),pe(et(t.getEditorComponent(S.type)),U({key:5,ref_for:!0,ref:"cellEditorInput",modelValue:t.editingValue,"onUpdate:modelValue":e[25]||(e[25]=de=>t.editingValue=de),onKeydown:[Ae(de=>t.saveAndCloseCellEdit(S.id,g.data.id),["enter"]),Ae(t.cancelCellEdit,["esc"])],onBlur:de=>t.saveAndCloseCellEdit(S.id,g.data.id),binary:S.type===11,showIcon:!0,dateFormat:S.type===9?"dd.mm.yy":"dd.mm.yy HH:mm",showTime:S.type===4,showSeconds:S.type===4,class:"cell-editor seamless-editor"},{ref_for:!0},t.getEditorProps(S.type,S.dirTableId,t.getDirectoryOptions(S.dirTableId),t.props.database)),null,16,["modelValue","onKeydown","onBlur","binary","dateFormat","showTime","showSeconds"]))],64)):(f(),I(Ce,{key:0},[S.columnType==="regular"?(f(),I(Ce,{key:0},[S.type===11?(f(),I("div",{key:0,class:"cell-boolean-checkbox",onClick:e[17]||(e[17]=Xe(()=>{},["stop"]))},[V(t.Checkbox,{modelValue:t.getBooleanValue(g.data.cells[S.id].value),binary:!0,"onUpdate:modelValue":de=>t.toggleBooleanValue(S.id,g.data.id,de)},null,8,["modelValue","onUpdate:modelValue"])])):g.data.cells[S.id].nested?(f(),I("div",{key:2,class:"cell-nested",onDblclick:Xe(de=>t.handleCellDoubleClick(S,g.data.cells[S.id]),["stop"]),onMouseenter:de=>t.showNestedPreview(de,S,g.data.cells[S.id],g.data.id),onMouseleave:t.hideNestedPreview},[e[34]||(e[34]=o("i",{class:"fas fa-table"},null,-1)),ze(" ("+te(t.formatCellValue((ut=g.data.cells[S.id])==null?void 0:ut.value,S.type,g.data.id,S.id))+") ",1)],40,Cp)):(f(),I("span",Ip,[[3,8].includes(S.type)?(f(),pe(t.MentionDisplay,{key:0,text:g.data.cells[S.id].value,database:i.database},null,8,["text","database"])):(f(),I("div",{key:1,class:"cell-value",innerHTML:t.formatCellValue(g.data.cells[S.id].value,S.type,g.data.id,S.id)},null,8,Dp))]))],64)):S.columnType==="dir"?(f(),I("div",{key:1,class:"cell-dir",onDblclick:Xe(de=>t.startCellEdit(S.id,g.data.id),["stop"])},[g.data.cells[S.id].dirRowId&&g.data.cells[S.id].value?(f(),I("span",{key:0,class:"dir",onClick:Xe(de=>t.openDirectory(S,g.data.cells[S.id].dirRowId),["stop"]),onMouseenter:de=>t.showDirInfo(de,S,g.data.cells[S.id].dirRowId),onMouseleave:t.hideDirInfo},te(g.data.cells[S.id].value),41,Tp)):(f(),I("span",Mp))],40,Sp)):S.columnType==="multi"?(f(),I("div",{key:2,class:"cell-multi-dir",onDblclick:Xe(de=>t.startCellEdit(S.id,g.data.id),["stop"])},[g.data.cells[S.id].dirValues&&g.data.cells[S.id].dirValues.length>0?(f(!0),I(Ce,{key:0},Je(g.data.cells[S.id].dirValues,(de,kt)=>(f(),I("span",{key:kt,class:"dir-tag",onClick:Xe(It=>t.openDirectory(S,de.dirRowId),["stop"]),onMouseenter:It=>t.showDirInfo(It,S,de.dirRowId),onMouseleave:t.hideDirInfo},te(t.getTagDisplayValue(S,de.dirRowId,de)),41,Op))),128)):(f(),I("span",Lp))],40,Ep)):S.columnType==="nested"?(f(),I("div",{key:3,class:"cell-nested",onClick:Xe(de=>t.handleCellDoubleClick(S,g.data.cells[S.id]),["stop"]),onMouseenter:de=>t.showNestedPreview(de,S,g.data.cells[S.id],g.data.id),onMouseleave:t.hideNestedPreview},[o("span",{class:we(["nested-badge",t.getNestedBadgeClass((Mt=g.data.cells[S.id])==null?void 0:Mt.value)])},te(((We=g.data.cells[S.id])==null?void 0:We.value)||0),3),o("span",Rp,te(t.getNestedLabel((Et=g.data.cells[S.id])==null?void 0:Et.value,S.label)),1),e[35]||(e[35]=o("i",{class:"pi pi-chevron-right nested-arrow"},null,-1))],40,Vp)):ae("",!0)],64))])],46,wp)),[[R,t.isCellChanged(S.id,g.data.id)?"–Ø—á–µ–π–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∞":"",void 0,{top:!0}]])}),128))],44,fp))],64)}),128)),t.isVirtualScrollEnabled&&t.totalRowsHeight?(f(),I("tr",Np,[o("td",{colspan:t.localHeaders.length+1,style:mt({height:`${t.totalRowsHeight-t.visibleRowRange.offset-t.visibleRows.length*t.VIRTUAL_SCROLL_ROW_HEIGHT}px`,padding:0})},null,12,zp)])):ae("",!0)]),t.showFooter?(f(),I("tfoot",Yp,[o("tr",qp,[o("td",{class:"row-counter-footer",style:mt(t.rowCounterStyle)},[...e[37]||(e[37]=[o("div",{class:"footer-cell-content"},[o("i",{class:"pi pi-calculator"})],-1)])],4),(f(!0),I(Ce,null,Je(t.localHeaders,g=>(f(),I("td",{key:`footer-${g.id}`,style:mt({width:`${g.width}px`,...t.isPinnedColumn(g.id)?{left:`${t.pinnedColumnsOffsets[g.id]}px`}:{}}),class:we({"footer-cell":!0,"pinned-column":t.isPinnedColumn(g.id)}),onContextmenu:Xe(ne=>t.onFooterCellContextMenu(ne,g),["prevent"])},[o("div",Wp,te(t.getAggregationValue(g.id)),1)],46,jp))),128))])])):ae("",!0)],4),!((ue=t.props)!=null&&ue.disableEditing)&&!((re=t.props)!=null&&re.disableTypeEditing)&&!((ie=t.props)!=null&&ie.isLoading)&&!((Se=t.props)!=null&&Se.isLoadingMore)?(f(),I("div",_p,[o("button",{class:we(["add-row-button coda-add-button",{"is-loading":(ve=t.props)==null?void 0:ve.isAddingRow}]),disabled:((oe=t.props)==null?void 0:oe.isAddingRow)||((ge=t.props)==null?void 0:ge.disableEditing),onClick:t.emitAddRow},[o("span",Xp,[(ke=t.props)!=null&&ke.isAddingRow?(f(),I("i",Jp)):(f(),I("i",Zp))]),e[38]||(e[38]=o("span",{class:"add-row-text"},"–ù–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞",-1))],10,Gp)])):ae("",!0)],40,Gc),o("div",{ref:"customTooltip",class:we(["primevue-tooltip",{"tooltip-visible":t.tooltipVisible}]),style:mt(t.tooltipStyle)},[e[39]||(e[39]=o("span",{class:"tooltip-arrow"},null,-1)),o("span",Qp,te(t.tooltipText),1)],6)])}const ef=dn(rc,[["render",$p],["__scopeId","data-v-ea3fb0d7"],["__file","/home/hive/integram-standalone/src/components/integram/DataTable.vue"]]),Nn="datatable_settings",tf={__name:"IntegramDataTableWrapper",props:{typeIdProp:{type:[String,Number],default:null},typeId:{type:[String,Number],default:null},databaseProp:{type:String,default:null},database:{type:String,default:null},serverUrl:{type:String,default:null},embedded:{type:Boolean,default:!1},parentId:{type:[String,Number],default:null},filterId:{type:[String,Number],default:null}},setup(n,{expose:e}){e();let i=null,t=null,s=null;const l=n,c=Ua(),d=Ka(),b=Te(()=>l.typeIdProp||l.typeId||c.params.typeId),C=Na(),R=za(),{isAuthenticated:m,database:B}=qa(),x=D(!0),A=D(!1),M=D(null),L=D(!1),P=D(!1),ee=D(!1),j=D(!1),w=D(3),le=D(""),_=D("double-click"),ue=D(!1),re=D(!1),ie=D(null),Se=D(!1);function ve(){ie.value&&(ie.value.toggleSelectionMode(),Se.value=ie.value.selectionModeEnabled())}const oe=D(!1);function ge(){ie.value&&(ie.value.toggleFooter(),oe.value=ie.value.isFooterVisible())}const ke=D("comfortable");function g(){const v=["compact","comfortable","spacious"],E=v.indexOf(ke.value);ke.value=v[(E+1)%v.length]}function ne(){switch(ke.value){case"compact":return"pi pi-bars";case"comfortable":return"pi pi-th-large";case"spacious":return"pi pi-stop";default:return"pi pi-th-large"}}function he(){switch(ke.value){case"compact":return"–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π";case"comfortable":return"–£–¥–æ–±–Ω—ã–π";case"spacious":return"–ü—Ä–æ—Å—Ç–æ—Ä–Ω—ã–π";default:return"–£–¥–æ–±–Ω—ã–π"}}const S=D(!1),nt=D({loaded:0,total:0});let Le=null;function ut(){ie.value&&(S.value?(ie.value.stopBackgroundLoading(),S.value=!1,Le&&(clearInterval(Le),Le=null)):(S.value=!0,ie.value.loadAllDirDataInBackground(Ve.value.autoLoadDirs),Le=setInterval(()=>{ie.value&&(nt.value=ie.value.backgroundLoadProgress(),S.value=ie.value.isBackgroundLoadingDirs(),S.value||(clearInterval(Le),Le=null))},200)))}function Mt(v){const E=v===!0||v==="true";console.log("[toggleAutoLoadDirs] –ò–∑–º–µ–Ω—è–µ–º –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤:",{enabled:v,enabledBool:E,previous:Ve.value.autoLoadDirs}),!E&&Le&&(clearInterval(Le),Le=null,ie.value&&ie.value.stopBackgroundLoading(),console.log("[toggleAutoLoadDirs] –û—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ —Ç–µ–∫—É—â—É—é –∑–∞–≥—Ä—É–∑–∫—É —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤")),Ve.value.autoLoadDirs=E,Ot({...Ve.value}),E&&ie.value?(console.log("[toggleAutoLoadDirs] –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ–æ–Ω–æ–≤—É—é –∑–∞–≥—Ä—É–∑–∫—É —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤"),S.value=!0,ie.value.loadAllDirDataInBackground(E),Le=setInterval(()=>{ie.value&&(nt.value=ie.value.backgroundLoadProgress(),S.value=ie.value.isBackgroundLoadingDirs(),S.value||(console.log("[toggleAutoLoadDirs] –§–æ–Ω–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"),clearInterval(Le),Le=null))},200)):console.log("[toggleAutoLoadDirs] –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ –æ—Ç–∫–ª—é—á–µ–Ω–∞")}const We=D({visible:!1,tableId:null,parentRowId:null,tableName:"",loading:!1}),Et=D({visible:!1,typeId:null,typeName:"",dirRowId:null}),vt=D(!1),xt=D(!1),de=D(""),kt=D(""),It=D(!1),Qe=D([]),$t=D(null);let F=null;const z=D([]),Z=D(-1),$=D([]),$e=D({}),qe=D(null),at=D([]),Be=D([]),Me=D([]),be=D(1),Ye=D(50),ot=D(!1),ct={autoLoadAll:!0,autoLoadDirs:!0,maxAutoLoadSize:2e4,backgroundChunkSize:1e3,backgroundDelay:150,dateStyle:"relative"};function Ze(){try{const v=localStorage.getItem(Nn);if(v){const E=JSON.parse(v);return console.log("[loadSettings] –ó–∞–≥—Ä—É–∂–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ localStorage:",E),{...ct,...E}}else return console.log("[loadSettings] –ü–ï–†–í–û–ï –û–¢–ö–†–´–¢–ò–ï: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º localStorage —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏"),localStorage.setItem(Nn,JSON.stringify(ct)),ct}catch(v){console.error("[loadSettings] –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫:",v);try{localStorage.setItem(Nn,JSON.stringify(ct))}catch{console.error("[loadSettings] –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏")}return ct}}function Ot(v){try{console.log("[saveSettings] –°–æ—Ö—Ä–∞–Ω—è–µ–º –ù–û–í–´–ï –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ localStorage:",v),localStorage.setItem(Nn,JSON.stringify(v))}catch(E){console.error("[saveSettings] –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫:",E)}}const Ve=D(Ze()),Ut=D([]),Lt=D(!1),Tn=D(0),Vt=D(0),pt=D(0),Yt=D(!1),qt=D(!1),en=D({value:"",requisites:{}}),Jn=Object.freeze({label:"–¢–∞–±–ª–∏—Ü—ã",to:"/integram/table",icon:"pi pi-table"}),Tt=Te(()=>l.databaseProp||l.database||c.params.database||B.value||"A2025"),Rt=Te(()=>l.serverUrl?l.serverUrl:Ue.getServer()||"https://dronedoc.ru"),Zn=Te(()=>{var E;const v=[Jn];return(E=qe.value)!=null&&E.val&&v.push({label:qe.value.val,icon:"pi pi-bars"}),v}),Mn=Te(()=>at.value.filter(v=>!v.isNested)),Mi=Te(()=>$.value.map(v=>({id:v.id,value:v.value||v.title||`Column ${v.id}`}))),un=Te(()=>{let v=Yt.value?Ut.value:Me.value;const E=kt.value.toLowerCase().trim();return E&&(v=v.filter(N=>N.values.some(q=>String(q.value||"").toLowerCase().includes(E)))),v}),Ei=Te(()=>Ve.value.autoLoadAll&&!Yt.value&&!Lt.value&&de.value.trim().length>0);function Oi(v,E){const{operator:N,value:q,value2:Y,type:W}=E,K=String(v).toLowerCase(),X=String(q||"").toLowerCase();switch(N){case"contains":return K.includes(X);case"equals":return W===13||W===14?Number(v)===Number(q):K===X;case"notEquals":return K!==X;case"startsWith":return K.startsWith(X);case"endsWith":return K.endsWith(X);case"isEmpty":return!v||K.trim()==="";case"greater":return Number(v)>Number(q);case"less":return Number(v)<Number(q);case"between":const J=Number(v);return J>=Number(q)&&J<=Number(Y);default:return!0}}const Oe=Te(()=>Be.value.filter(v=>v.type!==10)),jt=Te(()=>Qe.value.some(v=>v.operator==="isEmpty"||v.value!==null&&v.value!=="")),gt={text:[{label:"—Å–æ–¥–µ—Ä–∂–∏—Ç",value:"contains"},{label:"—Ä–∞–≤–Ω–æ",value:"equals"},{label:"–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å",value:"startsWith"},{label:"–∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞",value:"endsWith"},{label:"–ø—É—Å—Ç–æ",value:"isEmpty"}],number:[{label:"—Ä–∞–≤–Ω–æ",value:"equals"},{label:"–±–æ–ª—å—à–µ",value:"greater"},{label:"–º–µ–Ω—å—à–µ",value:"less"},{label:"–º–µ–∂–¥—É",value:"between"},{label:"–ø—É—Å—Ç–æ",value:"isEmpty"}],date:[{label:"—Ä–∞–≤–Ω–æ",value:"equals"},{label:"–º–µ–∂–¥—É",value:"between"},{label:"–ø—É—Å—Ç–æ",value:"isEmpty"}],boolean:[{label:"—Ä–∞–≤–Ω–æ",value:"equals"},{label:"–Ω–µ —Ä–∞–≤–Ω–æ",value:"notEquals"}]};function Dt(v){switch(v){case 3:case 8:case 12:return"text";case 13:case 14:return"number";case 9:case 4:return"date";case 11:return"boolean";default:return"text"}}function Li(v){return gt[Dt(v)]}function cn(v){return gt[Dt(v)][0].value}function Qn(v){return v==="between"}async function ht(v=1){if(!m.value){d.replace("/integram/login");return}try{v===1?x.value=!0:A.value=!0,M.value=null,Tt.value&&Ue.setDatabase(Tt.value);const E={pg:v,LIMIT:Ye.value};l.parentId&&(E.F_U=l.parentId),l.filterId&&(E.F_I=l.filterId);const N=ei();Object.keys(N).length>0&&(Object.assign(E,N),console.log("[loadData] Server filters:",N)),console.log("[loadData] Database:",Ue.getDatabase(),"TypeId:",b.value);const q=await Ue.getObjectList(b.value,E);if(console.log("[loadData] API response reqs sample:",q.reqs?Object.keys(q.reqs)[0]:"none",q.reqs?q.reqs[Object.keys(q.reqs)[0]]:null),qe.value=q.type,q.req_type&&q.req_order&&(at.value=q.req_order.map(Y=>{var W,K,X,J,fe,De;return{id:Y,alias:q.req_type[Y]||`Req ${Y}`,base:((W=q.req_base)==null?void 0:W[Y])||"SHORT",baseId:(K=q.req_base_id)==null?void 0:K[Y],refType:((X=q.ref_type)==null?void 0:X[Y])||null,isMulti:((fe=(J=q.req_attrs)==null?void 0:J[Y])==null?void 0:fe.includes(":MULTI:"))||!1,isNested:!!((De=q.arr_type)!=null&&De[Y])}})),ti(q,v===1),ot.value=(q.object||[]).length>=Ye.value,be.value=v,v===1&&pt.value===0)try{const Y=await Ue.getObjectCount(b.value);pt.value=Y.count||0,console.log(`[loadData] Total records in table: ${pt.value}`)}catch(Y){console.warn("[loadData] Failed to get object count:",Y)}v===1&&(console.log("[loadData] First page loaded. Settings from localStorage:",{autoLoadAll:Ve.value.autoLoadAll,autoLoadDirs:Ve.value.autoLoadDirs}),Ve.value.autoLoadAll===!0||Ve.value.autoLoadAll==="true"?(console.log("[loadData] autoLoadAll –í–ö–õ–Æ–ß–ï–ù–ê - Scheduling background loading in 500ms..."),setTimeout(()=>{$n()},500)):console.log("[loadData] autoLoadAll –û–¢–ö–õ–Æ–ß–ï–ù–ê - Background loading –Ω–µ –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω–∞"),console.log("[loadData] –ü–ï–†–ï–î –ø—Ä–æ–≤–µ—Ä–∫–æ–π autoLoadDirs, –∑–Ω–∞—á–µ–Ω–∏–µ:",Ve.value.autoLoadDirs,"typeof:",typeof Ve.value.autoLoadDirs),Ve.value.autoLoadDirs===!0||Ve.value.autoLoadDirs==="true"?(console.log("[loadData] autoLoadDirs –í–ö–õ–Æ–ß–ï–ù–ê (true) - Scheduling directory loading in 1000ms..."),setTimeout(()=>{console.log("[loadData] setTimeout callback: –≤—ã–∑—ã–≤–∞–µ–º toggleAutoLoadDirs(true)"),Mt(!0)},1e3)):console.log("[loadData] autoLoadDirs –û–¢–ö–õ–Æ–ß–ï–ù–ê (false) - Directory loading –Ω–µ –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω–∞. –ó–Ω–∞—á–µ–Ω–∏–µ:",Ve.value.autoLoadDirs))}catch(E){M.value=E.message,C.add({severity:"error",summary:"–û—à–∏–±–∫–∞",detail:"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ: "+E.message,life:5e3})}finally{x.value=!1,A.value=!1}}async function $n(){if(console.log("[BackgroundLoad] CALLED! settings.autoLoadAll =",Ve.value.autoLoadAll,"isBackgroundLoading =",Lt.value),Ve.value.autoLoadAll===!1||Ve.value.autoLoadAll==="false"||Lt.value){console.log("[BackgroundLoad] EARLY RETURN: autoLoadAll =",Ve.value.autoLoadAll,"isBackgroundLoading =",Lt.value);return}try{console.log("[BackgroundLoad] Getting table size...");const E=await Ue.getObjectCount(b.value);if(pt.value=E.count||0,console.log(`[BackgroundLoad] Table size: ${pt.value} records`),pt.value<=Ye.value){console.log("[BackgroundLoad] Table is small, no background loading needed"),Yt.value=!0,Ut.value=[...Me.value];return}if(pt.value>Ve.value.maxAutoLoadSize){console.log(`[BackgroundLoad] Table is too large (${pt.value} > ${Ve.value.maxAutoLoadSize}), skipping auto-load`),C.add({severity:"warn",summary:"–ë–æ–ª—å—à–∞—è —Ç–∞–±–ª–∏—Ü–∞",detail:`–¢–∞–±–ª–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç ${pt.value.toLocaleString()} –∑–∞–ø–∏—Å–µ–π. –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞ (–ª–∏–º–∏—Ç: ${Ve.value.maxAutoLoadSize.toLocaleString()}). –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ (${Ye.value} –∑–∞–ø–∏—Å–µ–π).`,life:8e3});return}Lt.value=!0,qt.value=!1;const N=[...Me.value];Vt.value=Me.value.length;const q=Ve.value.backgroundChunkSize,Y=Me.value.length,W=pt.value-Y,K=Math.ceil(W/q),X=2;console.log(`[BackgroundLoad] Already loaded: ${Y}, remaining: ${W}, additional pages: ${K}, chunk size: ${q}`);for(let J=0;J<K;J++){const fe=X+J;if(qt.value){console.log("[BackgroundLoad] Aborted by user");break}const De={pg:fe,LIMIT:q};l.parentId&&(De.F_U=l.parentId),l.filterId&&(De.F_I=l.filterId);const Pe=await Ue.getObjectList(b.value,De),tt=Pe.object||[],Fe=Pe.reqs||{};console.log(`[BackgroundLoad] Received ${tt.length} objects from page ${fe}`),tt.forEach(rt=>{const At=Be.value.map(Ee=>{var it;if(Ee.id==="val")return{headerId:Ee.id,value:rt.val,type:Ee.type,columnType:Ee.columnType};{const st=Ee.termId,Pt=(it=Fe[rt.id])==null?void 0:it[st],dt={headerId:Ee.id,value:Pt||"",type:Ee.type,refType:Ee.refType,columnType:Ee.columnType,isMulti:Ee.isMulti};return(Ee.nested||Ee.columnType==="nested")&&(dt.nested=!0,dt.nestedTableId=Ee.nestedTableId,dt.nestedLink=rt.id,console.log("[BackgroundLoad] NESTED cell created:",{headerId:Ee.id,objId:rt.id,nestedLink:dt.nestedLink,nestedTableId:dt.nestedTableId})),dt}});N.push({id:rt.id,values:At})}),Vt.value=N.length,Tn.value=Math.round((J+1)/K*100),console.log(`[BackgroundLoad] Progress: ${J+1}/${K} chunks, loaded ${Vt.value}/${pt.value} records (${Tn.value}%)`),J<K-1&&await new Promise(rt=>setTimeout(rt,Ve.value.backgroundDelay))}qt.value||(Ut.value=N,Yt.value=!0,console.log(`[BackgroundLoad] Complete! Loaded ${Ut.value.length} records`),C.add({severity:"success",summary:"–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞",detail:`–ó–∞–≥—Ä—É–∂–µ–Ω–æ ${Ut.value.length} –∑–∞–ø–∏—Å–µ–π. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –≤—Å–µ–º –¥–∞–Ω–Ω—ã–º.`,life:3e3}))}catch(E){console.error("[BackgroundLoad] Error:",E),C.add({severity:"error",summary:"–û—à–∏–±–∫–∞ —Ñ–æ–Ω–æ–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏",detail:E.message,life:5e3})}finally{Lt.value=!1}}function Vi(){qt.value=!0,Lt.value=!1,C.add({severity:"info",summary:"–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞",detail:`–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ ${Vt.value} –∑–∞–ø–∏—Å–µ–π –∏–∑ ${pt.value}`,life:3e3})}function Ri(v){console.log("[toggleAutoLoad] –ò–∑–º–µ–Ω—è–µ–º –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö:",{value:v,previous:Ve.value.autoLoadAll}),Ve.value.autoLoadAll=v,Ot({...Ve.value}),C.add({severity:"info",summary:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã",detail:v?"–ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞":"–ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –≤—ã–∫–ª—é—á–µ–Ω–∞",life:2e3})}const Kt={classic:"–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π",relative:"–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π",chip:"–ß–∏–ø",smart:"–£–º–Ω—ã–π"};function En(v){Ve.value.dateStyle=v,Ot({...Ve.value}),C.add({severity:"info",summary:"–°—Ç–∏–ª—å –¥–∞—Ç –∏–∑–º–µ–Ω—ë–Ω",detail:Kt[v]||v,life:2e3})}function ei(){const v={};let E=!1;return console.log("[buildServerFilters] START"),console.log("[buildServerFilters] filterConditions:",JSON.stringify(Qe.value)),console.log("[buildServerFilters] headers count:",Be.value.length),Qe.value.forEach((N,q)=>{if(console.log(`[buildServerFilters] Condition ${q}:`,N),!N.headerId||!N.value){console.log(`[buildServerFilters] SKIP: Empty condition (headerId=${N.headerId}, value=${N.value})`);return}const Y=Be.value.find(X=>X.id===N.headerId);if(console.log("[buildServerFilters] Found header:",Y),!Y||!Y.termId){console.warn("[buildServerFilters] SKIP: Header not found for condition:",N);return}const W=Y.termId==="val"?`F_${b.value}`:`F_${Y.termId}`;let K=String(N.value);switch(console.log(`[buildServerFilters] Filter key: ${W} for termId: ${Y.termId} (typeId: ${b.value})`),N.operator){case"contains":K=`%${K.replace(/%/g,"")}%`,E=!0;break;case"startsWith":K=`${K.replace(/%/g,"")}%`,E=!0;break;case"endsWith":K=`%${K.replace(/%/g,"")}`,E=!0;break}v[W]=K,console.log(`[buildServerFilters] Added filter: ${W}=${K} (operator: ${N.operator})`)}),E&&(v.lnx=0,console.log("[buildServerFilters] Added lnx=0 for LIKE search")),console.log("[buildServerFilters] RESULT:",v),console.log("[buildServerFilters] END"),v}function ti(v,E=!0){var K;console.log("[transformData] data.type:",v.type),console.log("[transformData] data.req_order:",v.req_order),console.log("[transformData] data.req_type:",v.req_type);const N=[{id:"val",value:((K=v.type)==null?void 0:K.val)||"–ó–Ω–∞—á–µ–Ω–∏–µ",type:3,width:200,termId:"val",isMain:!0,columnType:"regular"}];if(v.req_order&&v.req_order.forEach(X=>{var rt,At,Ee,it,st,Pt,dt;const J=((rt=v.req_type)==null?void 0:rt[X])||`Req ${X}`,fe=((At=v.req_base)==null?void 0:At[X])||"SHORT",De=(Ee=v.ref_type)==null?void 0:Ee[X],Pe=((st=(it=v.req_attrs)==null?void 0:it[X])==null?void 0:st.includes(":MULTI:"))||!1,tt=!!((Pt=v.arr_type)!=null&&Pt[X]);let Fe="regular";tt?Fe="nested":De&&(Fe=Pe?"multi":"dir"),N.push({id:`req_${X}`,value:J,type:Wt(fe),width:150,termId:X,columnType:Fe,dirTableId:De?parseInt(De):null,isMulti:Pe,nested:tt,nestedTableId:tt?parseInt(X):null,attrs:((dt=v.req_attrs)==null?void 0:dt[X])||null})}),Be.value=N,E&&$.value.length===0){$.value=[...N];const X={};N.forEach(J=>{X[J.id]=!0}),$e.value=X}const q=v.object||[],Y=v.reqs||{};if(q.length>0){const X=q[0].id,J=Y[X];console.log("[parseRows] First object reqs keys:",J?Object.keys(J):"none"),console.log("[parseRows] Sample ref keys:",J?Object.keys(J).filter(fe=>fe.startsWith("ref_")):"none")}const W=q.map((X,J)=>{const fe=[];return fe.push({headerId:"val",value:X.val,type:3}),v.req_order&&v.req_order.forEach(De=>{var Pt,dt,Ge,bt,Ct,St,ri,si,di;const Pe=((Pt=Y[X.id])==null?void 0:Pt[De])||"",tt=((dt=v.req_base)==null?void 0:dt[De])||"SHORT",Fe=(Ge=v.ref_type)==null?void 0:Ge[De],rt=((Ct=(bt=v.req_attrs)==null?void 0:bt[De])==null?void 0:Ct.includes(":MULTI:"))||!1,At=!!((St=v.arr_type)!=null&&St[De]);(De==="957"||De===957)&&console.log("[parseRows] DEBUG reqId 957:",{objId:X.id,reqValue:Pe,isNested:At,arr_type_value:(ri=v.arr_type)==null?void 0:ri[De],has_arr_type:!!((si=v.arr_type)!=null&&si[De])});const Ee={headerId:`req_${De}`,value:Pe,type:Wt(tt)},it=`ref_${De}`,st=(di=Y[X.id])==null?void 0:di[it];if(Fe&&console.log("[parseRows] reqId:",De,"refType:",Fe,"refKey:",it,"refValue:",st,"objReqs:",Y[X.id]),Fe&&st){const nn=st.split(":",2);if(nn.length===2){const ui=parseInt(nn[0]),ci=nn[1].split(",").map(ln=>parseInt(ln)).filter(ln=>!isNaN(ln));if(rt){const ln=Pe?Pe.split(",").map(An=>An.trim()):[];Ee.dirValues=ci.map((An,al)=>({dirRowId:An,displayValue:ln[al]||null})),Ee.dirTableId=ui}else Ee.dirRowId=ci[0]||null,Ee.dirTableId=ui}}else Fe&&!st&&(rt?Ee.dirValues=[]:Ee.dirRowId=null);At&&(Ee.nested=!0,Ee.nestedTableId=parseInt(De),Ee.nestedLink=X.id,console.log("[parseRows] NESTED cell created:",{reqId:De,objId:X.id,nestedLink:Ee.nestedLink,nestedTableId:Ee.nestedTableId,value:Ee.value})),fe.push(Ee)}),{id:X.id,values:fe}});E?Me.value=W:Me.value=[...Me.value,...W]}function Wt(v){return{HTML:2,SHORT:3,DATETIME:4,GRANT:5,PWD:6,BUTTON:7,CHARS:8,LONG:8,DATE:9,TIME:9,FILE:10,BOOLEAN:11,BOOL:11,MEMO:12,NUMBER:13,SIGNED:14,CALCULATABLE:15,CALC:15,REPORT_COLUMN:16,REP_COL:16,PATH:17}[v]||3}function Ke(v){switch(v){case 4:case 9:return jn;case 11:return Wn;case 13:case 14:return qn;case 2:case 12:return Dn;default:return sn}}function Ft(v,E="edit"){const N=E==="filter"?"dd.mm.yy":"yy-mm-dd";switch(v){case 4:return{dateFormat:N,showTime:!0,showSeconds:E==="filter"};case 9:return{dateFormat:N};case 11:return{binary:!0};case 2:case 12:return{rows:3};default:return{}}}function On(v){return Ke(Wt(v))}function ni(v){return Ft(Wt(v),"edit")}function Fi(){_.value=_.value==="double-click"?"single-click":"double-click",C.add({severity:"info",summary:_.value==="single-click"?"–†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∫–ª—é—á–µ–Ω":"–†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–∫–ª—é—á–µ–Ω",detail:_.value==="single-click"?"–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —è—á–µ–π–∫—É –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è":"–î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è",life:2e3})}function ft(v){const E={};$.value.forEach(N=>{E[N.id]=v}),$e.value=E}function Ai(){Be.value=$.value.filter(v=>$e.value[v.id]!==!1),re.value=!1,C.add({severity:"success",summary:"–ö–æ–ª–æ–Ω–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã",life:2e3})}function Nt(){F&&clearTimeout(F),F=setTimeout(()=>{kt.value=de.value,pn()},300)}function pn(){if(!de.value.trim()){z.value=[],Z.value=-1;return}const v=[],E=de.value.toLowerCase();un.value.forEach(N=>{Be.value.forEach(q=>{var W,K;String(((W=N.cells[q.id])==null?void 0:W.value)||"").toLowerCase().includes(E)&&v.push({rowId:N.id,headerId:q.id,value:(K=N.cells[q.id])==null?void 0:K.value})})}),z.value=v,Z.value=v.length>0?0:-1}function _t(){z.value.length!==0&&(Z.value=(Z.value+1)%z.value.length,Ln())}function tn(){z.value.length!==0&&(Z.value=Z.value<=0?z.value.length-1:Z.value-1,Ln())}function Ln(){if(Z.value<0||!ie.value)return;const v=z.value[Z.value];v&&ie.value.scrollToCell&&ie.value.scrollToCell(v.headerId,v.rowId)}function Gt(v){v.key==="F3"&&(v.preventDefault(),v.shiftKey?tn():_t())}function Pi(){Qe.value.length===0&&Vn(),It.value=!0,lt(()=>{var v,E;(E=(v=$t.value)==null?void 0:v.$el)==null||E.focus()})}function Vn(){const v=Oe.value[0];Qe.value.push({headerId:(v==null?void 0:v.id)||null,type:(v==null?void 0:v.type)||3,operator:cn((v==null?void 0:v.type)||3),value:null,value2:null})}async function ii(v){Qe.value.splice(v,1),be.value=1,await ht(),Qe.value.length===0&&(It.value=!1)}function xi(v){const E=Oe.value.find(N=>N.id===Qe.value[v].headerId);E&&(Qe.value[v].type=E.type,Qe.value[v].operator=cn(E.type),Qe.value[v].value=null,Qe.value[v].value2=null)}function Bi(v){return Ke(v)}function Hi(v){return Ft(v,"filter")}async function Ui(){It.value=!1,(Ve.value.autoLoadAll===!1||Ve.value.autoLoadAll==="false")&&(console.log("[applyFilter] Applying server-side filters"),be.value=1,await ht()),C.add({severity:"success",summary:"–§–∏–ª—å—Ç—Ä –ø—Ä–∏–º–µ–Ω—ë–Ω",life:2e3})}async function Ki(){Qe.value=[],Vn(),console.log("[resetAllFilters] Clearing filters and reloading"),be.value=1,await ht()}function Ni(){It.value=!1}function fn(){var N,q;const v=document.querySelector(".coda-style-datatable");if(!v){C.add({severity:"warn",summary:"–¢–∞–±–ª–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞",life:3e3});return}const E=window.open("","_blank");E.document.write(`
    <html>
      <head>
        <title>–ü–µ—á–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã - ${((N=qe.value)==null?void 0:N.val)||"–¢–∞–±–ª–∏—Ü–∞"}</title>
        <style>
          body { margin: 20px; font-family: Arial, sans-serif; }
          table { border-collapse: collapse; width: 100%; }
          th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
          th { background-color: #f2f2f2; font-weight: bold; }
          .table-title { font-size: 1.5rem; margin-bottom: 15px; text-align: center; }
          @media print {
            body { -webkit-print-color-adjust: exact; }
          }
        </style>
      </head>
      <body>
        <div class="table-title">${((q=qe.value)==null?void 0:q.val)||"–¢–∞–±–ª–∏—Ü–∞"}</div>
        ${v.innerHTML}
      </body>
    </html>
  `),E.document.close(),E.focus(),setTimeout(()=>{E.print(),E.close()},500)}async function zi(){var E;const v=document.querySelector(".coda-style-datatable");if(!v){C.add({severity:"warn",summary:"–¢–∞–±–ª–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞",life:3e3});return}try{C.add({severity:"info",summary:"–ó–∞–≥—Ä—É–∑–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫...",life:1500}),i||(i=(await ki(async()=>{const{default:J}=await import("./html2canvas.esm-QH1iLAAe.js");return{default:J}},[])).default),t||(t=(await ki(async()=>{const{default:J}=await import("./jspdf.es.min-BwYuIhpS.js").then(fe=>fe.j);return{default:J}},__vite__mapDeps([2,0,1]))).default),C.add({severity:"info",summary:"–°–æ–∑–¥–∞–Ω–∏–µ PDF...",life:2e3});const N=await i(v,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}),q=new t("landscape","mm","a4"),Y=N.toDataURL("image/png"),W=280,K=N.height*W/N.width,X=((E=qe.value)==null?void 0:E.val)||"–¢–∞–±–ª–∏—Ü–∞";q.setFontSize(16),q.text(X,10,15),q.addImage(Y,"PNG",10,20,W,K),q.save(`${X.replace(/\s+/g,"_")}.pdf`),C.add({severity:"success",summary:"PDF —Å–æ–∑–¥–∞–Ω",life:3e3})}catch(N){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ PDF:",N),C.add({severity:"error",summary:"–û—à–∏–±–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞",detail:"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å PDF —Ñ–∞–π–ª",life:5e3})}}async function Yi(){var v,E;if(!un.value.length){C.add({severity:"warn",summary:"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö",detail:"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞",life:3e3});return}try{s||(C.add({severity:"info",summary:"–ó–∞–≥—Ä—É–∑–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏...",life:1500}),s=await ki(()=>import("./xlsx-B-l1smX_.js"),[]));const N=[],q=Be.value.map(J=>J.value);N.push(q),un.value.forEach(J=>{const fe=[];Be.value.forEach(De=>{const Pe=J.values.find(tt=>tt.headerId===De.id);fe.push(Pe&&Pe.value||"")}),N.push(fe)});const Y=s.utils.aoa_to_sheet(N),W=s.utils.book_new(),K=(((v=qe.value)==null?void 0:v.val)||"–¢–∞–±–ª–∏—Ü–∞").substring(0,31);s.utils.book_append_sheet(W,Y,K);const X=`${(((E=qe.value)==null?void 0:E.val)||"–¢–∞–±–ª–∏—Ü–∞").replace(/\s+/g,"_")}.xlsx`;s.writeFile(W,X),C.add({severity:"success",summary:"Excel —Å–æ–∑–¥–∞–Ω",life:3e3})}catch(N){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ –≤ Excel:",N),C.add({severity:"error",summary:"–û—à–∏–±–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞",detail:"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å Excel —Ñ–∞–π–ª",life:5e3})}}async function qi(v){const{rowId:E,headerId:N,value:q,dirRowId:Y}=v;try{if(N==="val")await Ue.saveObject(E,b.value,q,{});else{const K=N.replace("req_",""),X={},J=Be.value.find(fe=>fe.id===N);J!=null&&J.dirTableId&&Y!==void 0&&Y!==null?X[K]=String(Y):X[K]=q,await Ue.setObjectRequisites(E,X)}const W=Me.value.findIndex(K=>K.id===E);if(W!==-1){const K=Me.value[W].values.find(X=>X.headerId===N);K&&(K.value=q,Y!==void 0&&(K.dirRowId=Y))}C.add({severity:"success",summary:"–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ",detail:"–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã",life:2e3})}catch(W){C.add({severity:"error",summary:"–û—à–∏–±–∫–∞",detail:"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å: "+W.message,life:5e3})}}async function ji(v){const{id:E,headers:N}=v;try{const q={};let Y=null;N.forEach(K=>{if(K.headerId==="val")Y=K.value;else{const X=K.headerId.replace("req_",""),J=Be.value.find(fe=>fe.id===K.headerId);J!=null&&J.dirTableId&&!J.isMulti?q[X]=K.dirRowId?String(K.dirRowId):"":J!=null&&J.dirTableId&&J.isMulti&&K.dirValues?q[X]=K.dirValues.map(fe=>fe.dirRowId).join(","):q[X]=K.value}}),Y!==null?await Ue.saveObject(E,b.value,Y,q):await Ue.setObjectRequisites(E,q);const W=Me.value.findIndex(K=>K.id===E);W!==-1&&N.forEach(K=>{const X=Me.value[W].values.find(J=>J.headerId===K.headerId);X&&(X.value=K.value,K.dirRowId!==void 0&&(X.dirRowId=K.dirRowId),K.dirValues!==void 0&&(X.dirValues=K.dirValues))}),C.add({severity:"success",summary:"–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ",detail:"–°—Ç—Ä–æ–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞",life:2e3})}catch(q){C.add({severity:"error",summary:"–û—à–∏–±–∫–∞",detail:"–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É: "+q.message,life:5e3})}}async function Wi(v){const{rowId:E,headerId:N,dirTableId:q,dirValues:Y}=v;try{const W=N.replace("req_",""),K=Me.value.findIndex(Fe=>Fe.id===E),X=K!==-1?Me.value[K].values.find(Fe=>Fe.headerId===N):null,J=(X==null?void 0:X.dirValues)||[],fe=new Set(J.map(Fe=>Fe.dirRowId)),De=new Set(Y.map(Fe=>Fe.dirRowId)),Pe=Y.filter(Fe=>!fe.has(Fe.dirRowId)),tt=J.filter(Fe=>!De.has(Fe.dirRowId));for(const Fe of Pe)await Ue.addMultiselectItem(E,W,Fe.dirRowId);for(const Fe of tt)Fe.msId?await Ue.removeMultiselectItem(Fe.msId):console.warn("[handleCellMultiUpdate] No msId for item, cannot remove properly:",Fe);X&&(X.dirValues=Y),C.add({severity:"success",summary:"–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ",detail:"–ó–Ω–∞—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω—ã",life:2e3})}catch(W){C.add({severity:"error",summary:"–û—à–∏–±–∫–∞",detail:"–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å: "+W.message,life:5e3})}}async function _i(v){var q;const{dirTableId:E,callback:N}=v;console.log("[handleLoadDirectoryList] Loading directory:",E);try{const Y=await Ue.getObjectList(E,{LIMIT:500});console.log("[handleLoadDirectoryList] Got data for",E,":",((q=Y==null?void 0:Y.object)==null?void 0:q.length)||0,"items");const W=(Y.object||[]).map(K=>({id:parseInt(K.id)||K.id,value:K.val}));console.log("[handleLoadDirectoryList] Sample item:",W[0]),N(W)}catch(Y){console.error("[handleLoadDirectoryList] Error loading directory",E,":",Y),N([])}}async function Gi(v){var Y,W,K,X;const{dirTableId:E,dirRowId:N,callback:q}=v;console.log("[handleLoadDirRow] Loading directory row:",{dirTableId:E,dirRowId:N});try{const[J,fe]=await Promise.all([Ue.getObjectEditData(N),E?Ue.getObjectList(E,{LIMIT:1}):null]);if(J&&J.obj){const De=[],Pe=[],tt=[],Fe=J.obj.type_name||((Y=J.type)==null?void 0:Y.val)||((W=fe==null?void 0:fe.type)==null?void 0:W.val)||"–ó–Ω–∞—á–µ–Ω–∏–µ";De.push({id:"val",value:Fe}),Pe.push({headerId:"val",value:J.obj.val||""});const rt=Ge=>Ge?typeof Ge=="object"?Ge.value??Ge.val??"":Ge:"",At=[],Ee=(fe==null?void 0:fe.arr_type)||J.arr_type,it=(fe==null?void 0:fe.req_type)||J.req_type;Ee&&Object.keys(Ee).forEach(Ge=>{Ee[Ge]&&At.push({typeId:parseInt(Ge),alias:(it==null?void 0:it[Ge])||`–¢–∞–±–ª–∏—Ü–∞ ${Ge}`})});const st=[],Pt=(fe==null?void 0:fe.req_order)||J.req_order||[];for(const Ge of Pt)if(Ee!=null&&Ee[Ge])st.push({itemType:"subordinate",typeId:parseInt(Ge),alias:(it==null?void 0:it[Ge])||"",objects:[],count:0});else{const bt=rt((K=J.reqs)==null?void 0:K[Ge]);(bt||bt===0)&&st.push({itemType:"value",headerId:Ge,alias:(it==null?void 0:it[Ge])||"",value:bt,type:((X=J.req_base_id)==null?void 0:X[Ge])||null})}const dt=st.filter(Ge=>Ge.itemType==="subordinate");if(dt.length>0){const Ge=dt.map(async bt=>{try{const Ct=await Ue.getObjectList(bt.typeId,{F_U:N,LIMIT:5});bt.objects=((Ct==null?void 0:Ct.object)||[]).slice(0,5).map(St=>({id:St.id,val:St.val})),bt.count=(Ct==null?void 0:Ct.count)||bt.objects.length}catch(Ct){console.warn(`Failed to load subordinate ${bt.typeId}:`,Ct)}});await Promise.all(Ge)}console.log("[DirPreview] Final data:",{itemsCount:st.length,items:st}),q({headers:De,rows:[{id:J.obj.id,val:J.obj.val,items:st}]})}else q(null)}catch(J){console.error("Error loading dir row:",J),q(null)}}async function Xi(v){const{nestedTableId:E,parentRowId:N,tableName:q,callback:Y}=v;if(!E||!N){Y({items:[],totalCount:0});return}try{const W=await Ue.getObjectList(E,{F_U:N,LIMIT:6}),K=((W==null?void 0:W.object)||[]).slice(0,5).map(J=>({id:J.id,val:J.val,value:J.val})),X=(W==null?void 0:W.count)||K.length;Y({items:K,totalCount:X,tableName:q})}catch(W){console.error("[handleLoadNestedPreview] Error:",W),Y({items:[],totalCount:0})}}function Ji(){!A.value&&ot.value&&ht(be.value+1)}function li(v){var W;console.log("[handleOpenNested] RECEIVED event:",v);const{tableId:E,parentRowId:N,tableName:q}=v,Y=((W=E==null?void 0:E.replace)==null?void 0:W.call(E,"req_",""))||E;console.log("[handleOpenNested] Extracted reqId:",Y,"parentRowId:",N),N&&Y?(console.log("[handleOpenNested] Condition TRUE - opening dialog"),We.value={visible:!0,tableId:Y,parentRowId:N,tableName:q||"–ü–æ–¥—á–∏–Ω—ë–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞",loading:!1},console.log("[handleOpenNested] Dialog state set:",We.value)):console.log("[handleOpenNested] Condition FALSE - missing parentRowId or reqId")}function Xt(v){const{typeId:E,typeName:N,dirRowId:q}=v;E&&(Et.value={visible:!0,typeId:E,typeName:N||"–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫",dirRowId:q||null})}async function mn(){if(!(!We.value.tableId||!We.value.parentRowId))try{We.value.loading=!0;const v=await Ue.createObject(We.value.tableId,"–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å",{},We.value.parentRowId);C.add({severity:"success",summary:"–°–æ–∑–¥–∞–Ω–æ",detail:"–ó–∞–ø–∏—Å—å –¥–æ–±–∞–≤–ª–µ–Ω–∞",life:2e3});const E=We.value.tableId,N=We.value.parentRowId;We.value.tableId=null,await lt(),We.value.tableId=E,We.value.parentRowId=N}catch(v){C.add({severity:"error",summary:"–û—à–∏–±–∫–∞",detail:"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å: "+v.message,life:5e3})}finally{We.value.loading=!1}}function Zi(){ue.value=!0}function Qi(){le.value="",w.value=3,j.value=!0}async function $i(){if(!le.value.trim()){C.add({severity:"warn",summary:"–í–Ω–∏–º–∞–Ω–∏–µ",detail:"–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏",life:3e3});return}try{ee.value=!0;const E=(await Ue.addRequisite(b.value,w.value)).id;await Ue.saveRequisiteAlias(E,le.value.trim()),C.add({severity:"success",summary:"–£—Å–ø–µ—à–Ω–æ",detail:`–ö–æ–ª–æ–Ω–∫–∞ "${le.value}" –¥–æ–±–∞–≤–ª–µ–Ω–∞!`,life:3e3}),j.value=!1,le.value="",await ht()}catch(v){C.add({severity:"error",summary:"–û—à–∏–±–∫–∞",detail:"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –∫–æ–ª–æ–Ω–∫—É: "+v.message,life:5e3})}finally{ee.value=!1}}const Rn=[{value:3,label:"–¢–µ–∫—Å—Ç (–∫–æ—Ä–æ—Ç–∫–∏–π)"},{value:2,label:"–¢–µ–∫—Å—Ç (–¥–ª–∏–Ω–Ω—ã–π)"},{value:13,label:"–ß–∏—Å–ª–æ"},{value:4,label:"–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è"},{value:9,label:"–î–∞—Ç–∞"},{value:7,label:"–õ–æ–≥–∏—á–µ—Å–∫–∏–π (–î–∞/–ù–µ—Ç)"}];async function el(){if(en.value.value)try{L.value=!0,P.value=!0;const v={};Object.entries(en.value.requisites).forEach(([q,Y])=>{if(Y!=null&&Y!==""){const W=at.value.find(K=>K.id===q);W&&(W.base==="BOOLEAN"||W.base==="BOOL"?v[q]=Y?"X":"":(W.base==="DATE"||W.base==="DATETIME")&&Y instanceof Date?v[q]=W.base==="DATE"?Y.toISOString().split("T")[0]:Y.toISOString():v[q]=Y)}});const E=c.query.F_U||null,N=await Ue.createObject(b.value,en.value.value,v,E);C.add({severity:"success",summary:"–£—Å–ø–µ—à–Ω–æ",detail:"–ó–∞–ø–∏—Å—å —Å–æ–∑–¥–∞–Ω–∞!",life:3e3}),ue.value=!1,en.value={value:"",requisites:{}},await ht()}catch(v){C.add({severity:"error",summary:"–û—à–∏–±–∫–∞",detail:"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å: "+v.message,life:5e3})}finally{L.value=!1,P.value=!1}}function tl(v){R.require({message:`–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å #${v}?`,header:"–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è",icon:"pi pi-exclamation-triangle",acceptClass:"p-button-danger",accept:async()=>{try{await Ue.deleteObject(v),Me.value=Me.value.filter(E=>E.id!==v),C.add({severity:"success",summary:"–£–¥–∞–ª–µ–Ω–æ",detail:"–ó–∞–ø–∏—Å—å —É–¥–∞–ª–µ–Ω–∞",life:2e3})}catch(E){C.add({severity:"error",summary:"–û—à–∏–±–∫–∞",detail:"–ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å: "+E.message,life:5e3})}}})}async function nl(v){try{await Ue.moveObjectUp(v),C.add({severity:"success",summary:"–ü–µ—Ä–µ–º–µ—â–µ–Ω–æ",detail:"–û–±—ä–µ–∫—Ç –ø–µ—Ä–µ–º–µ—â—ë–Ω –≤–≤–µ—Ä—Ö",life:2e3}),await ht(1)}catch(E){C.add({severity:"error",summary:"–û—à–∏–±–∫–∞",detail:"–ù–µ —É–¥–∞–ª–æ—Å—å –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å: "+E.message,life:5e3})}}async function il({rowId:v,newParentId:E}){try{await Ue.moveObjectToParent(v,E);const N=E===1?"–ó–∞–ø–∏—Å—å —Ç–µ–ø–µ—Ä—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è":`–ó–∞–ø–∏—Å—å –ø–µ—Ä–µ–ø–æ–¥—á–∏–Ω–µ–Ω–∞ (ID —Ä–æ–¥–∏—Ç–µ–ª—è: ${E})`;C.add({severity:"success",summary:"–ü–æ–¥—á–∏–Ω—ë–Ω–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∞",detail:N,life:3e3}),await ht(1)}catch(N){C.add({severity:"error",summary:"–û—à–∏–±–∫–∞",detail:"–ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–¥—á–∏–Ω—ë–Ω–Ω–æ—Å—Ç—å: "+N.message,life:5e3})}}async function ai({headerId:v,termId:E,action:N,label:q,params:Y}){try{const W=q||"–ö–Ω–æ–ø–∫–∞";let K=`:ALIAS=${W}`;if(N.endpoint?K+=`:${N.endpoint}`:N.id&&(K+=`:${N.id}`),Y)for(const[J,fe]of Object.entries(Y))fe&&fe!==""&&(K+=`:${J}=${fe}`);K+=":",await Ue.saveRequisiteAttributes(E,K);const X=Be.value.findIndex(J=>J.id===v);X!==-1&&(Be.value[X].attrs=K),C.add({severity:"success",summary:"–ö–Ω–æ–ø–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞",detail:`"${W}" ‚Üí ${N.label}`,life:3e3})}catch(W){C.add({severity:"error",summary:"–û—à–∏–±–∫–∞",detail:"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–Ω–æ–ø–∫–∏: "+W.message,life:5e3})}}async function oi({rowId:v,headerId:E,endpoint:N,params:q,actionType:Y,refreshAction:W}){try{if(console.log("[handleButtonClick]",{rowId:v,headerId:E,endpoint:N,params:q,actionType:Y,refreshAction:W}),Y==="custom-url"){let K=N;if(q&&Object.keys(q).length>0){const X=new URLSearchParams(q).toString();K+=(K.includes("?")?"&":"?")+X}window.open(K,"_blank","noopener,noreferrer");return}if(Y==="api-macro"){const K=new URLSearchParams;if(q)for(const[X,J]of Object.entries(q))J&&J!==""&&K.append(X,J);if(await Ue.post(N,K),C.add({severity:"success",summary:"–î–µ–π—Å—Ç–≤–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ",detail:`–ó–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω: ${N}`,life:3e3}),W==="delete-row"){const X=Me.value.findIndex(J=>J.id===v);X!==-1&&Me.value.splice(X,1)}else if(W==="reload-table")await ht(page.value);else if(W==="reload-cell"){const X=await Ue.getObjectEditData(v);X!=null&&X.obj&&Me.value.findIndex(fe=>fe.id===v)!==-1&&await ht(page.value)}}}catch(K){console.error("[handleButtonClick] Error:",K),C.add({severity:"error",summary:"–û—à–∏–±–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è",detail:"–ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ: "+K.message,life:5e3})}}async function hn({action:v,headerId:E,termId:N}){var q;if(console.log("[handleHeaderAction]",{action:v,headerId:E,termId:N}),v==="delete"){const Y=Be.value.find(K=>K.id===E);let W=N||(Y==null?void 0:Y.termId);if(console.log("[handleHeaderAction] Delete column:",{headerId:E,termId:N,requisiteId:W,header:Y}),W==="val"||E==="val"){C.add({severity:"warn",summary:"–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å",detail:"–ì–ª–∞–≤–Ω—É—é –∫–æ–ª–æ–Ω–∫—É —É–¥–∞–ª–∏—Ç—å –Ω–µ–ª—å–∑—è",life:5e3});return}if(typeof W=="string"&&W!=="val"&&(W=parseInt(W,10)),!W||isNaN(W)){C.add({severity:"error",summary:"–û—à–∏–±–∫–∞",detail:"–ù–µ –Ω–∞–π–¥–µ–Ω ID —Ä–µ–∫–≤–∏–∑–∏—Ç–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è",life:5e3});return}try{console.log("[handleHeaderAction] Calling deleteRequisite API with ID:",W,"typeof:",typeof W);const K=await Ue.deleteRequisite(W,!0);console.log("[handleHeaderAction] API response:",K);const X=Array.isArray(K)?(q=K[0])==null?void 0:q.error:(K==null?void 0:K.error)||(K==null?void 0:K.failed);if(X)throw new Error(X);const J=Be.value.findIndex(fe=>fe.id===E);if(J!==-1){const fe=Be.value[J];Be.value.splice(J,1),C.add({severity:"success",summary:"–ö–æ–ª–æ–Ω–∫–∞ —É–¥–∞–ª–µ–Ω–∞",detail:fe.value||`–ö–æ–ª–æ–Ω–∫–∞ #${W}`,life:3e3})}Me.value.forEach(fe=>{if(fe.values){const De=fe.values.findIndex(Pe=>Pe.headerId===E);De!==-1&&fe.values.splice(De,1)}})}catch(K){console.error("[handleHeaderAction] Delete API error:",K),C.add({severity:"error",summary:"–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è",detail:K.message||"–ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É —á–µ—Ä–µ–∑ API",life:5e3})}}}async function ll({rowId:v,headerId:E,termId:N,baseType:q,file:Y,callback:W}){var K,X;try{C.add({severity:"info",summary:"–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞",detail:`–ó–∞–≥—Ä—É–∂–∞–µ–º ${Y.name}...`,life:2e3});const J=await Ue.uploadRequisiteFile(v,N,Y);let fe=Y.name;try{const Pe=await Ue.getObjectEditData(v);if((K=Pe==null?void 0:Pe.reqs)!=null&&K[N]){const tt=Pe.reqs[N];fe=tt.value||tt||Y.name}}catch(Pe){console.warn("[handleUploadFile] Could not fetch updated value, using filename:",Pe)}const De=Me.value.findIndex(Pe=>Pe.id===v);if(De!==-1){const Pe=Me.value[De],tt=(X=Pe.values)==null?void 0:X.findIndex(Fe=>Fe.headerId===E);tt!==-1&&tt!==void 0?Me.value[De].values[tt].value=fe:Pe.values&&Me.value[De].values.push({headerId:E,value:fe,type:10})}C.add({severity:"success",summary:"–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω",detail:Y.name,life:3e3}),W&&W({success:!0,filename:fe,result:J})}catch(J){console.error("[handleUploadFile] Error:",J),C.add({severity:"error",summary:"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏",detail:J.message||"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª",life:5e3}),W&&W({success:!1,error:J.message})}}const vn=v=>{var E;v.key==="Escape"&&(E=ie.value)!=null&&E.isEditing&&ie.value.isEditing()&&(console.log("[IntegramDataTableWrapper] ESC pressed - canceling cell edit"),ie.value.cancelCellEdit(),v.stopPropagation(),v.preventDefault())};Yn(async()=>{if(document.addEventListener("keydown",vn),document.addEventListener("keydown",Gt),!m.value){d.replace("/integram/login");return}await ht()}),wt(b,async v=>{v&&(be.value=1,Me.value=[],await ht())}),Ya(()=>{document.removeEventListener("keydown",vn),document.removeEventListener("keydown",Gt),F&&(clearTimeout(F),F=null),Le&&(clearInterval(Le),Le=null)});const Fn={get html2canvasModule(){return i},set html2canvasModule(v){i=v},get jsPDFModule(){return t},set jsPDFModule(v){t=v},get XLSXModule(){return s},set XLSXModule(v){s=v},props:l,route:c,router:d,typeId:b,toast:C,confirm:R,isAuthenticated:m,sessionDatabase:B,loading:x,loadingMore:A,error:M,creating:L,isAddingRow:P,isAddingColumn:ee,showAddColumnDialog:j,newColumnType:w,newColumnAlias:le,editMode:_,showCreateDialog:ue,showColumnSelector:re,dataTableRef:ie,isSelectionModeActive:Se,toggleSelectionMode:ve,isFooterActive:oe,toggleFooter:ge,rowDensity:ke,cycleRowDensity:g,getRowDensityIcon:ne,getRowDensityLabel:he,isLoadingDirs:S,dirLoadProgress:nt,get dirLoadProgressInterval(){return Le},set dirLoadProgressInterval(v){Le=v},toggleBackgroundLoading:ut,toggleAutoLoadDirs:Mt,nestedDialog:We,directoryDialog:Et,showHelpDialog:vt,showSettingsDialog:xt,searchQuery:de,debouncedSearchQuery:kt,isFilterDialogVisible:It,filterConditions:Qe,filterApplyButton:$t,get searchDebounceTimer(){return F},set searchDebounceTimer(v){F=v},searchMatches:z,currentMatchIndex:Z,allHeaders:$,selectedColumns:$e,typeData:qe,requisitesMeta:at,headers:Be,rows:Me,currentPage:be,rowsPerPage:Ye,hasMore:ot,STORAGE_KEY:Nn,DEFAULT_SETTINGS:ct,loadSettings:Ze,saveSettings:Ot,settings:Ve,allRows:Ut,isBackgroundLoading:Lt,backgroundProgress:Tn,loadedCount:Vt,totalCount:pt,allDataLoaded:Yt,backgroundLoadingAborted:qt,createForm:en,TABLES_BREADCRUMB_ITEM:Jn,database:Tt,apiServerUrl:Rt,breadcrumbItems:Zn,editableRequisites:Mn,columnOptions:Mi,filteredRows:un,showPartialDataWarning:Ei,matchesCondition:Oi,filterableHeaders:Oe,hasActiveFilters:jt,OPERATORS:gt,getTypeCategory:Dt,getOperatorsForType:Li,getDefaultOperatorForType:cn,isRangeOperator:Qn,loadData:ht,startBackgroundLoading:$n,cancelBackgroundLoading:Vi,toggleAutoLoad:Ri,DATE_STYLE_NAMES:Kt,setDateStyle:En,buildServerFilters:ei,transformData:ti,getTypeIdFromBase:Wt,getInputComponentForType:Ke,getInputPropsForType:Ft,getRequisiteInputComponent:On,getRequisiteInputProps:ni,toggleEditMode:Fi,selectAllColumns:ft,applyColumnSelection:Ai,onSearchInput:Nt,updateSearchMatches:pn,nextSearchMatch:_t,prevSearchMatch:tn,scrollToCurrentMatch:Ln,handleSearchNavigation:Gt,showFilterDialog:Pi,addCondition:Vn,removeCondition:ii,updateConditionType:xi,getFilterComponent:Bi,getFilterProps:Hi,applyFilter:Ui,resetAllFilters:Ki,cancelFilter:Ni,printTable:fn,exportToPDF:zi,exportToExcel:Yi,handleCellUpdate:qi,handleRowUpdate:ji,handleCellMultiUpdate:Wi,handleLoadDirectoryList:_i,handleLoadDirRow:Gi,handleLoadNestedPreview:Xi,handleLoadMore:Ji,handleOpenNested:li,handleOpenDirectory:Xt,createNestedRecord:mn,handleAddRow:Zi,handleAddColumn:Qi,createColumn:$i,columnTypeOptions:Rn,handleCreate:el,handleRowDelete:tl,handleRowMoveUp:nl,handleRowChangeParent:il,handleButtonActionChange:ai,handleButtonClick:oi,handleHeaderAction:hn,handleUploadFile:ll,handleGlobalEsc:vn,ref:D,computed:Te,onMounted:Yn,onUnmounted:Ya,watch:wt,nextTick:lt,get useRoute(){return Ua},get useRouter(){return Ka},get useToast(){return Na},get useConfirm(){return za},get useIntegramSession(){return qa},get integramApiClient(){return Ue},DataTable:ef,IntegramBreadcrumb:qs,ReferenceField:js,get InputText(){return sn},get InputNumber(){return qn},get Textarea(){return Dn},get Calendar(){return jn},get Checkbox(){return Wn}};return Object.defineProperty(Fn,"__isScriptSetup",{enumerable:!1,value:!0}),Fn}},nf={class:"table-header-row"},lf={class:"flex align-items-start gap-2"},af={class:"table-title"},of={class:"table-header-toolbar"},rf={class:"flex gap-1"},sf={class:"search-with-navigation"},df={key:0,class:"search-navigation-controls"},uf={class:"search-counter"},cf={key:0,class:"text-center py-5"},pf={key:1,class:"text-center py-5"},ff={key:2,class:"mb-3"},mf={class:"flex align-items-center justify-content-between"},hf={key:0,class:"bg-loading-overlay"},vf={class:"bg-loading-indicator"},gf={class:"flex align-items-center gap-3"},bf={class:"flex-1"},yf={class:"flex justify-content-between align-items-center mb-1"},wf={class:"text-sm"},kf={class:"flex flex-column gap-3"},If={class:"field"},Df=["for"],Cf={class:"flex flex-column gap-4"},Sf={class:"field"},Tf={class:"field"},Mf={class:"flex justify-content-between mb-4"},Ef={class:"flex flex-column gap-3 mb-4 max-h-20rem overflow-y-auto"},Of=["for"],Lf={class:"flex justify-content-between w-full"},Vf={key:0,class:"filter-empty-state"},Rf={key:1,class:"filter-conditions-list"},Ff={class:"condition-header"},Af={class:"condition-title"},Pf={class:"condition-fields"},xf={class:"field mb-3"},Bf=["for"],Hf={class:"field mb-3"},Uf=["for"],Kf={key:0,class:"field"},Nf=["for"],zf={key:1,class:"grid"},Yf={class:"col-6"},qf={class:"field"},jf=["for"],Wf={class:"col-6"},_f={class:"field"},Gf=["for"],Xf={class:"mt-3"},Jf={class:"flex justify-content-between align-items-center w-full"},Zf={class:"flex gap-2"},Qf={key:0,class:"text-center py-5"},$f={key:1,class:"nested-table-content"},em={class:"flex justify-content-between w-full"},tm={key:0,class:"directory-table-content"},nm={class:"settings-content"},im={class:"settings-section"},lm={class:"settings-options"},am={class:"settings-option"},om={class:"settings-option"},rm={class:"settings-info-note"},sm={class:"settings-section"},dm={class:"date-style-grid"};function um(n,e,i,t,s,l){var j;const c=je("Badge"),d=je("Button"),b=je("InputIcon"),C=je("IconField"),R=je("ProgressSpinner"),m=je("Message"),B=je("Card"),x=je("ProgressBar"),A=je("Dialog"),M=je("Dropdown"),L=je("ConfirmDialog"),P=je("IntegramDataTableWrapper",!0),ee=Si("tooltip");return f(),I("div",{class:we(["integram-datatable-wrapper",`row-density-${t.rowDensity}`])},[i.embedded?ae("",!0):(f(),pe(t.IntegramBreadcrumb,{key:0,items:t.breadcrumbItems,database:t.database},null,8,["items","database"])),V(B,null,{title:ce(()=>{var w;return[o("div",nf,[o("div",lf,[o("span",af,te(((w=t.typeData)==null?void 0:w.val)||"–¢–∞–±–ª–∏—Ü–∞"),1),Ne(V(c,{value:t.totalCount||t.filteredRows.length,class:"records-badge"},null,8,["value"]),[[ee,t.totalCount?`–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ: ${t.totalCount.toLocaleString()}`:"",void 0,{bottom:!0}]])]),o("div",of,[o("div",rf,[Ne(V(d,{icon:"pi pi-refresh",size:"small",text:"",rounded:"",onClick:t.loadData,loading:t.loading},null,8,["loading"]),[[ee,"–û–±–Ω–æ–≤–∏—Ç—å",void 0,{bottom:!0}]]),Ne(V(d,{icon:"pi pi-pencil",size:"small",text:"",rounded:"",onClick:t.toggleEditMode,class:we({"p-button-primary":t.editMode==="single-click"})},null,8,["class"]),[[ee,t.editMode==="single-click"?"–†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è":"–í–∫–ª—é—á–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",void 0,{bottom:!0}]]),Ne(V(d,{icon:t.hasActiveFilters?"pi pi-filter-fill":"pi pi-filter",size:"small",text:"",rounded:"",onClick:t.showFilterDialog},null,8,["icon"]),[[ee,"–§–∏–ª—å—Ç—Ä—ã",void 0,{bottom:!0}]]),Ne(V(d,{icon:"pi pi-check-square",size:"small",text:"",rounded:"",class:we({"p-button-primary":t.isSelectionModeActive}),onClick:t.toggleSelectionMode},null,8,["class"]),[[ee,"–í—ã–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫",void 0,{bottom:!0}]]),Ne(V(d,{icon:"pi pi-calculator",size:"small",text:"",rounded:"",class:we({"p-button-primary":t.isFooterActive}),onClick:t.toggleFooter},null,8,["class"]),[[ee,"–§—É—Ç–µ—Ä —Å –∞–≥—Ä–µ–≥–∞—Ü–∏—è–º–∏",void 0,{bottom:!0}]]),Ne(V(d,{icon:"pi pi-eye-slash",size:"small",text:"",rounded:"",onClick:e[0]||(e[0]=le=>t.showColumnSelector=!0)},null,512),[[ee,"–ö–æ–ª–æ–Ω–∫–∏",void 0,{bottom:!0}]]),Ne(V(d,{icon:"pi pi-print",size:"small",text:"",rounded:"",onClick:t.printTable},null,512),[[ee,"–ü–µ—á–∞—Ç—å",void 0,{bottom:!0}]]),Ne(V(d,{icon:"pi pi-file-excel",size:"small",text:"",rounded:"",onClick:t.exportToExcel},null,512),[[ee,"Excel",void 0,{bottom:!0}]]),Ne(V(d,{icon:"pi pi-file-pdf",size:"small",text:"",rounded:"",onClick:t.exportToPDF},null,512),[[ee,"PDF",void 0,{bottom:!0}]]),Ne(V(d,{icon:t.getRowDensityIcon(),size:"small",text:"",rounded:"",onClick:t.cycleRowDensity},null,8,["icon"]),[[ee,`–ü–ª–æ—Ç–Ω–æ—Å—Ç—å —Å—Ç—Ä–æ–∫: ${t.getRowDensityLabel()}`,void 0,{bottom:!0}]]),Ne(V(d,{icon:"pi pi-cog",size:"small",text:"",rounded:"",onClick:e[1]||(e[1]=le=>t.showSettingsDialog=!0)},null,512),[[ee,"–ù–∞—Å—Ç—Ä–æ–π–∫–∏",void 0,{bottom:!0}]]),Ne(V(d,{icon:"pi pi-question-circle",size:"small",text:"",rounded:"",onClick:e[2]||(e[2]=le=>t.showHelpDialog=!0)},null,512),[[ee,"–°–ø—Ä–∞–≤–∫–∞",void 0,{bottom:!0}]]),e[31]||(e[31]=o("span",{class:"toolbar-separator"},null,-1)),Ne(V(d,{icon:"pi pi-plus",size:"small",text:"",rounded:"",onClick:t.handleAddRow,loading:t.isAddingRow},null,8,["loading"]),[[ee,"–ù–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞",void 0,{bottom:!0}]]),Ne(V(d,{icon:"pi pi-plus-circle",size:"small",text:"",rounded:"",onClick:t.handleAddColumn,loading:t.isAddingColumn},null,8,["loading"]),[[ee,"–ù–æ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞",void 0,{bottom:!0}]])]),o("div",sf,[V(C,{iconPosition:"left",class:"header-search"},{default:ce(()=>[V(b,{class:"pi pi-search"}),V(t.InputText,{modelValue:t.searchQuery,"onUpdate:modelValue":e[3]||(e[3]=le=>t.searchQuery=le),placeholder:"–ü–æ–∏—Å–∫...",onInput:t.onSearchInput},null,8,["modelValue"])]),_:1}),t.searchMatches.length>0?(f(),I("div",df,[o("span",uf,te(t.currentMatchIndex+1)+" / "+te(t.searchMatches.length),1),Ne(V(d,{icon:"pi pi-chevron-up",size:"small",text:"",rounded:"",onClick:t.prevSearchMatch},null,512),[[ee,"–ü—Ä–µ–¥—ã–¥—É—â–∏–π (Shift+F3)",void 0,{bottom:!0}]]),Ne(V(d,{icon:"pi pi-chevron-down",size:"small",text:"",rounded:"",onClick:t.nextSearchMatch},null,512),[[ee,"–°–ª–µ–¥—É—é—â–∏–π (F3)",void 0,{bottom:!0}]])])):ae("",!0)])])])]}),content:ce(()=>[t.loading?(f(),I("div",cf,[V(R),e[32]||(e[32]=o("p",{class:"mt-2 text-color-secondary"},"–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...",-1))])):t.error?(f(),I("div",pf,[V(m,{severity:"error",closable:!1},{default:ce(()=>[ze(te(t.error),1)]),_:1}),V(d,{label:"–ü–æ–≤—Ç–æ—Ä–∏—Ç—å",icon:"pi pi-refresh",onClick:t.loadData,class:"mt-3"})])):ae("",!0),t.showPartialDataWarning?(f(),I("div",ff,[V(m,{severity:"warn",closable:!1},{default:ce(()=>[o("div",mf,[o("span",null,[ze(" –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö "+te(t.rows.length)+" –∑–∞–ø–∏—Å—è—Ö. ",1),t.settings.autoLoadAll?ae("",!0):(f(),I(Ce,{key:0},[ze(" –í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –≤—Å–µ–º –¥–∞–Ω–Ω—ã–º. ")],64))])])]),_:1})])):ae("",!0),!t.loading&&!t.error?(f(),pe(t.DataTable,{key:3,ref:"dataTableRef",headers:t.headers,rows:t.filteredRows,disableEditing:!1,disableTypeEditing:!1,editMode:t.editMode,isLoading:t.loading,isLoadingMore:t.loadingMore,isAddingRow:t.isAddingRow,isAddingColumn:t.isAddingColumn,allDataLoaded:t.allDataLoaded,dateStyle:t.settings.dateStyle,serverUrl:t.apiServerUrl,autoLoadDirs:t.settings.autoLoadDirs,database:t.database,onCellUpdate:t.handleCellUpdate,onRowUpdate:t.handleRowUpdate,onCellMultiUpdate:t.handleCellMultiUpdate,onLoadDirectoryList:t.handleLoadDirectoryList,onLoadDirRow:t.handleLoadDirRow,onLoadNestedPreview:t.handleLoadNestedPreview,onLoadMore:t.handleLoadMore,onAddRow:t.handleAddRow,onAddColumn:t.handleAddColumn,onRowDelete:t.handleRowDelete,onRowMoveUp:t.handleRowMoveUp,onOpenNested:t.handleOpenNested,onRowChangeParent:t.handleRowChangeParent,onOpenDirectory:t.handleOpenDirectory,onButtonActionChange:t.handleButtonActionChange,onButtonClick:t.handleButtonClick,onUploadFile:t.handleUploadFile,onHeaderAction:t.handleHeaderAction},null,8,["headers","rows","editMode","isLoading","isLoadingMore","isAddingRow","isAddingColumn","allDataLoaded","dateStyle","serverUrl","autoLoadDirs","database"])):ae("",!0)]),_:1}),(f(),pe(Ns,{to:"body"},[V(Ti,{name:"slide-up"},{default:ce(()=>[t.isBackgroundLoading?(f(),I("div",hf,[o("div",vf,[o("div",gf,[e[34]||(e[34]=o("i",{class:"pi pi-spin pi-spinner"},null,-1)),o("div",bf,[o("div",yf,[e[33]||(e[33]=o("span",{class:"font-medium"},"–ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö",-1)),o("span",wf,te(t.loadedCount)+" / "+te(t.totalCount),1)]),V(x,{value:t.backgroundProgress,showValue:!1,style:{height:"6px"}},null,8,["value"])]),Ne(V(d,{icon:"pi pi-times",text:"",rounded:"",size:"small",severity:"secondary",onClick:t.cancelBackgroundLoading},null,512),[[ee,"–û—Ç–º–µ–Ω–∏—Ç—å",void 0,{left:!0}]])])])])):ae("",!0)]),_:1})])),V(A,{visible:t.showCreateDialog,"onUpdate:visible":e[6]||(e[6]=w=>t.showCreateDialog=w),modal:"",header:"–°–æ–∑–¥–∞—Ç—å: "+(((j=t.typeData)==null?void 0:j.val)||"–ó–∞–ø–∏—Å—å"),style:{width:"40rem"},breakpoints:{"960px":"75vw","640px":"95vw"}},{footer:ce(()=>[V(d,{label:"–û—Ç–º–µ–Ω–∞",text:"",onClick:e[5]||(e[5]=w=>t.showCreateDialog=!1)}),V(d,{label:"–°–æ–∑–¥–∞—Ç—å",icon:"pi pi-check",loading:t.creating,disabled:!t.createForm.value,onClick:t.handleCreate},null,8,["loading","disabled"])]),default:ce(()=>[o("div",kf,[o("div",If,[e[35]||(e[35]=o("label",{for:"newObjectValue",class:"font-bold"},"–ó–Ω–∞—á–µ–Ω–∏–µ *",-1)),V(t.InputText,{id:"newObjectValue",modelValue:t.createForm.value,"onUpdate:modelValue":e[4]||(e[4]=w=>t.createForm.value=w),placeholder:"–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ",class:"w-full",onKeydown:Ae(t.handleCreate,["enter"])},null,8,["modelValue"])]),(f(!0),I(Ce,null,Je(t.editableRequisites,w=>(f(),I("div",{key:w.id,class:"field"},[o("label",{for:"req_"+w.id},te(w.alias),9,Df),w.refType?(f(),pe(t.ReferenceField,{key:0,modelValue:t.createForm.requisites[w.id],"onUpdate:modelValue":le=>t.createForm.requisites[w.id]=le,reqId:w.id,refTypeId:w.refType,database:t.database,objectId:0,multi:w.isMulti,allowCreate:!0},null,8,["modelValue","onUpdate:modelValue","reqId","refTypeId","database","multi"])):(f(),pe(et(t.getRequisiteInputComponent(w.base)),U({key:1,id:"req_"+w.id,modelValue:t.createForm.requisites[w.id],"onUpdate:modelValue":le=>t.createForm.requisites[w.id]=le,placeholder:"–í–≤–µ–¥–∏—Ç–µ "+w.alias,class:"w-full"},{ref_for:!0},t.getRequisiteInputProps(w.base)),null,16,["id","modelValue","onUpdate:modelValue","placeholder"]))]))),128))])]),_:1},8,["visible","header"]),V(A,{visible:t.showAddColumnDialog,"onUpdate:visible":e[10]||(e[10]=w=>t.showAddColumnDialog=w),modal:"",header:"–î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É",style:{width:"28rem"},breakpoints:{"640px":"95vw"}},{footer:ce(()=>[V(d,{label:"–û—Ç–º–µ–Ω–∞",text:"",onClick:e[9]||(e[9]=w=>t.showAddColumnDialog=!1)}),V(d,{label:"–î–æ–±–∞–≤–∏—Ç—å",icon:"pi pi-plus",loading:t.isAddingColumn,disabled:!t.newColumnAlias.trim(),onClick:t.createColumn},null,8,["loading","disabled"])]),default:ce(()=>[o("div",Cf,[o("div",Sf,[e[36]||(e[36]=o("label",{for:"newColumnAlias",class:"font-bold block mb-2"},"–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ *",-1)),V(t.InputText,{id:"newColumnAlias",modelValue:t.newColumnAlias,"onUpdate:modelValue":e[7]||(e[7]=w=>t.newColumnAlias=w),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä: –°—Ç–∞—Ç—É—Å",class:"w-full",onKeydown:Ae(t.createColumn,["enter"])},null,8,["modelValue"])]),o("div",Tf,[e[37]||(e[37]=o("label",{for:"newColumnType",class:"font-bold block mb-2"},"–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö",-1)),V(M,{id:"newColumnType",modelValue:t.newColumnType,"onUpdate:modelValue":e[8]||(e[8]=w=>t.newColumnType=w),options:t.columnTypeOptions,optionLabel:"label",optionValue:"value",placeholder:"–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø",class:"w-full"},null,8,["modelValue"])])])]),_:1},8,["visible"]),V(L),V(A,{visible:t.showColumnSelector,"onUpdate:visible":e[14]||(e[14]=w=>t.showColumnSelector=w),header:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∞–º–∏",modal:!0,style:{width:"450px"},breakpoints:{"960px":"75vw","640px":"90vw"}},{footer:ce(()=>[o("div",Lf,[V(d,{label:"–û—Ç–º–µ–Ω–∏—Ç—å",onClick:e[13]||(e[13]=w=>t.showColumnSelector=!1),text:"",size:"small"}),V(d,{label:"–ü—Ä–∏–º–µ–Ω–∏—Ç—å",onClick:t.applyColumnSelection,size:"small",icon:"pi pi-check"})])]),default:ce(()=>[o("div",Mf,[V(d,{label:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ",onClick:e[11]||(e[11]=w=>t.selectAllColumns(!0)),size:"small",icon:"pi pi-eye",outlined:""}),V(d,{label:"–°–∫—Ä—ã—Ç—å –≤—Å–µ",onClick:e[12]||(e[12]=w=>t.selectAllColumns(!1)),size:"small",icon:"pi pi-eye-slash",outlined:"",severity:"secondary"})]),o("div",Ef,[(f(!0),I(Ce,null,Je(t.columnOptions,w=>(f(),I("div",{key:w.id,class:"flex align-items-center p-2 surface-hover border-round"},[V(t.Checkbox,{modelValue:t.selectedColumns[w.id],"onUpdate:modelValue":le=>t.selectedColumns[w.id]=le,inputId:"col-"+w.id,binary:!0,class:"mr-3"},null,8,["modelValue","onUpdate:modelValue","inputId"]),o("label",{for:"col-"+w.id,class:we(["flex-grow-1 cursor-pointer",{"text-color-secondary":!t.selectedColumns[w.id]}])},te(w.value),11,Of)]))),128))])]),_:1},8,["visible"]),V(A,{visible:t.isFilterDialogVisible,"onUpdate:visible":e[15]||(e[15]=w=>t.isFilterDialogVisible=w),header:"–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö",modal:!0,style:{width:"600px"},breakpoints:{"960px":"90vw"}},{footer:ce(()=>[o("div",Jf,[V(d,{label:"–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ",icon:"pi pi-filter-slash",onClick:t.resetAllFilters,severity:"danger",text:"",size:"small"}),o("div",Zf,[V(d,{label:"–û—Ç–º–µ–Ω–∞",onClick:t.cancelFilter,text:""}),V(d,{ref:"filterApplyButton",label:"–ü—Ä–∏–º–µ–Ω–∏—Ç—å",icon:"pi pi-check",onClick:t.applyFilter},null,512)])])]),default:ce(()=>[t.filterConditions.length===0?(f(),I("div",Vf,[e[38]||(e[38]=o("i",{class:"pi pi-filter",style:{"font-size":"2rem",color:"var(--text-color-secondary)"}},null,-1)),e[39]||(e[39]=o("p",{class:"mt-3 mb-3 text-color-secondary"},"–£—Å–ª–æ–≤–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–µ –∑–∞–¥–∞–Ω—ã",-1)),V(d,{label:"–î–æ–±–∞–≤–∏—Ç—å —É—Å–ª–æ–≤–∏–µ",icon:"pi pi-plus",outlined:"",onClick:t.addCondition})])):(f(),I("div",Rf,[(f(!0),I(Ce,null,Je(t.filterConditions,(w,le)=>(f(),I("div",{key:le,class:"filter-condition-item"},[o("div",Ff,[o("h4",Af,"–£—Å–ª–æ–≤–∏–µ "+te(le+1),1),Ne(V(d,{icon:"pi pi-trash",text:"",rounded:"",severity:"danger",size:"small",onClick:_=>t.removeCondition(le)},null,8,["onClick"]),[[ee,"–£–¥–∞–ª–∏—Ç—å —É—Å–ª–æ–≤–∏–µ",void 0,{left:!0}]])]),o("div",Pf,[o("div",xf,[o("label",{for:`column-${le}`},"–°—Ç–æ–ª–±–µ—Ü",8,Bf),V(M,{id:`column-${le}`,modelValue:w.headerId,"onUpdate:modelValue":_=>w.headerId=_,options:t.filterableHeaders,optionLabel:"value",optionValue:"id",placeholder:"–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–æ–ª–±–µ—Ü",class:"w-full",onChange:_=>t.updateConditionType(le)},null,8,["id","modelValue","onUpdate:modelValue","options","onChange"])]),o("div",Hf,[o("label",{for:`operator-${le}`},"–û–ø–µ—Ä–∞—Ç–æ—Ä",8,Uf),V(M,{id:`operator-${le}`,modelValue:w.operator,"onUpdate:modelValue":_=>w.operator=_,options:t.getOperatorsForType(w.type),optionLabel:"label",optionValue:"value",placeholder:"–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä",class:"w-full"},null,8,["id","modelValue","onUpdate:modelValue","options"])]),w.operator!=="isEmpty"?(f(),I(Ce,{key:0},[t.isRangeOperator(w.operator)?(f(),I("div",zf,[o("div",Yf,[o("div",qf,[o("label",{for:`value-from-${le}`},"–û—Ç",8,jf),[3,8,12].includes(w.type)?(f(),pe(t.InputText,{key:0,id:`value-from-${le}`,modelValue:w.value,"onUpdate:modelValue":_=>w.value=_,class:"w-full"},null,8,["id","modelValue","onUpdate:modelValue"])):[13,14].includes(w.type)?(f(),pe(t.InputNumber,{key:1,id:`value-from-${le}`,modelValue:w.value,"onUpdate:modelValue":_=>w.value=_,class:"w-full"},null,8,["id","modelValue","onUpdate:modelValue"])):[4,9].includes(w.type)?(f(),pe(t.Calendar,{key:2,id:`value-from-${le}`,modelValue:w.value,"onUpdate:modelValue":_=>w.value=_,showIcon:!0,dateFormat:"dd.mm.yy",showTime:w.type===4},null,8,["id","modelValue","onUpdate:modelValue","showTime"])):ae("",!0)])]),o("div",Wf,[o("div",_f,[o("label",{for:`value-to-${le}`},"–î–æ",8,Gf),[3,8,12].includes(w.type)?(f(),pe(t.InputText,{key:0,id:`value-to-${le}`,modelValue:w.value2,"onUpdate:modelValue":_=>w.value2=_,class:"w-full"},null,8,["id","modelValue","onUpdate:modelValue"])):[13,14].includes(w.type)?(f(),pe(t.InputNumber,{key:1,id:`value-to-${le}`,modelValue:w.value2,"onUpdate:modelValue":_=>w.value2=_,class:"w-full"},null,8,["id","modelValue","onUpdate:modelValue"])):[4,9].includes(w.type)?(f(),pe(t.Calendar,{key:2,id:`value-to-${le}`,modelValue:w.value2,"onUpdate:modelValue":_=>w.value2=_,showIcon:!0,dateFormat:"dd.mm.yy",showTime:w.type===4},null,8,["id","modelValue","onUpdate:modelValue","showTime"])):ae("",!0)])])])):(f(),I("div",Kf,[o("label",{for:`value-${le}`},"–ó–Ω–∞—á–µ–Ω–∏–µ",8,Nf),[3,8,12].includes(w.type)?(f(),pe(t.InputText,{key:0,id:`value-${le}`,modelValue:w.value,"onUpdate:modelValue":_=>w.value=_,class:"w-full",placeholder:"–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ..."},null,8,["id","modelValue","onUpdate:modelValue"])):[13,14].includes(w.type)?(f(),pe(t.InputNumber,{key:1,id:`value-${le}`,modelValue:w.value,"onUpdate:modelValue":_=>w.value=_,class:"w-full",placeholder:"–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ..."},null,8,["id","modelValue","onUpdate:modelValue"])):[4,9].includes(w.type)?(f(),pe(t.Calendar,{key:2,id:`value-${le}`,modelValue:w.value,"onUpdate:modelValue":_=>w.value=_,class:"w-full",showIcon:!0,dateFormat:"dd.mm.yy",showTime:w.type===4},null,8,["id","modelValue","onUpdate:modelValue","showTime"])):[2,12].includes(w.type)?(f(),pe(t.Textarea,{key:3,id:`value-${le}`,modelValue:w.value,"onUpdate:modelValue":_=>w.value=_,class:"w-full",rows:3},null,8,["id","modelValue","onUpdate:modelValue"])):(f(),pe(t.InputText,{key:4,id:`value-${le}`,modelValue:w.value,"onUpdate:modelValue":_=>w.value=_,class:"w-full",placeholder:"–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ..."},null,8,["id","modelValue","onUpdate:modelValue"]))]))],64)):ae("",!0)])]))),128)),o("div",Xf,[V(d,{label:"–î–æ–±–∞–≤–∏—Ç—å —É—Å–ª–æ–≤–∏–µ",icon:"pi pi-plus",text:"",class:"w-full",onClick:t.addCondition})])]))]),_:1},8,["visible"]),V(A,{visible:t.nestedDialog.visible,"onUpdate:visible":e[17]||(e[17]=w=>t.nestedDialog.visible=w),header:t.nestedDialog.tableName||"–ü–æ–¥—á–∏–Ω—ë–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞",modal:!0,style:{width:"80vw",maxWidth:"1200px"},breakpoints:{"1200px":"90vw","640px":"98vw"},maximizable:!0,class:"nested-table-dialog"},{footer:ce(()=>[o("div",em,[V(d,{label:"–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å",icon:"pi pi-plus",onClick:t.createNestedRecord,outlined:""}),V(d,{label:"–ó–∞–∫—Ä—ã—Ç—å",onClick:e[16]||(e[16]=w=>t.nestedDialog.visible=!1)})])]),default:ce(()=>[t.nestedDialog.loading?(f(),I("div",Qf,[V(R),e[40]||(e[40]=o("p",{class:"mt-2 text-color-secondary"},"–ó–∞–≥—Ä—É–∑–∫–∞...",-1))])):t.nestedDialog.tableId?(f(),I("div",$f,[(f(),pe(P,{key:t.nestedDialog.tableId+"-"+t.nestedDialog.parentRowId,typeId:t.nestedDialog.tableId,database:t.database,parentId:t.nestedDialog.parentRowId,embedded:!0},null,8,["typeId","database","parentId"]))])):ae("",!0)]),_:1},8,["visible","header"]),V(A,{visible:t.directoryDialog.visible,"onUpdate:visible":e[19]||(e[19]=w=>t.directoryDialog.visible=w),header:t.directoryDialog.typeName||"–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫",modal:!0,style:{width:"80vw",maxWidth:"1200px"},breakpoints:{"1200px":"90vw","640px":"98vw"},maximizable:!0,class:"directory-table-dialog"},{footer:ce(()=>[V(d,{label:"–ó–∞–∫—Ä—ã—Ç—å",onClick:e[18]||(e[18]=w=>t.directoryDialog.visible=!1)})]),default:ce(()=>[t.directoryDialog.typeId?(f(),I("div",tm,[(f(),pe(P,{key:"dir-"+t.directoryDialog.typeId+"-"+t.directoryDialog.dirRowId,typeId:t.directoryDialog.typeId,database:t.database,filterId:t.directoryDialog.dirRowId,embedded:!0},null,8,["typeId","database","filterId"]))])):ae("",!0)]),_:1},8,["visible","header"]),V(A,{visible:t.showHelpDialog,"onUpdate:visible":e[21]||(e[21]=w=>t.showHelpDialog=w),header:"–°–ø—Ä–∞–≤–∫–∞ –ø–æ —Ç–∞–±–ª–∏—Ü–µ",modal:!0,style:{width:"800px",maxHeight:"90vh"},breakpoints:{"960px":"95vw"},class:"help-dialog"},{footer:ce(()=>[V(d,{label:"–ü–æ–Ω—è—Ç–Ω–æ",icon:"pi pi-check",onClick:e[20]||(e[20]=w=>t.showHelpDialog=!1)})]),default:ce(()=>[e[41]||(e[41]=o("div",{class:"help-content"},[o("div",{class:"help-section"},[o("div",{class:"help-section-header"},[o("i",{class:"pi pi-info-circle"}),o("h3",null,"–û–±–∑–æ—Ä")]),o("div",{class:"help-info-block"},[o("p",null,"–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ —Ä–∞–±–æ—Ç—ã —Å–æ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞–º–∏ –∏ –ø–æ–¥—á–∏–Ω—ë–Ω–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏).")])]),o("div",{class:"help-section"},[o("div",{class:"help-section-header"},[o("i",{class:"pi pi-arrows-alt"}),o("h3",null,"–ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –≤—ã–¥–µ–ª–µ–Ω–∏–µ")]),o("div",{class:"help-grid"},[o("div",{class:"help-card"},[o("div",{class:"help-card-icon"},"üñ±Ô∏è"),o("div",{class:"help-card-title"},"–ö–ª–∏–∫ –ø–æ —è—á–µ–π–∫–µ"),o("div",{class:"help-card-desc"},"–í—ã–¥–µ–ª—è–µ—Ç —è—á–µ–π–∫—É. –î–ª—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ –∏ –ø–æ–¥—á–∏–Ω—ë–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∏—Ö –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ.")]),o("div",{class:"help-card"},[o("div",{class:"help-card-icon"},"üëÜüëÜ"),o("div",{class:"help-card-title"},"–î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫"),o("div",{class:"help-card-desc"},"–í—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —è—á–µ–π–∫–∏ (–µ—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω —Ä–µ–∂–∏–º –¥–≤–æ–π–Ω–æ–≥–æ –∫–ª–∏–∫–∞).")]),o("div",{class:"help-card"},[o("div",{class:"help-card-icon"},"üî≤"),o("div",{class:"help-card-title"},"–í—ã–¥–µ–ª–µ–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞"),o("div",{class:"help-card-desc"},"–ó–∞–∂–º–∏—Ç–µ –º—ã—à—å –∏ –ø—Ä–æ–≤–µ–¥–∏—Ç–µ –ø–æ —è—á–µ–π–∫–∞–º –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è. –í–Ω–∏–∑—É –ø–æ—è–≤–∏—Ç—Å—è —Å—Ç–∞—Ç—É—Å-–±–∞—Ä —Å –∞–≥—Ä–µ–≥–∞—Ü–∏—è–º–∏ (—Å—É–º–º–∞, —Å—Ä–µ–¥–Ω–µ–µ, –º–∏–Ω/–º–∞–∫—Å).")])])]),o("div",{class:"help-section"},[o("div",{class:"help-section-header"},[o("i",{class:"pi pi-eye"}),o("h3",null,"–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä")]),o("div",{class:"help-info-block"},[o("h4",null,"–ù–∞–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫"),o("p",null,"–ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –∫—É—Ä—Å–æ—Ä–∞ –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ (—Å—Å—ã–ª–∫—É) –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∑–∞–ø–∏—Å–∏: –≤—Å–µ –ø–æ–ª—è, –≤–∫–ª—é—á–∞—è –ø–æ–¥—á–∏–Ω—ë–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ).")]),o("div",{class:"help-info-block mt-3"},[o("h4",null,"–ö–ª–∏–∫ –ø–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫—É"),o("p",null,"–û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏.")])]),o("div",{class:"help-section"},[o("div",{class:"help-section-header"},[o("i",{class:"pi pi-pencil"}),o("h3",null,"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ")]),o("div",{class:"help-grid"},[o("div",{class:"help-card"},[o("div",{class:"help-card-icon"},"‚úèÔ∏è"),o("div",{class:"help-card-title"},"–†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"),o("div",{class:"help-card-desc"},[ze("–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "),o("i",{class:"pi pi-pencil"}),ze(" –≤ —Ç—É–ª–±–∞—Ä–µ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏: –æ–¥–∏–Ω–∞—Ä–Ω—ã–π –∫–ª–∏–∫ / –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫.")])]),o("div",{class:"help-card"},[o("div",{class:"help-card-icon"},"üíæ"),o("div",{class:"help-card-title"},"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ"),o("div",{class:"help-card-desc"},[o("kbd",null,"Enter"),ze(" ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è."),o("br"),o("kbd",null,"Esc"),ze(" ‚Äî –æ—Ç–º–µ–Ω–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.")])]),o("div",{class:"help-card"},[o("div",{class:"help-card-icon"},"üü¢"),o("div",{class:"help-card-title"},"–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π"),o("div",{class:"help-card-desc"},"–ó–µ–ª—ë–Ω—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ –≤ —É–≥–ª—É —è—á–µ–π–∫–∏ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω–∞ –±—ã–ª–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –≤ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏.")])])]),o("div",{class:"help-section"},[o("div",{class:"help-section-header"},[o("i",{class:"pi pi-arrows-v"}),o("h3",null,"–ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ (–ø—Ä–æ—Ç—è–∂–∫–∞)")]),o("div",{class:"help-info-block"},[o("p",null,"–ü—Ä–∏ –≤—ã–¥–µ–ª–µ–Ω–∏–∏ —è—á–µ–π–∫–∏ –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É –ø–æ—è–≤–ª—è–µ—Ç—Å—è –º–∞—Ä–∫–µ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è (–º–∞–ª–µ–Ω—å–∫–∏–π –∫–≤–∞–¥—Ä–∞—Ç). –ü–æ—Ç—è–Ω–∏—Ç–µ –µ–≥–æ –≤–Ω–∏–∑ –∏–ª–∏ –≤–ø—Ä–∞–≤–æ –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è:"),o("ul",{class:"help-list"},[o("li",null,[o("strong",null,"–ß–∏—Å–ª–æ–≤—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:"),ze(" 1, 2, 3 ‚Üí 4, 5, 6...")]),o("li",null,[o("strong",null,"–î–Ω–∏ –Ω–µ–¥–µ–ª–∏:"),ze(" –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, –í—Ç–æ—Ä–Ω–∏–∫ ‚Üí –°—Ä–µ–¥–∞, –ß–µ—Ç–≤–µ—Ä–≥...")]),o("li",null,[o("strong",null,"–ú–µ—Å—è—Ü—ã:"),ze(" –Ø–Ω–≤–∞—Ä—å, –§–µ–≤—Ä–∞–ª—å ‚Üí –ú–∞—Ä—Ç, –ê–ø—Ä–µ–ª—å...")]),o("li",null,[o("strong",null,"–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:"),ze(" –æ–¥–∏–Ω–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤–æ –≤—Å–µ —è—á–µ–π–∫–∏")])])])]),o("div",{class:"help-section"},[o("div",{class:"help-section-header"},[o("i",{class:"pi pi-bars"}),o("h3",null,"–ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤")]),o("div",{class:"help-toolbar-grid"},[o("div",{class:"help-toolbar-item"},[o("i",{class:"pi pi-refresh"}),o("span",null,"–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ")]),o("div",{class:"help-toolbar-item"},[o("i",{class:"pi pi-pencil"}),o("span",null,"–†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è")]),o("div",{class:"help-toolbar-item"},[o("i",{class:"pi pi-filter"}),o("span",null,"–§–∏–ª—å—Ç—Ä—ã")]),o("div",{class:"help-toolbar-item"},[o("i",{class:"pi pi-check-square"}),o("span",null,"–†–µ–∂–∏–º –≤—ã–¥–µ–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∫")]),o("div",{class:"help-toolbar-item"},[o("i",{class:"pi pi-calculator"}),o("span",null,"–§—É—Ç–µ—Ä —Å –∞–≥—Ä–µ–≥–∞—Ü–∏—è–º–∏")]),o("div",{class:"help-toolbar-item"},[o("i",{class:"pi pi-eye-slash"}),o("span",null,"–í–∏–¥–∏–º–æ—Å—Ç—å –∫–æ–ª–æ–Ω–æ–∫")]),o("div",{class:"help-toolbar-item"},[o("i",{class:"pi pi-print"}),o("span",null,"–ü–µ—á–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã")]),o("div",{class:"help-toolbar-item"},[o("i",{class:"pi pi-file-excel"}),o("span",null,"–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel")]),o("div",{class:"help-toolbar-item"},[o("i",{class:"pi pi-file-pdf"}),o("span",null,"–≠–∫—Å–ø–æ—Ä—Ç –≤ PDF")]),o("div",{class:"help-toolbar-item"},[o("i",{class:"pi pi-cog"}),o("span",null,"–ù–∞—Å—Ç—Ä–æ–π–∫–∏")]),o("div",{class:"help-toolbar-item"},[o("i",{class:"pi pi-plus"}),o("span",null,"–ù–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞")]),o("div",{class:"help-toolbar-item"},[o("i",{class:"pi pi-plus-circle"}),o("span",null,"–ù–æ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞")])])]),o("div",{class:"help-section"},[o("div",{class:"help-section-header"},[o("i",{class:"pi pi-th-large"}),o("h3",null,"–ó–∞–≥–æ–ª–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫")]),o("div",{class:"help-grid"},[o("div",{class:"help-card"},[o("div",{class:"help-card-icon"},"‚ÜïÔ∏è"),o("div",{class:"help-card-title"},"–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞"),o("div",{class:"help-card-desc"},[ze("–ö–ª–∏–∫ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ. –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∫–ª–∏–∫ –º–µ–Ω—è–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ. "),o("kbd",null,"Ctrl"),ze("+–∫–ª–∏–∫ –¥–ª—è –º—É–ª—å—Ç–∏—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏.")])]),o("div",{class:"help-card"},[o("div",{class:"help-card-icon"},"‚ÜîÔ∏è"),o("div",{class:"help-card-title"},"–ò–∑–º–µ–Ω–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã"),o("div",{class:"help-card-desc"},"–ü–æ—Ç—è–Ω–∏—Ç–µ –≥—Ä–∞–Ω–∏—Ü—É –º–µ–∂–¥—É –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã –∫–æ–ª–æ–Ω–∫–∏.")]),o("div",{class:"help-card"},[o("div",{class:"help-card-icon"},"üìå"),o("div",{class:"help-card-title"},"–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ"),o("div",{class:"help-card-desc"},'–ü–ö–ú –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É ‚Üí "–ó–∞–∫—Ä–µ–ø–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É". –ó–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤–∏–¥–∏–º—ã –ø—Ä–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–µ.')])])]),o("div",{class:"help-section"},[o("div",{class:"help-section-header"},[o("i",{class:"pi pi-list"}),o("h3",null,"–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é (–ü–ö–ú)")]),o("div",{class:"help-info-block"},[o("h4",null,"–ü–æ –∑–∞–≥–æ–ª–æ–≤–∫—É –∫–æ–ª–æ–Ω–∫–∏"),o("ul",{class:"help-list"},[o("li",null,"–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é / —É–±—ã–≤–∞–Ω–∏—é"),o("li",null,"–ó–∞–∫—Ä–µ–ø–∏—Ç—å / –æ—Ç–∫—Ä–µ–ø–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É"),o("li",null,"–ü–æ–∫–∞–∑–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã (–≤—ã–¥–µ–ª—è–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏—è —Ü–≤–µ—Ç–æ–º)"),o("li",null,"–°–∫—Ä—ã—Ç—å –∫–æ–ª–æ–Ω–∫—É")])]),o("div",{class:"help-info-block mt-3"},[o("h4",null,"–ü–æ —Å—Ç—Ä–æ–∫–µ"),o("ul",{class:"help-list"},[o("li",null,"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É (—Ñ–æ—Ä–º–∞ —Å–æ –≤—Å–µ–º–∏ –ø–æ–ª—è–º–∏)"),o("li",null,"–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤–≤–µ—Ä—Ö (–∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫)"),o("li",null,"–ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—è (–¥–ª—è –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü)"),o("li",null,"–£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É")])])]),o("div",{class:"help-section"},[o("div",{class:"help-section-header"},[o("i",{class:"pi pi-key"}),o("h3",null,"–ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏")]),o("div",{class:"help-shortcuts"},[o("div",{class:"help-shortcut"},[o("kbd",null,"Enter"),o("span",null,"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ")]),o("div",{class:"help-shortcut"},[o("kbd",null,"Esc"),o("span",null,"–û—Ç–º–µ–Ω–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ")]),o("div",{class:"help-shortcut"},[o("kbd",null,"F3"),o("span",null,"–°–ª–µ–¥—É—é—â–µ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞")]),o("div",{class:"help-shortcut"},[o("kbd",null,"Shift"),ze(" + "),o("kbd",null,"F3"),o("span",null,"–ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞")]),o("div",{class:"help-shortcut"},[o("kbd",null,"Ctrl"),ze(" + –∫–ª–∏–∫ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É "),o("span",null,"–ú—É–ª—å—Ç–∏—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞")])])]),o("div",{class:"help-section"},[o("div",{class:"help-section-header"},[o("i",{class:"pi pi-copy"}),o("h3",null,"–ü–æ–∏—Å–∫ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤")]),o("div",{class:"help-info-block"},[o("p",null,'–ü–ö–ú –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É –∫–æ–ª–æ–Ω–∫–∏ ‚Üí "–ü–æ–∫–∞–∑–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã". –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –±—É–¥—É—Ç –≤—ã–¥–µ–ª–µ–Ω—ã —Ä–∞–∑–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏ (–∫–∞–∂–¥–∞—è –≥—Ä—É–ø–ø–∞ —Å–≤–æ–∏–º —Ü–≤–µ—Ç–æ–º). –í –ø–æ–¥—Å–∫–∞–∑–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π.')])])],-1))]),_:1},8,["visible"]),V(A,{visible:t.showSettingsDialog,"onUpdate:visible":e[30]||(e[30]=w=>t.showSettingsDialog=w),header:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–±–ª–∏—Ü—ã",modal:!0,style:{width:"600px",maxHeight:"90vh"},breakpoints:{"960px":"95vw"},class:"settings-dialog"},{footer:ce(()=>[V(d,{label:"–ì–æ—Ç–æ–≤–æ",icon:"pi pi-check",onClick:e[29]||(e[29]=w=>t.showSettingsDialog=!1)})]),default:ce(()=>[o("div",nm,[o("div",im,[e[45]||(e[45]=o("div",{class:"settings-section-header"},[o("i",{class:"pi pi-download"}),o("h3",null,"–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö")],-1)),o("div",lm,[o("div",am,[V(t.Checkbox,{modelValue:t.settings.autoLoadAll,"onUpdate:modelValue":e[22]||(e[22]=w=>t.settings.autoLoadAll=w),inputId:"settingsAutoLoadCheckbox",binary:"",onChange:e[23]||(e[23]=w=>t.toggleAutoLoad(t.settings.autoLoadAll))},null,8,["modelValue"]),e[42]||(e[42]=o("div",{class:"settings-option-content"},[o("label",{for:"settingsAutoLoadCheckbox",class:"settings-option-label"}," –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ "),o("small",{class:"settings-option-desc"}," –ó–∞–≥—Ä—É–∑–∏—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã –≤ —Ñ–æ–Ω–µ. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ –≤—Å–µ–º –∑–∞–ø–∏—Å—è–º. ")],-1))]),o("div",om,[V(t.Checkbox,{modelValue:t.settings.autoLoadDirs,"onUpdate:modelValue":e[24]||(e[24]=w=>t.settings.autoLoadDirs=w),inputId:"settingsAutoLoadDirsCheckbox",binary:"",onChange:e[25]||(e[25]=w=>t.toggleAutoLoadDirs(t.settings.autoLoadDirs))},null,8,["modelValue"]),e[43]||(e[43]=o("div",{class:"settings-option-content"},[o("label",{for:"settingsAutoLoadDirsCheckbox",class:"settings-option-label"}," –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ "),o("small",{class:"settings-option-desc"}," –ó–∞–≥—Ä—É–∑–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤—Å–µ—Ö —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 500–º—Å –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏. ")],-1))]),o("div",rm,[e[44]||(e[44]=o("i",{class:"pi pi-info-circle"},null,-1)),o("span",null,"–î–ª—è —Ç–∞–±–ª–∏—Ü > "+te(t.settings.maxAutoLoadSize.toLocaleString())+" –∑–∞–ø–∏—Å–µ–π –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞.",1)])])]),o("div",sm,[e[49]||(e[49]=o("div",{class:"settings-section-header"},[o("i",{class:"pi pi-calendar"}),o("h3",null,"–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞—Ç")],-1)),o("div",dm,[o("div",{class:we(["date-style-card",{active:t.settings.dateStyle==="classic"}]),onClick:e[26]||(e[26]=w=>t.setDateStyle("classic"))},[...e[46]||(e[46]=[o("div",{class:"date-style-preview classic"},[o("span",{class:"date-dir-preview"},"18.12.2024")],-1),o("div",{class:"date-style-name"},"–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π",-1),o("div",{class:"date-style-desc"},"–°—Ç–∏–ª—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞",-1)])],2),o("div",{class:we(["date-style-card",{active:t.settings.dateStyle==="relative"}]),onClick:e[27]||(e[27]=w=>t.setDateStyle("relative"))},[...e[47]||(e[47]=[o("div",{class:"date-style-preview relative"},[o("span",{class:"date-dir-preview today"},"–°–µ–≥–æ–¥–Ω—è")],-1),o("div",{class:"date-style-name"},"–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π",-1),o("div",{class:"date-style-desc"},"–°—Ç–∏–ª—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ + –æ—Ç–Ω–æ—Å–∏—Ç.",-1)])],2),o("div",{class:we(["date-style-card",{active:t.settings.dateStyle==="pill"}]),onClick:e[28]||(e[28]=w=>t.setDateStyle("pill"))},[...e[48]||(e[48]=[o("div",{class:"date-style-preview pill"},[o("span",{class:"date-nested-preview"},"–°–µ–≥–æ–¥–Ω—è")],-1),o("div",{class:"date-style-name"},"–ö–∞–ø—Å—É–ª–∞",-1),o("div",{class:"date-style-desc"},"–ö–∞–∫ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã",-1)])],2)])])])]),_:1},8,["visible"])],2)}const Cm=dn(tf,[["render",um],["__scopeId","data-v-aaba5eb5"],["__file","/home/hive/integram-standalone/src/components/integram/IntegramDataTableWrapper.vue"]]);export{Cm as default};
