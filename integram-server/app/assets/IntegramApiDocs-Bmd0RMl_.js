import{_ as ys,y as v,u as vs,c as y,A as t,w as o,D as X,d as x,I as q,J as Y,o as u,a as s,b as C,j as _,F as z,r as F,h as B,g as w,t as r,f as e,v as D}from"./index-B4X-KBPT.js";import{i as L}from"./integramApiClient-C3_j8SPw.js";import{I as _s}from"./IntegramBreadcrumb-DHI3pYG8.js";import"./index-B9ygI19o.js";import"./unifiedAuthService-xCuNj-Bd.js";const gs={__name:"IntegramApiDocs",setup(W,{expose:a}){a();const S=X(),l=x(""),j=x("all"),N=x("all"),k=x({}),h=x({overview:!0,commands:!0,mcp:!1,dataModel:!1,types:!1,examples:!1,playground:!1}),g=q(()=>L.isAuthenticated()),J=q(()=>L.getDatabase()),R=q(()=>[{label:"API Документация",icon:"pi pi-book"}]),K=[{name:"Все",value:"all"},{name:"DDL",value:"ddl"},{name:"DML",value:"dml"},{name:"Query",value:"query"},{name:"Auth",value:"auth"},{name:"Files",value:"files"}],p=x({method:"GET",endpoint:"dict",params:[{key:"",value:"",enabled:!0}]}),b=x(!1),m=x(null),U=[{cmd:"_d_new",method:"post",category:"ddl",subcategory:"Типы (таблицы)",description:"Создать новый тип (таблицу)",detailedDescription:"Создает новый тип данных (таблицу) в базе. Тип определяет структуру для хранения объектов. После создания типа к нему можно добавлять реквизиты (колонки) через _d_req.",params:`val — название типа (строка)
t — ID базового типа (0=базовый, 3=стандартный)
unique — уникальность первого поля (0/1)`,exampleUrl:"_d_new?JSON_KV",exampleBody:{val:"Товары",t:3,unique:0},exampleResponse:{obj:12345,msg:null}},{cmd:"_d_save/{id}",method:"post",category:"ddl",description:"Сохранить изменения типа",detailedDescription:"Обновляет свойства существующего типа: название, базовый тип, флаг уникальности. Используется для переименования таблиц или изменения их базовых настроек.",params:`{id} — ID типа в URL
val — новое название типа
t — ID базового типа
unique — уникальность (0/1)`,exampleUrl:"_d_save/12345?JSON_KV",exampleBody:{val:"Товары (обновлено)",unique:0},exampleResponse:{ok:!0,msg:null}},{cmd:"_d_del/{id}",method:"post",category:"ddl",description:"Удалить тип и все его объекты",detailedDescription:"Удаляет тип (таблицу) и все связанные с ним объекты, реквизиты и данные. Операция необратима, будьте осторожны! Каскадно удаляются все записи этого типа.",params:"{id} — ID удаляемого типа в URL",exampleUrl:"_d_del/12345?JSON_KV",exampleResponse:{ok:!0,msg:null}},{cmd:"_d_req/{typeId}",method:"post",category:"ddl",description:"Добавить реквизит (колонку) к типу",detailedDescription:"Добавляет новый реквизит (колонку) к существующему типу. После добавления реквизита обязательно установите его псевдоним через _d_alias.",params:`{typeId} — ID типа в URL
t — ID типа реквизита:
  2=LONG, 3=SHORT, 4=DATETIME,
  7=BOOL, 8=CHARS, 13=NUMBER`,exampleUrl:"_d_req/12345?JSON_KV",exampleBody:{t:13},exampleResponse:{id:12346,msg:null}},{cmd:"_d_del_req/{id}",method:"post",category:"ddl",description:"Удалить реквизит из типа",params:"{id} — ID реквизита в URL"},{cmd:"_d_alias/{id}",method:"post",category:"ddl",description:"Установить псевдоним (alias) реквизита",detailedDescription:"Устанавливает человекочитаемое имя для реквизита. Псевдоним отображается в интерфейсе как название колонки. Обязательно вызывайте после добавления реквизита через _d_req.",params:`{id} — ID реквизита в URL
val — текст псевдонима (например "Цена")`,exampleUrl:"_d_alias/12346?JSON_KV",exampleBody:{val:"Цена"},exampleResponse:{ok:!0,msg:null}},{cmd:"_d_attrs/{id}",method:"post",category:"ddl",description:"Установить значение по умолчанию",params:`{id} — ID реквизита в URL
val — значение по умолчанию
  Макросы: [TODAY], [NOW], [USER_ID]`},{cmd:"_d_null/{id}",method:"post",category:"ddl",description:"Переключить флаг NOT NULL",params:`{id} — ID реквизита в URL
(toggle: вкл→выкл, выкл→вкл)`},{cmd:"_d_multi/{id}",method:"post",category:"ddl",description:"Переключить режим мультивыбора",params:`{id} — ID реквизита в URL
(для ссылочных полей: один→много)`},{cmd:"_d_up/{id}",method:"post",category:"ddl",description:"Переместить реквизит вверх в списке",params:"{id} — ID реквизита в URL"},{cmd:"_d_ord/{id}",method:"post",category:"ddl",description:"Установить порядок реквизита",params:`{id} — ID реквизита в URL
order — числовой порядок (0, 1, 2...)`},{cmd:"_d_ref/{id}",method:"post",category:"ddl",description:"Создать ссылку на тип (reference)",params:`{id} — ID типа в URL
Создаёт ссылочный реквизит на указанный тип`}],P=[{cmd:"_m_new/{typeId}",method:"post",category:"dml",description:"Создать новый объект (запись)",detailedDescription:"Создает новый объект (запись) указанного типа. Параметр up=1 означает независимый объект (подчинен ROOT). Значения реквизитов передаются как t{reqId}=значение.",params:`{typeId} — ID типа в URL
t{typeId} — значение главного поля
t{reqId} — значения реквизитов
up — ID родителя (0 или 1 для независимых)`,exampleUrl:"_m_new/12345?JSON_KV",exampleBody:{t12345:"Товар 1",t12346:"1500",up:1},exampleResponse:{obj:99999,msg:null}},{cmd:"_m_save/{id}",method:"post",category:"dml",description:"Сохранить объект целиком",detailedDescription:"Сохраняет объект с указанием всех реквизитов. В отличие от _m_set, требует передачи всех полей объекта, даже если они не изменились. Для обновления отдельных полей рекомендуется использовать _m_set.",params:`{id} — ID объекта в URL
t{typeId} — новое значение главного поля
t{reqId} — значения реквизитов`,exampleUrl:"_m_save/99999?JSON_KV",exampleBody:{t12345:"Товар 1 (обновлено)",t12346:"2500"},exampleResponse:{ok:!0,msg:null}},{cmd:"_m_set/{id}",method:"post",category:"dml",description:"Обновить только указанные реквизиты (рекомендуется)",detailedDescription:"Обновляет только указанные реквизиты объекта, не затрагивая остальные поля. Это предпочтительный способ обновления данных, так как не требует передачи всех полей объекта.",params:`{id} — ID объекта в URL
t{reqId} — значения реквизитов
(только переданные поля обновятся)`,exampleUrl:"_m_set/99999?JSON_KV",exampleBody:{t12346:"2000"},exampleResponse:{ok:!0,msg:null}},{cmd:"_m_del/{id}",method:"post",category:"dml",description:"Удалить объект",detailedDescription:"Удаляет объект по его ID. Все связанные подчиненные объекты также будут удалены каскадно. Операция необратима.",params:"{id} — ID удаляемого объекта в URL",exampleUrl:"_m_del/99999?JSON_KV",exampleResponse:{ok:!0,msg:null}},{cmd:"_m_up/{id}",method:"post",category:"dml",description:"Переместить объект вверх в списке",params:"{id} — ID объекта в URL"},{cmd:"_m_move/{id}",method:"post",category:"dml",description:"Переместить к другому родителю",params:`{id} — ID объекта в URL
up — ID нового родительского объекта`},{cmd:"_m_ord/{id}",method:"post",category:"dml",description:"Установить порядок объекта",params:`{id} — ID объекта в URL
order — числовой порядок (0, 1, 2...)`},{cmd:"_m_id/{id}",method:"post",category:"dml",description:"Изменить ID объекта",params:`{id} — текущий ID объекта в URL
new_id — новый ID объекта`}],M=[{cmd:"dict",method:"get",category:"query",description:"Получить список всех типов (справочник)",detailedDescription:"Возвращает список всех типов (таблиц) в базе данных. Используйте для получения списка доступных таблиц и их ID перед работой с данными.",params:`(без параметров)
Возвращает: types[], объекты с id, name, up`,exampleUrl:"dict?JSON_KV",exampleResponse:{types:[{id:"18",name:"Пользователь",up:"0"},{id:"42",name:"Роль",up:"0"},{id:"12345",name:"Товары",up:"0"}]}},{cmd:"metadata/{id}",method:"get",category:"query",description:"Получить метаданные типа",detailedDescription:"Возвращает подробную информацию о структуре типа: список реквизитов, их типы, псевдонимы, ограничения, значения по умолчанию. Необходимо для понимания структуры данных перед чтением или записью объектов.",params:`{id} — ID типа в URL
Возвращает: реквизиты, их типы, alias'ы`,exampleUrl:"metadata/12345?JSON_KV",exampleResponse:{id:"12345",val:"Товары",type:"3",unique:"0",reqs:[{num:1,id:"12346",val:"Цена",type:"13",attrs:":!NULL:"}]}},{cmd:"object/{typeId}",method:"get",category:"query",description:"Получить список объектов типа",detailedDescription:"Возвращает список объектов (записей) указанного типа с их реквизитами. Поддерживает пагинацию, фильтрацию и сортировку. Основная команда для чтения данных из таблиц.",params:`{typeId} — ID типа в URL
LIMIT — макс. кол-во записей (по умолч. 50)
pg — номер страницы (начиная с 1)
F_{reqId} — фильтр по реквизиту
sort — сортировка (reqId или -reqId)
POST: _m_del_select — удалить все по фильтру`,exampleUrl:"object/12345?JSON_KV&LIMIT=10&pg=1",exampleResponse:{type:{id:"12345",val:"Товары"},object:[{id:"99999",up:"1",val:"Товар 1"},{id:"99998",up:"1",val:"Товар 2"}],reqs:{99999:{12346:"1500"},99998:{12346:"2000"}}}},{cmd:"edit_obj/{id}",method:"get",category:"query",description:"Получить данные объекта для редактирования",detailedDescription:"Возвращает полную информацию об объекте для редактирования: основные поля, значения всех реквизитов, информацию о ссылочных полях (reference) и доступные опции для выпадающих списков. Используется перед обновлением объекта.",params:`{id} — ID объекта в URL
Возвращает: obj{}, reqs{}, ref-данные`,exampleUrl:"edit_obj/99999?JSON_KV",exampleResponse:{obj:{id:"99999",val:"Товар 1",typ:"12345",parent:"1"},reqs:{12346:{type:"13",value:"1500",ref:null}}}},{cmd:"edit_types",method:"get",category:"query",description:"Получить данные редактора типов",params:`(без параметров)
Возвращает: baseTypes, requisiteTypes`},{cmd:"report/{id}",method:"get",category:"query",description:"Выполнить отчёт (запрос)",params:`{id} — ID отчёта в URL
p{reqId} — параметры отчёта
LIMIT — лимит записей
pg — номер страницы
POST: _m_confirmed — выполнить изменения`},{cmd:"xsrf",method:"get",category:"query",description:"Получить информацию о сессии",params:`(без параметров)
Возвращает: xsrf token, user info, permissions`},{cmd:"_ref_reqs/{reqId}",method:"get",category:"query",description:"Получить опции для выпадающего списка",detailedDescription:"Возвращает список доступных значений для ссылочного (reference) поля. Используется для формирования выпадающих списков в UI. Поддерживает фильтрацию по поисковому запросу и ограничение по родительскому объекту.",params:`{reqId} — ID ссылочного реквизита
id — ID редактируемого объекта
r — ограничение (restrict)
q — поисковый запрос (фильтр)`,exampleUrl:"_ref_reqs/12347?JSON_KV&id=99999&q=Кат",exampleResponse:{options:[{id:"101",val:"Категория 1"},{id:"102",val:"Категория 2"}]}},{cmd:"obj_meta/{id}",method:"get",category:"query",description:"Получить метаданные объекта",params:`{id} — ID объекта в URL
Возвращает: type, parent, created, modified`},{cmd:"report/{id}",method:"get",category:"query",description:"Получить данные выполненного отчёта",detailedDescription:"Возвращает результаты выполнения отчёта (запроса). POST с параметром _m_confirmed выполняет изменения запроса.",params:`{id} — ID отчёта в URL
_m_confirmed — выполнить изменения (для POST)
Возвращает: данные выполненного запроса`,exampleUrl:"report/12345?JSON_KV"},{cmd:"edit_obj/{id}",method:"get",category:"query",description:"Данные для формы редактирования объекта",params:`{id} — ID объекта в URL
Возвращает: данные для построения формы редактирования`},{cmd:"edit_types",method:"get",category:"query",description:"Данные для Редактора типов",params:`(без параметров)
Возвращает: данные для редактора типов (структура БД)`},{cmd:"xsrf",method:"get",category:"query",description:"Получить информацию о текущей сессии",params:`(без параметров)
Возвращает: _xsrf, token, user, role, id`,exampleUrl:"xsrf?JSON_KV",exampleResponse:{_xsrf:"2ae0f4375dabb5",token:"b4ad9d6b31a7c82972ef1b2",user:"admin",role:"admin",id:"130152"}}],A=[{cmd:"auth",method:"post",category:"auth",description:"Авторизация по логину и паролю",detailedDescription:"Выполняет аутентификацию пользователя по логину и паролю. При успешной авторизации создается сессия и возвращается XSRF токен. Сессия сохраняется в HTTP-only cookie для последующих запросов.",params:`login — имя пользователя
pwd — пароль
Возвращает: session cookie, xsrf token`,exampleUrl:"auth?JSON_KV",exampleBody:{login:"d",pwd:"d"},exampleResponse:{xsrf:"abc123def456",user:{id:"285",name:"Администратор"}}},{cmd:"jwt",method:"post",category:"auth",description:"Авторизация по JWT токену",params:`jwt — JSON Web Token
(используется для SSO и API-интеграций)`},{cmd:"getcode",method:"post",category:"auth",description:"Запросить OTP код на email/телефон",params:`u — email или телефон пользователя
(код отправляется на указанный адрес)`},{cmd:"checkcode",method:"post",category:"auth",description:"Проверить OTP код",params:`u — email или телефон
c — код подтверждения (6 цифр)`},{cmd:"exit",method:"post",category:"auth",description:"Выход из системы",params:`(без параметров)
Удаляет session cookie`}],V=[{cmd:"dir_admin",method:"get",category:"files",description:"Получить список файлов в директории",params:`path — путь к директории
  "" = корневая директория
  "folder/" = подпапка
Возвращает: files[], folders[]`},{cmd:"dir_admin",method:"post",category:"files",description:"Загрузить файл на сервер",params:`file — файл (multipart/form-data)
path — путь назначения
  "" = корневая директория`},{cmd:"backup",method:"post",category:"files",description:"Создать резервную копию БД",detailedDescription:"Создает полную резервную копию текущей базы данных в формате .zip архива. Включает все типы, объекты, реквизиты и файлы. Рекомендуется выполнять регулярные бэкапы перед серьезными изменениями в структуре данных.",params:`(без параметров)
Создаёт .zip архив всей базы данных`,exampleUrl:"backup?JSON_KV",exampleResponse:{ok:!0,file:"backup_20250115_143000.zip",size:1048576}},{cmd:"_new_db",method:"post",category:"files",description:"Создать новую базу данных",params:`name — имя базы (3-15 символов, a-z0-9)
template — шаблон:
  "ru" = русский
  "en" = английский
  "{db}" = клонировать из БД`}],f={_d_new:"Типы",_d_save:"Типы",_d_del:"Типы",_d_req:"Реквизиты",_d_del_req:"Реквизиты",_d_alias:"Реквизиты",_d_attrs:"Реквизиты",_d_null:"Реквизиты",_d_multi:"Реквизиты",_d_up:"Реквизиты",_d_ref:"Реквизиты",_m_new:"Создание",_m_save:"Изменение",_m_set:"Изменение",_m_up:"Изменение",_m_move:"Изменение",_m_del:"Удаление",dict:"Метаданные",metadata:"Метаданные",edit_types:"Метаданные",object:"Объекты",edit_obj:"Объекты",obj_meta:"Объекты",report:"Отчёты",_ref_reqs:"Справочники",xsrf:"Сессия",auth:"Авторизация",dir_admin:"Файлы",backup:"Резервные копии",_new_db:"Резервные копии"},n=q(()=>[...U,...P,...M,...A,...V].map(i=>({...i,subcategory:f[i.cmd.split("/")[0]]||f[i.cmd]||"Прочее"}))),T=q(()=>{let c=n.value;return j.value!=="all"&&(c=c.filter(d=>d.category===j.value)),[...new Set(c.map(d=>d.subcategory).filter(Boolean))].sort()}),I=q(()=>{let c=n.value;if(j.value!=="all"&&(c=c.filter(i=>i.category===j.value)),N.value!=="all"&&(c=c.filter(i=>i.subcategory===N.value)),l.value){const i=l.value.toLowerCase();c=c.filter(d=>d.cmd.toLowerCase().includes(i)||d.description.toLowerCase().includes(i)||d.params.toLowerCase().includes(i))}return c}),G=[{name:"integram_authenticate",category:"auth",description:"Авторизация в Integram",params:`serverURL — URL сервера (https://dronedoc.ru)
database — имя БД (a2025, my)
login — имя пользователя
password — пароль`},{name:"integram_set_context",category:"auth",description:"Установить контекст из существующей сессии",params:`serverURL — URL сервера
database — имя БД
token — session token
xsrfToken — XSRF токен`},{name:"integram_create_type",category:"ddl",description:"Создать новый тип (таблицу)",params:`name — название типа (рус.)
baseTypeId — базовый тип (по умолч. 3)
unique — уникальность (false)`},{name:"integram_save_type",category:"ddl",description:"Сохранить изменения типа",params:`typeId — ID типа
name — новое название
baseTypeId — базовый тип`},{name:"integram_delete_type",category:"ddl",description:"Удалить тип и все объекты",params:"typeId — ID удаляемого типа"},{name:"integram_add_requisite",category:"ddl",description:"Добавить реквизит (колонку)",params:`typeId — ID типа-владельца
requisiteTypeId — тип реквизита:
  3=SHORT, 2=LONG, 13=NUMBER,
  4=DATETIME, 7=BOOL, 8=CHARS`},{name:"integram_delete_requisite",category:"ddl",description:"Удалить реквизит",params:"requisiteId — ID реквизита"},{name:"integram_save_requisite_alias",category:"ddl",description:"Установить псевдоним реквизита",params:`requisiteId — ID реквизита
alias — текст псевдонима ("Цена")`},{name:"integram_rename_requisite",category:"ddl",description:"Переименовать реквизит (изменить название И тип)",params:`requisiteId — ID реквизита
name — новое название
typeId — новый тип реквизита (3, 13, и т.д.)`},{name:"integram_toggle_requisite_null",category:"ddl",description:"Переключить NOT NULL",params:`requisiteId — ID реквизита
(toggle: вкл↔выкл)`},{name:"integram_toggle_requisite_multi",category:"ddl",description:"Переключить мультивыбор",params:`requisiteId — ID реквизита
(для ссылочных: один↔много)`},{name:"integram_modify_requisite_attributes",category:"ddl",description:"Массовая модификация attrs реквизита",params:`requisiteId — ID реквизита
alias — псевдоним (опц.)
setNull — установить NOT NULL (опц.)
multi — установить MULTI (опц.)`},{name:"integram_set_requisite_order",category:"ddl",description:"Установить порядок реквизита",params:`requisiteId — ID реквизита
order — числовой порядок (0, 1, 2...)`},{name:"integram_create_object",category:"dml",description:"Создать новый объект (запись)",params:`typeId — ID типа
value — значение главного поля
parentId — ID родителя (опц.)
requisites — {reqId: value} (опц.)`},{name:"integram_save_object",category:"dml",description:"Сохранить объект целиком",params:`objectId — ID объекта
typeId — ID типа
value — новое значение
requisites — {reqId: value}`},{name:"integram_set_object_requisites",category:"dml",description:"Обновить реквизиты объекта (рекомендуется)",params:`objectId — ID объекта
requisites — {reqId: value}
(обновляет только переданные)`},{name:"integram_delete_object",category:"dml",description:"Удалить объект",params:"objectId — ID объекта"},{name:"integram_move_object_up",category:"dml",description:"Переместить объект вверх в списке",params:`objectId — ID объекта
(изменяет ord, перемещая на позицию выше)`},{name:"integram_move_object_to_parent",category:"dml",description:"Переместить к другому родителю",params:`objectId — ID объекта
newParentId — ID нового родителя`},{name:"integram_set_object_order",category:"dml",description:"Установить порядок объекта",params:`objectId — ID объекта
order — числовой порядок (0, 1, 2...)`},{name:"integram_set_object_id",category:"dml",description:"Изменить ID объекта",params:`objectId — текущий ID объекта
newId — новый ID объекта`},{name:"integram_get_dictionary",category:"query",description:"Получить список типов",params:`(без параметров)
Возвращает: types[] с id, name, up`},{name:"integram_get_type_metadata",category:"query",description:"Получить метаданные типа",params:`typeId — ID типа
Возвращает: requisites[], name, base`},{name:"integram_get_all_types_metadata",category:"query",description:"Получить метаданные всех типов сразу",params:`(без параметров)
Возвращает: массив типов с requisites`},{name:"integram_get_object_list",category:"query",description:"Получить список объектов",params:`typeId — ID типа
params — { LIMIT, pg, sort, F_{reqId} }`},{name:"integram_get_all_objects",category:"query",description:"Получить ВСЕ объекты (с автопагинацией)",params:`typeId — ID типа
pageSize — размер страницы (100)
maxPages — макс. страниц (50)`},{name:"integram_get_object_count",category:"query",description:"Подсчитать объекты в таблице (быстро)",params:`typeId — ID типа
(без загрузки данных, только счетчик)`},{name:"integram_get_object_edit_data",category:"query",description:"Получить данные объекта для редактирования",params:`objectId — ID объекта
Возвращает: obj, reqs, ref-данные`},{name:"integram_get_object_meta",category:"query",description:"Получить метаданные объекта",params:`objectId — ID объекта
Возвращает: type, parent, created, modified`},{name:"integram_get_type_editor_data",category:"query",description:"Получить данные редактора типов",params:`(без параметров)
Возвращает: baseTypeOptions, requisiteTypes`},{name:"integram_get_reference_options",category:"query",description:"Получить опции для выпадающего списка",params:`requisiteId — ID ссылочного реквизита
objectId — ID редактируемого объекта
query — поисковый запрос (опц.)
restrict — ограничение (опц.)`},{name:"integram_get_ref_reqs",category:"query",description:"Альтернативный метод для reference options",params:`requisiteId — ID ссылочного реквизита
limit — макс. кол-во опций (100)
query — поисковый запрос (опц.)`},{name:"integram_get_multiselect_items",category:"query",description:"Получить элементы multiselect поля",params:`objectId — ID объекта
requisiteId — ID multiselect реквизита
Возвращает: [{id, value}]`},{name:"integram_get_dir_admin",category:"query",description:"Получить содержимое директории",params:`path — путь к директории (по умолч. "")
Возвращает: files[], folders[]`},{name:"integram_get_schema",category:"query",description:"Получить компактную схему БД для AI",params:`filter — фильтр по имени таблицы
includeSystemTables — включить системные
Формат: [{id, name, fields: [{id, name, type, ref}]}]`},{name:"integram_create_table_with_columns",category:"high",description:"Создать таблицу с колонками (всё сразу)",params:`tableName — название таблицы
columns — [{ alias, requisiteTypeId,
  allowNull?, multiSelect? }]
parentTableId — для подчинённых`},{name:"integram_create_lookup_table",category:"high",description:"Создать справочник со значениями",params:`tableName — название справочника
values — ["Знач1", "Знач2", ...]
unique — уникальность (true)`},{name:"integram_add_reference_column",category:"high",description:"Добавить ссылочную колонку",params:`typeId — ID целевой таблицы
referenceTableId — ID справочника
alias — название колонки
multiSelect — множ. выбор (false)
allowNull — разрешить NULL (true)`},{name:"integram_create_lookup_with_reference",category:"high",description:"Создать lookup + добавить как reference колонку",params:`targetTableId — ID таблицы для колонки
lookupTableName — название справочника
values — ["Знач1", "Знач2", ...] (опц.)
columnAlias — название колонки (опц.)
multiSelect — множ. выбор (false)`},{name:"integram_execute_connector",category:"high",description:"Выполнить внешний коннектор (_connect)",params:`objectId — ID объекта с CONNECT реквизитом
params — параметры запроса (опц.)
(используется как прокси к внешним API)`},{name:"integram_create_backup",category:"high",description:"Создать резервную копию БД",params:`(без параметров)
Создаёт .zip архив всей базы данных`},{name:"integram_create_database",category:"high",description:"Создать новую базу данных",params:`dbName — имя БД (3-15 символов, a-z0-9)
template — шаблон: "ru", "en", или БД для клонирования
description — описание (опц.)`},{name:"integram_delete_table_cascade",category:"structure",description:"Удалить таблицу и все данные (каскадно)",params:`typeId — ID типа для удаления
confirm — подтверждение (true)
ВНИМАНИЕ: Удаляет тип и все объекты!`},{name:"integram_get_table_structure",category:"structure",description:"Получить полную структуру таблицы",params:`typeId — ID типа
Возвращает: metadata, columns, stats`},{name:"integram_clone_table_structure",category:"structure",description:"Клонировать структуру таблицы",params:`sourceTypeId — ID исходного типа
newTableName — название новой таблицы
baseTypeId — базовый тип (3)`},{name:"integram_rename_table",category:"structure",description:"Переименовать существующую таблицу",params:`typeId — ID типа
newName — новое название таблицы`},{name:"integram_add_columns_to_table",category:"structure",description:"Массово добавить колонки к таблице",params:`typeId — ID типа
columns — [{ alias, requisiteTypeId,
  allowNull?, multiSelect? }]`},{name:"integram_create_objects_batch",category:"batch",description:"Массовое создание объектов",params:`typeId — ID типа
objects — [{ value, requisites }]
parentId — ID родителя (опц.)
Возвращает: массив созданных ID`},{name:"integram_create_parent_with_children",category:"batch",description:"Создать родителя с подчинёнными объектами",params:`parentTypeId — ID типа родителя
parentValue — значение родителя
parentRequisites — реквизиты родителя
childTypeId — ID типа детей
children — [{ value, requisites }]`},{name:"integram_add_multiselect_item",category:"multiselect",description:"Добавить элемент в multiselect поле",params:`objectId — ID объекта
requisiteId — ID multiselect реквизита
value — ID элемента для добавления`},{name:"integram_remove_multiselect_item",category:"multiselect",description:"Удалить элемент из multiselect поля",params:`itemId — ID элемента multiselect
(НЕ objectId, а ID связи!)`},{name:"integram_smart_query",category:"query",description:"Выполнить SQL-подобный запрос",params:`tables — [{id, alias}]
columns — [{field, name, total?, groupBy?}]
where — условие (MySQL синтаксис)
orderBy — сортировка
limit — лимит записей (100)`},{name:"integram_natural_query",category:"query",description:"Запрос на естественном языке",params:`question — вопрос на русском
  "Покажи всех клиентов"
  "Сколько заказов в статусе Новый?"
targetTable — ID таблицы (опц.)`},{name:"integram_create_report",category:"report",description:"Создать отчёт (Query)",params:`name — название отчёта
fromTables — [{tableId, alias, joinOn?}]
columns — [{field, name, formula?, ...}]
where, having, orderBy, limit`},{name:"integram_execute_report",category:"report",description:"Выполнить существующий отчёт",params:`reportId — ID отчёта
params — параметры {reqId: value}`},{name:"integram_add_report_column",category:"report",description:"Добавить колонку в отчёт (typeId=28)",params:`reportId — ID отчёта (родитель)
fieldId — ID поля из rep_col_list (0 для вычисляемых)
nameInReport — название колонки в отчёте (опц.)
formula — формула/alias (опц.)
functionId — ID функции, например 85 для abn_ID (опц.)
hide — скрыть колонку (false)`},{name:"integram_add_report_from",category:"report",description:"Добавить FROM таблицу в отчёт (typeId=44)",params:`reportId — ID отчёта (родитель)
tableId — ID таблицы для FROM
alias — алиас таблицы (опц.)
joinOn — условие JOIN ON (опц.)`},{name:"integram_clone_report",category:"report",description:"Клонировать отчёт со всеми FROM/columns",params:`sourceReportId — ID исходного отчёта
newName — название нового отчёта
setExecute — установить EXECUTE flag (false)`},{name:"integram_get_report_structure",category:"report",description:"Получить полную структуру отчёта",params:`reportId — ID отчёта
Возвращает: FROM tables, columns, requisites`}],Z=q(()=>{let c=G;if(j.value!=="all"&&(c=c.filter(i=>i.category===j.value)),l.value){const i=l.value.toLowerCase();c=c.filter(d=>d.name.toLowerCase().includes(i)||d.description.toLowerCase().includes(i)||d.params.toLowerCase().includes(i))}return c}),$=[{id:2,name:"LONG",description:"Длинный текст",example:"Описание..."},{id:3,name:"SHORT",description:"Короткий текст (≤127)",example:"Название"},{id:4,name:"DATETIME",description:"Дата и время",example:"2025-01-15 10:30"},{id:7,name:"BOOL",description:"Логическое",example:"true/false"},{id:8,name:"CHARS",description:"Неограниченный текст",example:"JSON..."},{id:9,name:"DATE",description:"Только дата",example:"2025-01-15"},{id:10,name:"FILE",description:"Файл",example:"doc.pdf"},{id:13,name:"NUMBER",description:"Целое число",example:"42"},{id:14,name:"SIGNED",description:"Десятичное",example:"3.14"}],ss=[{macro:"[TODAY]",description:"Текущая дата",example:"2025-01-15"},{macro:"[NOW]",description:"Дата и время",example:"2025-01-15 10:30"},{macro:"[USER_ID]",description:"ID пользователя",example:"285"},{macro:"[MONTH_AGO]",description:"Месяц назад",example:"2024-12-15"}],es=[{syntax:":!NULL:",description:"Поле обязательно (NOT NULL)",example:":!NULL:"},{syntax:":!NULL:ID",description:"Обязательно + значение по умолч.",example:":!NULL:164"},{syntax:"[MACRO]",description:"Значение по умолчанию (макрос)",example:"[TODAY]"},{syntax:"значение",description:"Значение по умолчанию (текст)",example:"Новый"},{syntax:":MULTI:",description:"Мультивыбор для ссылочного поля",example:":MULTI:"}],as=[{field:"id",synonyms:"идентификатор, айдишник, номер объекта",description:"Уникальный идентификатор объекта. Первый элемент квинтета."},{field:"type",synonyms:"тип, класс",description:"Тип объекта. Указывает на таблицу или базовый тип. Второй элемент квинтета."},{field:"up",synonyms:"родитель, parent",description:"ID родительского объекта. 0 = независимый, 1 = подчинён ROOT. Третий элемент."},{field:"ord",synonyms:"order, порядок",description:"Порядковый номер в списке. Четвёртый элемент квинтета."},{field:"value",synonyms:"значение, имя, название, val",description:"Значение объекта (название типа, значение ячейки и т.д.). Пятый элемент."}],ls=[{name:"Базовый тип",condition:"id = type, up = 0",description:"Системный тип данных (SHORT=3, LONG=2, NUMBER=13 и т.д.). Представляет пустую таблицу-шаблон."},{name:"Таблица (справочник)",condition:"type = базовый, up = 0",description:"Независимая таблица. ord=1 означает уникальность первой колонки. value = название таблицы."},{name:"Колоночный тип",condition:"type = базовый, up = 0",description:"Ссылка на колонку. Пустая таблица, которая станет колонкой при добавлении к родителю."},{name:"Колонка со ссылкой",condition:"type = таблица, up = 0",description:"Select/multiselect колонка. type указывает на справочник, из которого выбираются значения."},{name:"Подтаблица",condition:"type = базовый, up = 0, есть колонки",description:"Колоночный тип с собственными колонками. Вложенная таблица внутри родительской."},{name:"Колонка таблицы",condition:"up = ID таблицы",description:"Реквизит (свойство) таблицы. type = колоночный тип, ord = порядок, value = доп. настройки (:!NULL:)."},{name:"Строка таблицы",condition:"type = таблица, up = 1",description:"Запись в таблице. up=1 означает подчинение ROOT. value = значение первой ячейки."},{name:"Ячейка (простая)",condition:"up = строка, type = колонка",description:"Значение в ячейке таблицы. value содержит данные ячейки."},{name:"Ячейка (select)",condition:"up = строка, type = строка справочника",description:"Ссылка на строку другой таблицы. type = ID выбранной строки, value = ID колонки."},{name:"Строка подтаблицы",condition:"up = строка, type = подтаблица",description:"Вложенная запись. Находится в ячейке на пересечении строки up и колонки type."}];function ns(c){if(!c.method){S.add({severity:"info",summary:"MCP Tool",detail:"MCP инструменты используются через Claude Code, а не через REST API",life:4e3});return}h.value.playground=!0,p.value.method=c.method.toUpperCase(),p.value.endpoint=c.cmd.replace("/{id}","/123").replace("/{typeId}","/18").replace("/{reqId}","/100"),c.exampleBody&&typeof c.exampleBody=="object"?p.value.params=Object.entries(c.exampleBody).map(([i,d])=>({key:i,value:String(d),enabled:!0})):p.value.method==="POST"&&(p.value.params=[{key:"",value:"",enabled:!0}]),setTimeout(()=>{const i=document.querySelectorAll(".section-header"),d=Array.from(i).find(E=>E.textContent.includes("Playground"));d&&d.scrollIntoView({behavior:"smooth",block:"start"})},100)}async function ts(){var i;if(!g.value){S.add({severity:"warn",summary:"Внимание",detail:"Требуется авторизация",life:3e3});return}b.value=!0,m.value=null;const c=performance.now();try{let d;if(p.value.method==="GET")d=await L.get(p.value.endpoint);else{const E={};p.value.params.filter(O=>O.enabled&&O.key.trim()).forEach(O=>{E[O.key.trim()]=O.value.trim()}),d=await L.post(p.value.endpoint,E)}m.value={status:200,time:Math.round(performance.now()-c),data:d}}catch(d){m.value={status:((i=d.response)==null?void 0:i.status)||500,time:Math.round(performance.now()-c),data:{error:d.message}}}finally{b.value=!1}}function cs(){p.value={method:"GET",endpoint:"dict",params:[{key:"",value:"",enabled:!0}]},m.value=null}function os(){p.value.params.push({key:"",value:"",enabled:!0})}function ps(c){p.value.params.length>1&&p.value.params.splice(c,1)}function is(c){p.value.params[c].enabled=!p.value.params[c].enabled}function H(c){try{return JSON.stringify(c,null,2)}catch{return String(c)}}function ds(c){return typeof c=="string"?c:typeof c=="object"?JSON.stringify(c,null,2):String(c)}function rs(c){return!c||c==="Нет параметров"?'<span class="text-color-secondary">Нет параметров</span>':`<div class="params-formatted">${c.replace(/\{([^}]+)\}/g,'<code class="param-var">{$1}</code>').replace(/^(\w+)(\s*[—:])/gm,"<strong>$1</strong>$2").replace(/\[([A-Z_]+)\]/g,'<code class="param-macro">[$1]</code>').replace(/\n/g,"<br>")}</div>`}function ms(c){const d=c.data.cmd;k.value[d]?delete k.value[d]:k.value[d]=!0}function us(){m.value&&(navigator.clipboard.writeText(H(m.value.data)),S.add({severity:"success",summary:"Скопировано",life:2e3}))}Y(()=>{});const Q={toast:S,searchQuery:l,selectedCategory:j,selectedSubcategory:N,expandedRows:k,sections:h,isAuthenticated:g,database:J,breadcrumbItems:R,categories:K,playground:p,playgroundLoading:b,playgroundResult:m,ddlCommands:U,dmlCommands:P,queryCommands:M,authCommands:A,fileCommands:V,subcategoryMap:f,allCommands:n,availableSubcategories:T,filteredCommands:I,mcpTools:G,filteredMcpTools:Z,dataTypes:$,macros:ss,attrsFormats:es,quintetFields:as,objectTypes:ls,openPlayground:ns,executePlayground:ts,resetPlayground:cs,addParam:os,removeParam:ps,toggleParam:is,formatJSON:H,formatExampleBody:ds,formatParams:rs,toggleRowExpansion:ms,copyResponse:us,ref:x,computed:q,onMounted:Y,get useToast(){return X},get integramApiClient(){return L},IntegramBreadcrumb:_s};return Object.defineProperty(Q,"__isScriptSetup",{enumerable:!1,value:!0}),Q}},bs={class:"integram-api-docs"},ks={class:"flex align-items-center justify-content-between flex-wrap gap-3"},hs={class:"flex align-items-center gap-2"},fs={class:"flex align-items-center gap-2 ml-auto"},Is={class:"category-nav flex flex-wrap gap-2 mb-3"},xs={key:0,class:"subcategory-nav flex flex-wrap gap-2 mb-4"},js={class:"mb-4"},Ts={class:"mb-4"},qs={class:"section-content"},ws={class:"grid"},Ds={class:"col-12 md:col-6 lg:col-3"},Cs={class:"stat-card"},Rs={class:"stat-value"},Ss={class:"col-12 md:col-6 lg:col-3"},Os={class:"stat-card"},Ls={class:"stat-value"},Ns={class:"col-12 md:col-6 lg:col-3"},Us={class:"stat-card"},Ps={class:"stat-value"},Ms={class:"col-12 md:col-6 lg:col-3"},As={class:"stat-card"},Vs={class:"stat-value"},Es={class:"mb-4"},Bs={class:"section-title"},Js={class:"section-content"},Ks={class:"cmd-code"},zs={class:"text-sm text-color-secondary"},Fs={class:"expansion-content"},Gs={class:"grid"},Hs={class:"col-12 lg:col-6"},Qs={class:"text-color-secondary"},Xs=["innerHTML"],Ys={class:"col-12 lg:col-6"},Ws={key:0},Zs={class:"example-block mb-3"},$s={class:"code-block"},se={key:0,class:"example-block mb-3"},ee={class:"code-block"},ae={key:1,class:"text-color-secondary"},le={key:2,class:"example-block"},ne={class:"code-block"},te={class:"mb-4"},ce={class:"section-title"},oe={class:"section-content"},pe={class:"cmd-code"},ie={class:"text-color-secondary text-sm"},de={class:"mb-4"},re={class:"section-content"},me={class:"text-primary font-bold"},ue={class:"text-color-secondary text-sm"},ye={class:"text-sm"},ve={class:"mb-4"},_e={class:"section-title"},ge={class:"section-content"},be={class:"grid"},ke={class:"col-12 lg:col-6"},he={class:"text-sm"},fe={class:"col-12 lg:col-6"},Ie={class:"text-primary"},xe={class:"text-sm"},je={class:"text-primary"},Te={class:"text-sm"},qe={class:"mb-4"},we={class:"section-content"},De={class:"mb-4"},Ce={class:"section-content"},Re={class:"grid"},Se={class:"col-12 md:col-6"},Oe={class:"p-fluid"},Le={class:"field"},Ne={class:"field"},Ue={class:"p-inputgroup"},Pe={class:"p-inputgroup-addon"},Me={key:0,class:"field"},Ae={class:"params-editor"},Ve={class:"params-body"},Ee={class:"param-col-checkbox"},Be={class:"param-col-key"},Je={class:"param-col-value"},Ke={class:"param-col-actions"},ze={class:"params-footer"},Fe={class:"flex gap-2"},Ge={key:1,class:"text-orange-500 block mt-2"},He={class:"col-12 md:col-6"},Qe={class:"field"},Xe={class:"response-viewer"},Ye={key:0,class:"response-header"},We={class:"response-status"},Ze={key:0,class:"pi pi-check-circle text-sm"},$e={key:1,class:"pi pi-times-circle text-sm"},sa={class:"text-xs"},ea={class:"response-meta"},aa={key:1,class:"response-body"},la={class:"response-json"},na={key:2,class:"response-empty"};function ta(W,a,S,l,j,N){const k=v("Badge"),h=v("Tag"),g=v("Button"),J=v("InputIcon"),R=v("InputText"),K=v("IconField"),p=v("Column"),b=v("DataTable"),m=v("AccordionTab"),U=v("Accordion"),P=v("SelectButton"),M=v("Checkbox"),A=v("Card"),V=v("Toast"),f=vs("tooltip");return u(),y("div",bs,[t(l.IntegramBreadcrumb,{items:l.breadcrumbItems},null,8,["items"]),t(A,{class:"api-docs-card"},{title:o(()=>[s("div",ks,[s("div",hs,[a[12]||(a[12]=s("span",null,"API Документация",-1)),_(t(k,{value:l.allCommands.length},null,8,["value"]),[[f,"Всего команд",void 0,{top:!0}]])]),s("div",fs,[t(h,{value:l.isAuthenticated?"● Подключено":"○ Офлайн",severity:l.isAuthenticated?"success":"warn"},null,8,["value","severity"]),l.database?(u(),B(h,{key:0,value:l.database,severity:"info"},null,8,["value"])):C("",!0)])])]),content:o(()=>[s("div",Is,[(u(),y(z,null,F(l.categories,n=>t(g,{key:n.value,label:n.name,outlined:l.selectedCategory!==n.value,severity:l.selectedCategory===n.value?"primary":"secondary",size:"small",onClick:T=>{l.selectedCategory=n.value,l.selectedSubcategory="all"}},null,8,["label","outlined","severity","onClick"])),64))]),l.availableSubcategories.length>0?(u(),y("div",xs,[t(g,{label:"Все",outlined:l.selectedSubcategory!=="all",severity:l.selectedSubcategory==="all"?"info":"secondary",size:"small",onClick:a[0]||(a[0]=n=>l.selectedSubcategory="all")},null,8,["outlined","severity"]),(u(!0),y(z,null,F(l.availableSubcategories,n=>(u(),B(g,{key:n,label:n,outlined:l.selectedSubcategory!==n,severity:l.selectedSubcategory===n?"info":"secondary",size:"small",onClick:T=>l.selectedSubcategory=n},null,8,["label","outlined","severity","onClick"]))),128))])):C("",!0),s("div",js,[t(K,{iconPosition:"left"},{default:o(()=>[t(J,{class:"pi pi-search"}),t(R,{modelValue:l.searchQuery,"onUpdate:modelValue":a[1]||(a[1]=n=>l.searchQuery=n),placeholder:"Поиск команды...",class:"w-full"},null,8,["modelValue"])]),_:1})]),_(s("div",Ts,[s("div",{class:"section-header",onClick:a[2]||(a[2]=n=>l.sections.overview=!l.sections.overview)},[a[13]||(a[13]=s("h3",{class:"section-title"},"Обзор",-1)),s("i",{class:w([l.sections.overview?"pi pi-chevron-down":"pi pi-chevron-right","section-chevron"])},null,2)]),_(s("div",qs,[s("div",ws,[s("div",Ds,[s("div",Cs,[s("div",Rs,r(l.mcpTools.length),1),a[14]||(a[14]=s("div",{class:"stat-label"},"MCP инструментов",-1))])]),s("div",Ss,[s("div",Os,[s("div",Ls,r(l.dataTypes.length),1),a[15]||(a[15]=s("div",{class:"stat-label"},"Типов данных",-1))])]),s("div",Ns,[s("div",Us,[s("div",Ps,r(l.allCommands.length),1),a[16]||(a[16]=s("div",{class:"stat-label"},"REST команд",-1))])]),s("div",Ms,[s("div",As,[s("div",Vs,r(l.macros.length),1),a[17]||(a[17]=s("div",{class:"stat-label"},"Макросов",-1))])])]),a[18]||(a[18]=s("div",{class:"info-block mt-4"},[s("h4",null,"Формат URL"),s("code",{class:"code-inline"},"/api/{database}/[{cmd}/{id}][?{params}]"),s("div",{class:"mt-3"},[s("p",{class:"text-color-secondary mb-2"},[s("strong",null,"Категории команд:")]),s("ul",{class:"text-color-secondary text-sm m-0 pl-4"},[s("li",null,[s("code",null,"_d_*"),e(" — DDL (изменение структуры: типы, реквизиты)")]),s("li",null,[s("code",null,"_m_*"),e(" — DML (изменение данных: объекты, значения)")]),s("li",null,"Остальные — Query (получение данных для построения форм)")])])],-1)),a[19]||(a[19]=s("div",{class:"info-block mt-3"},[s("h4",null,"Авторизация и безопасность"),s("ul",{class:"text-color-secondary text-sm m-0 pl-4"},[s("li",null,[e("POST-запросы требуют "),s("code",null,"_xsrf"),e(" токен в параметрах")]),s("li",null,[e("После "),s("code",null,"auth"),e(" клиент получает токен для заголовка "),s("code",null,"X-Authorization")]),s("li",null,"Все изменяющие операции (_d_*, _m_*) — только POST")])],-1))],512),[[D,l.sections.overview]])],512),[[D,l.selectedCategory==="all"&&!l.searchQuery]]),s("div",Es,[s("div",{class:"section-header",onClick:a[3]||(a[3]=n=>l.sections.commands=!l.sections.commands)},[s("h3",Bs,[a[20]||(a[20]=e(" Команды ",-1)),t(k,{value:l.filteredCommands.length,class:"ml-2"},null,8,["value"])]),s("i",{class:w([l.sections.commands?"pi pi-chevron-down":"pi pi-chevron-right","section-chevron"])},null,2)]),_(s("div",Js,[t(b,{value:l.filteredCommands,expandedRows:l.expandedRows,"onUpdate:expandedRows":a[4]||(a[4]=n=>l.expandedRows=n),paginator:!0,rows:15,stripedRows:"",class:"commands-table",dataKey:"cmd",onRowClick:l.toggleRowExpansion},{expansion:o(({data:n})=>[s("div",Fs,[s("div",Gs,[s("div",Hs,[a[21]||(a[21]=s("h4",{class:"mt-0 mb-3"},"Описание",-1)),s("p",Qs,r(n.detailedDescription||n.description),1),a[22]||(a[22]=s("h4",{class:"mt-4 mb-3"},"Параметры",-1)),s("div",{class:"params-block",innerHTML:l.formatParams(n.params||"Нет параметров")},null,8,Xs)]),s("div",Ys,[a[28]||(a[28]=s("h4",{class:"mt-0 mb-3"},"Примеры",-1)),n.method?(u(),y("div",Ws,[s("div",Zs,[a[23]||(a[23]=s("div",{class:"example-label"},"URL:",-1)),s("div",$s,[s("pre",null,r(n.method.toUpperCase())+" /"+r(l.database||"db")+"/"+r(n.exampleUrl||n.cmd),1)])]),n.method==="post"&&n.exampleBody?(u(),y("div",se,[a[24]||(a[24]=s("div",{class:"example-label"},"POST Body (application/x-www-form-urlencoded):",-1)),s("div",ee,[s("pre",null,r(l.formatExampleBody(n.exampleBody)),1)]),a[25]||(a[25]=s("div",{class:"text-xs mt-2 text-color-secondary"},[s("strong",null,"Примечание:"),e(" Данные отправляются в формате application/x-www-form-urlencoded. Параметр "),s("code",null,"?JSON_KV"),e(" влияет на формат "),s("em",null,"ответа"),e(", а не запроса. ")],-1))])):C("",!0)])):(u(),y("div",ae,[...a[26]||(a[26]=[s("p",null,"Инструмент MCP (Model Context Protocol) для AI-ассистентов.",-1),s("p",{class:"text-sm"},"Используется через Claude Code или другие MCP-клиенты.",-1)])])),n.exampleResponse?(u(),y("div",le,[a[27]||(a[27]=s("div",{class:"example-label"},"Ответ:",-1)),s("div",ne,[s("pre",null,r(l.formatJSON(n.exampleResponse)),1)])])):C("",!0)])])])]),default:o(()=>[t(p,{expander:!0,style:{width:"50px"}}),t(p,{field:"cmd",header:"Команда",sortable:"",style:{width:"180px"}},{body:o(({data:n})=>[s("code",Ks,r(n.cmd),1)]),_:1}),t(p,{field:"method",header:"Метод",sortable:"",style:{width:"80px"}},{body:o(({data:n})=>[n.method?(u(),B(h,{key:0,value:n.method.toUpperCase(),severity:n.method==="post"?"info":"success"},null,8,["value","severity"])):(u(),B(h,{key:1,value:"MCP",severity:"secondary"}))]),_:1}),t(p,{field:"subcategory",header:"Раздел",sortable:"",style:{width:"130px"}},{body:o(({data:n})=>[s("span",zs,r(n.subcategory),1)]),_:1}),t(p,{field:"description",header:"Описание"}),t(p,{header:"",style:{width:"50px"}},{body:o(({data:n})=>[_(t(g,{icon:"pi pi-play",size:"small",text:"",rounded:"",onClick:T=>l.openPlayground(n)},null,8,["onClick"]),[[f,"Тестировать",void 0,{left:!0}]])]),_:1})]),_:1},8,["value","expandedRows"])],512),[[D,l.sections.commands]])]),s("div",te,[s("div",{class:"section-header",onClick:a[5]||(a[5]=n=>l.sections.mcp=!l.sections.mcp)},[s("h3",ce,[a[29]||(a[29]=e(" MCP Tools ",-1)),t(k,{value:l.mcpTools.length,class:"ml-2"},null,8,["value"])]),s("i",{class:w([l.sections.mcp?"pi pi-chevron-down":"pi pi-chevron-right","section-chevron"])},null,2)]),_(s("div",oe,[a[30]||(a[30]=s("div",{class:"info-block mb-3"},[s("code",{class:"code-inline"},"https://dev.drondoc.ru/api/mcp/integram")],-1)),t(b,{value:l.filteredMcpTools,paginator:!0,rows:10,stripedRows:"",size:"small"},{default:o(()=>[t(p,{field:"name",header:"Инструмент",sortable:"",style:{width:"280px"}},{body:o(({data:n})=>[s("code",pe,r(n.name),1)]),_:1}),t(p,{field:"category",header:"Категория",sortable:"",style:{width:"100px"}},{body:o(({data:n})=>[t(h,{value:n.category,size:"small"},null,8,["value"])]),_:1}),t(p,{field:"description",header:"Описание"}),t(p,{field:"params",header:"Параметры",style:{width:"180px"}},{body:o(({data:n})=>[s("span",ie,r(n.params),1)]),_:1})]),_:1},8,["value"])],512),[[D,l.sections.mcp]])]),s("div",de,[s("div",{class:"section-header",onClick:a[6]||(a[6]=n=>l.sections.dataModel=!l.sections.dataModel)},[a[31]||(a[31]=s("h3",{class:"section-title"},"Модель данных (Квинтет)",-1)),s("i",{class:w([l.sections.dataModel?"pi pi-chevron-down":"pi pi-chevron-right","section-chevron"])},null,2)]),_(s("div",re,[a[32]||(a[32]=s("div",{class:"info-block mb-3"},[s("h4",null,"Структура квинтета"),s("p",{class:"text-color-secondary mb-2"},"Все данные в Integram хранятся в виде 5-элементных кортежей (квинтетов):"),s("code",{class:"code-inline"},"(id, type, up, ord, value)")],-1)),t(b,{value:l.quintetFields,size:"small",stripedRows:"",class:"mb-4"},{default:o(()=>[t(p,{field:"field",header:"Поле",style:{width:"80px"}},{body:o(({data:n})=>[s("code",me,r(n.field),1)]),_:1}),t(p,{field:"synonyms",header:"Синонимы",style:{width:"200px"}},{body:o(({data:n})=>[s("span",ue,r(n.synonyms),1)]),_:1}),t(p,{field:"description",header:"Описание"})]),_:1}),a[33]||(a[33]=s("h4",{class:"mt-4 mb-3"},"Типы объектов",-1)),t(b,{value:l.objectTypes,size:"small",stripedRows:""},{default:o(()=>[t(p,{field:"name",header:"Тип объекта",style:{width:"180px"}},{body:o(({data:n})=>[s("strong",null,r(n.name),1)]),_:1}),t(p,{field:"condition",header:"Условие",style:{width:"200px"}},{body:o(({data:n})=>[s("code",ye,r(n.condition),1)]),_:1}),t(p,{field:"description",header:"Описание"})]),_:1}),a[34]||(a[34]=s("div",{class:"info-block mt-4"},[s("h4",null,"Особый объект ROOT"),s("code",{class:"code-inline"},'id=1, type=1, up=1, ord=1, value="ROOT"'),s("p",{class:"text-color-secondary mt-2 mb-0"},'Корневой объект — родитель всех независимых строк таблиц (up=1 означает "подчинён ROOT")')],-1))],512),[[D,l.sections.dataModel]])]),s("div",ve,[s("div",{class:"section-header",onClick:a[7]||(a[7]=n=>l.sections.types=!l.sections.types)},[s("h3",_e,[a[35]||(a[35]=e(" Типы данных ",-1)),t(k,{value:l.dataTypes.length,class:"ml-2"},null,8,["value"])]),s("i",{class:w([l.sections.types?"pi pi-chevron-down":"pi pi-chevron-right","section-chevron"])},null,2)]),_(s("div",ge,[s("div",be,[s("div",ke,[a[36]||(a[36]=s("h4",{class:"mt-0 mb-3"},"Базовые типы (Requisite Types)",-1)),t(b,{value:l.dataTypes,size:"small",stripedRows:""},{default:o(()=>[t(p,{field:"id",header:"ID",style:{width:"50px"}}),t(p,{field:"name",header:"Тип",style:{width:"100px"}},{body:o(({data:n})=>[s("code",null,r(n.name),1)]),_:1}),t(p,{field:"description",header:"Описание"}),t(p,{field:"example",header:"Пример",style:{width:"120px"}},{body:o(({data:n})=>[s("code",he,r(n.example),1)]),_:1})]),_:1})]),s("div",fe,[a[37]||(a[37]=s("h4",{class:"mt-0 mb-3"},"Макросы значений",-1)),t(b,{value:l.macros,size:"small",stripedRows:""},{default:o(()=>[t(p,{field:"macro",header:"Макрос"},{body:o(({data:n})=>[s("code",Ie,r(n.macro),1)]),_:1}),t(p,{field:"description",header:"Описание"}),t(p,{field:"example",header:"Пример"},{body:o(({data:n})=>[s("code",xe,r(n.example),1)]),_:1})]),_:1}),a[38]||(a[38]=s("h4",{class:"mt-4 mb-3"},"Формат attrs (настройки колонки)",-1)),t(b,{value:l.attrsFormats,size:"small",stripedRows:""},{default:o(()=>[t(p,{field:"syntax",header:"Синтаксис",style:{width:"150px"}},{body:o(({data:n})=>[s("code",je,r(n.syntax),1)]),_:1}),t(p,{field:"description",header:"Описание"}),t(p,{field:"example",header:"Пример"},{body:o(({data:n})=>[s("code",Te,r(n.example),1)]),_:1})]),_:1})])])],512),[[D,l.sections.types]])]),s("div",qe,[s("div",{class:"section-header",onClick:a[8]||(a[8]=n=>l.sections.examples=!l.sections.examples)},[a[39]||(a[39]=s("h3",{class:"section-title"},"Примеры",-1)),s("i",{class:w([l.sections.examples?"pi pi-chevron-down":"pi pi-chevron-right","section-chevron"])},null,2)]),_(s("div",we,[t(U,{multiple:!0},{default:o(()=>[t(m,{header:"Создание таблицы"},{default:o(()=>[...a[40]||(a[40]=[s("div",{class:"example-steps"},[s("div",{class:"example-step mb-4"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-number"},"1"),s("span",{class:"step-title"},"Создаём таблицу")]),s("div",{class:"example-request mb-2"},[s("div",{class:"request-label"},"Запрос:"),s("div",{class:"http-request-block"},[s("div",{class:"http-line"},[s("span",{class:"http-method"},"POST"),s("span",{class:"http-path"},"/A2025/_d_new?JSON_KV")]),s("div",{class:"http-header"},[s("span",{class:"header-name"},"Content-Type:"),s("span",{class:"header-value"},"application/x-www-form-urlencoded")]),s("div",{class:"http-body"},[s("div",{class:"body-param"},[s("span",{class:"param-key"},"val"),s("span",{class:"param-equals"},"="),s("span",{class:"param-value"},"Товары")]),s("div",{class:"body-param"},[s("span",{class:"param-key"},"t"),s("span",{class:"param-equals"},"="),s("span",{class:"param-value"},"3")]),s("div",{class:"body-param"},[s("span",{class:"param-key"},"unique"),s("span",{class:"param-equals"},"="),s("span",{class:"param-value"},"0")])])])]),s("div",{class:"example-response"},[s("div",{class:"response-label"},"Ответ:"),s("div",{class:"code-block response"},[s("pre",null,'{ "obj": 12345 }')])])]),s("div",{class:"example-step mb-4"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-number"},"2"),s("span",{class:"step-title"},'Добавляем колонку "Цена" (NUMBER)')]),s("div",{class:"example-request mb-2"},[s("div",{class:"request-label"},"Запрос:"),s("div",{class:"http-request-block"},[s("div",{class:"http-line"},[s("span",{class:"http-method"},"POST"),s("span",{class:"http-path"},"/A2025/_d_req/12345?JSON_KV")]),s("div",{class:"http-header"},[s("span",{class:"header-name"},"Content-Type:"),s("span",{class:"header-value"},"application/x-www-form-urlencoded")]),s("div",{class:"http-body"},[s("div",{class:"body-param"},[s("span",{class:"param-key"},"t"),s("span",{class:"param-equals"},"="),s("span",{class:"param-value"},"13")])])])]),s("div",{class:"example-response"},[s("div",{class:"response-label"},"Ответ:"),s("div",{class:"code-block response"},[s("pre",null,'{ "id": 12346 }')])])]),s("div",{class:"example-step"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-number"},"3"),s("span",{class:"step-title"},"Устанавливаем алиас")]),s("div",{class:"example-request mb-2"},[s("div",{class:"request-label"},"Запрос:"),s("div",{class:"http-request-block"},[s("div",{class:"http-line"},[s("span",{class:"http-method"},"POST"),s("span",{class:"http-path"},"/A2025/_d_alias/12346?JSON_KV")]),s("div",{class:"http-header"},[s("span",{class:"header-name"},"Content-Type:"),s("span",{class:"header-value"},"application/x-www-form-urlencoded")]),s("div",{class:"http-body"},[s("div",{class:"body-param"},[s("span",{class:"param-key"},"val"),s("span",{class:"param-equals"},"="),s("span",{class:"param-value"},"Цена")])])])]),s("div",{class:"example-response"},[s("div",{class:"response-label"},"Ответ:"),s("div",{class:"code-block response"},[s("pre",null,'{ "ok": true }')])])])],-1)])]),_:1}),t(m,{header:"CRUD операции"},{default:o(()=>[...a[41]||(a[41]=[s("div",{class:"example-steps"},[s("div",{class:"example-step mb-4"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"Create — Создание объекта")]),s("div",{class:"example-request mb-2"},[s("div",{class:"request-label"},"Запрос:"),s("div",{class:"http-request-block"},[s("div",{class:"http-line"},[s("span",{class:"http-method"},"POST"),s("span",{class:"http-path"},"/A2025/_m_new/12345?JSON_KV")]),s("div",{class:"http-header"},[s("span",{class:"header-name"},"Content-Type:"),s("span",{class:"header-value"},"application/x-www-form-urlencoded")]),s("div",{class:"http-body"},[s("div",{class:"body-param"},[s("span",{class:"param-key"},"t12345"),s("span",{class:"param-equals"},"="),s("span",{class:"param-value"},"Товар")]),s("div",{class:"body-param"},[s("span",{class:"param-key"},"t12346"),s("span",{class:"param-equals"},"="),s("span",{class:"param-value"},"1500")]),s("div",{class:"body-param"},[s("span",{class:"param-key"},"up"),s("span",{class:"param-equals"},"="),s("span",{class:"param-value"},"1")])])])]),s("div",{class:"example-response"},[s("div",{class:"response-label"},"Ответ:"),s("div",{class:"code-block response"},[s("pre",null,'{ "id": 99998 }')])])]),s("div",{class:"example-step mb-4"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"Read — Чтение объектов")]),s("div",{class:"example-request mb-2"},[s("div",{class:"request-label"},"Запрос:"),s("div",{class:"http-request-block"},[s("div",{class:"http-line"},[s("span",{class:"http-method get"},"GET"),s("span",{class:"http-path"},"/A2025/object/12345?JSON_KV&LIMIT=100&pg=1")])])]),s("div",{class:"example-response"},[s("div",{class:"response-label"},"Ответ:"),s("div",{class:"code-block response"},[s("pre",null,'{ "object": [...], "reqs": {...} }')])])]),s("div",{class:"example-step mb-4"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"Update — Обновление объекта")]),s("div",{class:"example-request mb-2"},[s("div",{class:"request-label"},"Запрос:"),s("div",{class:"http-request-block"},[s("div",{class:"http-line"},[s("span",{class:"http-method"},"POST"),s("span",{class:"http-path"},"/A2025/_m_set/99999?JSON_KV")]),s("div",{class:"http-header"},[s("span",{class:"header-name"},"Content-Type:"),s("span",{class:"header-value"},"application/x-www-form-urlencoded")]),s("div",{class:"http-body"},[s("div",{class:"body-param"},[s("span",{class:"param-key"},"t12346"),s("span",{class:"param-equals"},"="),s("span",{class:"param-value"},"2000")])])])]),s("div",{class:"example-response"},[s("div",{class:"response-label"},"Ответ:"),s("div",{class:"code-block response"},[s("pre",null,'{ "ok": true }')])])]),s("div",{class:"example-step"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"Delete — Удаление объекта")]),s("div",{class:"example-request mb-2"},[s("div",{class:"request-label"},"Запрос:"),s("div",{class:"http-request-block"},[s("div",{class:"http-line"},[s("span",{class:"http-method delete"},"POST"),s("span",{class:"http-path"},"/A2025/_m_del/99999?JSON_KV")]),s("div",{class:"http-header"},[s("span",{class:"header-name"},"Content-Type:"),s("span",{class:"header-value"},"application/x-www-form-urlencoded")])])]),s("div",{class:"example-response"},[s("div",{class:"response-label"},"Ответ:"),s("div",{class:"code-block response"},[s("pre",null,'{ "ok": true }')])])])],-1)])]),_:1}),t(m,{header:"MCP: Создание структуры"},{default:o(()=>[...a[42]||(a[42]=[s("div",{class:"example-steps"},[s("div",{class:"example-step mb-4"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-number"},"1"),s("span",{class:"step-title"},"Авторизация")]),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"mcp-function"},"integram_authenticate"),e(`({
  `),s("span",{class:"mcp-key"},"serverURL"),e(": "),s("span",{class:"mcp-string"},'"https://dronedoc.ru"'),e(`,
  `),s("span",{class:"mcp-key"},"database"),e(": "),s("span",{class:"mcp-string"},'"my"'),e(`,
  `),s("span",{class:"mcp-key"},"login"),e(": "),s("span",{class:"mcp-string"},'"user"'),e(`,
  `),s("span",{class:"mcp-key"},"password"),e(": "),s("span",{class:"mcp-string"},'"pass"'),e(`
})`)])])]),s("div",{class:"example-step mb-4"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-number"},"2"),s("span",{class:"step-title"},"Создать таблицу с колонками")]),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"mcp-function"},"integram_create_table_with_columns"),e(`({
  `),s("span",{class:"mcp-key"},"tableName"),e(": "),s("span",{class:"mcp-string"},'"Клиенты"'),e(`,
  `),s("span",{class:"mcp-key"},"columns"),e(`: [
    { `),s("span",{class:"mcp-key"},"alias"),e(": "),s("span",{class:"mcp-string"},'"Email"'),e(", "),s("span",{class:"mcp-key"},"requisiteTypeId"),e(": "),s("span",{class:"mcp-number"},"3"),e(` },
    { `),s("span",{class:"mcp-key"},"alias"),e(": "),s("span",{class:"mcp-string"},'"Телефон"'),e(", "),s("span",{class:"mcp-key"},"requisiteTypeId"),e(": "),s("span",{class:"mcp-number"},"3"),e(` },
    { `),s("span",{class:"mcp-key"},"alias"),e(": "),s("span",{class:"mcp-string"},'"Баланс"'),e(", "),s("span",{class:"mcp-key"},"requisiteTypeId"),e(": "),s("span",{class:"mcp-number"},"13"),e(` }
  ]
})`)])])]),s("div",{class:"example-step"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-number"},"3"),s("span",{class:"step-title"},"Добавить справочник")]),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"mcp-function"},"integram_create_lookup_table"),e(`({
  `),s("span",{class:"mcp-key"},"tableName"),e(": "),s("span",{class:"mcp-string"},'"Статусы"'),e(`,
  `),s("span",{class:"mcp-key"},"values"),e(": ["),s("span",{class:"mcp-string"},'"Новый"'),e(", "),s("span",{class:"mcp-string"},'"Активный"'),e(", "),s("span",{class:"mcp-string"},'"Заблокирован"'),e(`]
})`)])])])],-1)])]),_:1}),t(m,{header:"MCP: Smart Query"},{default:o(()=>[...a[43]||(a[43]=[s("div",{class:"example-steps"},[s("div",{class:"example-step mb-4"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"Простой запрос")]),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"mcp-function"},"integram_smart_query"),e(`({
  `),s("span",{class:"mcp-key"},"tables"),e(": [{ "),s("span",{class:"mcp-key"},"id"),e(": "),s("span",{class:"mcp-number"},"18"),e(", "),s("span",{class:"mcp-key"},"alias"),e(": "),s("span",{class:"mcp-string"},'"u"'),e(` }],
  `),s("span",{class:"mcp-key"},"columns"),e(`: [
    { `),s("span",{class:"mcp-key"},"field"),e(": "),s("span",{class:"mcp-number"},"18"),e(", "),s("span",{class:"mcp-key"},"name"),e(": "),s("span",{class:"mcp-string"},'"Имя"'),e(` },
    { `),s("span",{class:"mcp-key"},"field"),e(": "),s("span",{class:"mcp-number"},"115"),e(", "),s("span",{class:"mcp-key"},"name"),e(": "),s("span",{class:"mcp-string"},'"Email"'),e(` }
  ],
  `),s("span",{class:"mcp-key"},"where"),e(": "),s("span",{class:"mcp-string"},'"u.115 IS NOT NULL"'),e(`,
  `),s("span",{class:"mcp-key"},"limit"),e(": "),s("span",{class:"mcp-number"},"50"),e(`
})`)])])]),s("div",{class:"example-step"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"С агрегацией")]),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"mcp-function"},"integram_smart_query"),e(`({
  `),s("span",{class:"mcp-key"},"tables"),e(": [{ "),s("span",{class:"mcp-key"},"id"),e(": "),s("span",{class:"mcp-number"},"12360"),e(", "),s("span",{class:"mcp-key"},"alias"),e(": "),s("span",{class:"mcp-string"},'"o"'),e(` }],
  `),s("span",{class:"mcp-key"},"columns"),e(`: [
    { `),s("span",{class:"mcp-key"},"field"),e(": "),s("span",{class:"mcp-number"},"12363"),e(", "),s("span",{class:"mcp-key"},"name"),e(": "),s("span",{class:"mcp-string"},'"Статус"'),e(", "),s("span",{class:"mcp-key"},"groupBy"),e(": "),s("span",{class:"mcp-boolean"},"true"),e(` },
    { `),s("span",{class:"mcp-key"},"field"),e(": "),s("span",{class:"mcp-number"},"0"),e(", "),s("span",{class:"mcp-key"},"formula"),e(": "),s("span",{class:"mcp-string"},'"COUNT(*)"'),e(", "),s("span",{class:"mcp-key"},"name"),e(": "),s("span",{class:"mcp-string"},'"Количество"'),e(` }
  ]
})`)])])])],-1)])]),_:1}),t(m,{header:"JavaScript/Vue"},{default:o(()=>[...a[44]||(a[44]=[s("div",{class:"example-steps"},[s("div",{class:"example-step mb-4"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"Импорт")]),s("div",{class:"js-code-block"},[s("div",{class:"code-label"},"JavaScript:"),s("pre",{class:"js-code"},[s("span",{class:"js-keyword"},"import"),e(" integramApiClient "),s("span",{class:"js-keyword"},"from"),e(),s("span",{class:"js-string"},"'@/services/integramApiClient'")])])]),s("div",{class:"example-step mb-4"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"Авторизация")]),s("div",{class:"js-code-block"},[s("div",{class:"code-label"},"JavaScript:"),s("pre",{class:"js-code"},[s("span",{class:"js-keyword"},"await"),e(" integramApiClient."),s("span",{class:"js-function"},"setServer"),e("("),s("span",{class:"js-string"},"'https://dronedoc.ru'"),e(`)
`),s("span",{class:"js-keyword"},"await"),e(" integramApiClient."),s("span",{class:"js-function"},"authenticate"),e("("),s("span",{class:"js-string"},"'A2025'"),e(", "),s("span",{class:"js-string"},"'user'"),e(", "),s("span",{class:"js-string"},"'password'"),e(")")])])]),s("div",{class:"example-step mb-4"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"Получить список таблиц")]),s("div",{class:"js-code-block"},[s("div",{class:"code-label"},"JavaScript:"),s("pre",{class:"js-code"},[s("span",{class:"js-keyword"},"const"),e(" dict = "),s("span",{class:"js-keyword"},"await"),e(" integramApiClient."),s("span",{class:"js-function"},"getDictionary"),e("()")])])]),s("div",{class:"example-step mb-4"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"Получить записи")]),s("div",{class:"js-code-block"},[s("div",{class:"code-label"},"JavaScript:"),s("pre",{class:"js-code"},[s("span",{class:"js-keyword"},"const"),e(" objects = "),s("span",{class:"js-keyword"},"await"),e(" integramApiClient."),s("span",{class:"js-function"},"getObjectList"),e("("),s("span",{class:"js-number"},"18"),e(", { "),s("span",{class:"js-key"},"LIMIT"),e(": "),s("span",{class:"js-number"},"50"),e(" })")])])]),s("div",{class:"example-step"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"Создать запись")]),s("div",{class:"js-code-block"},[s("div",{class:"code-label"},"JavaScript:"),s("pre",{class:"js-code"},[s("span",{class:"js-keyword"},"const"),e(" result = "),s("span",{class:"js-keyword"},"await"),e(" integramApiClient."),s("span",{class:"js-function"},"createObject"),e("("),s("span",{class:"js-number"},"18"),e(", "),s("span",{class:"js-string"},"'Название'"),e(`, {
  `),s("span",{class:"js-string"},"'115'"),e(": "),s("span",{class:"js-string"},"'Значение поля'"),e(`
})`)])])])],-1)])]),_:1}),t(m,{header:"Формат ответа: auth"},{default:o(()=>[...a[45]||(a[45]=[s("div",{class:"example-steps"},[s("div",{class:"example-step mb-4"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"Успешная авторизация")]),s("div",{class:"json-code-block"},[s("div",{class:"code-label"},"Response:"),s("pre",{class:"json-code"},[e(`{
  `),s("span",{class:"json-key"},'"_xsrf"'),e(": "),s("span",{class:"json-string"},'"ef1bbd56839b1e97636a5"'),e(`,
  `),s("span",{class:"json-key"},'"token"'),e(": "),s("span",{class:"json-string"},'"67a450965bf763cd719b5fcdb4ca41"'),e(`,
  `),s("span",{class:"json-key"},'"msg"'),e(": "),s("span",{class:"json-null"},"null"),e(`
}`)])])]),s("div",{class:"example-step"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"Ошибка авторизации")]),s("div",{class:"json-code-block"},[s("div",{class:"code-label"},"Response:"),s("pre",{class:"json-code"},[e(`{
  `),s("span",{class:"json-key"},'"failed"'),e(": "),s("span",{class:"json-string"},'"wrong"'),e(`
}`)])])])],-1)])]),_:1}),t(m,{header:"Формат ответа: metadata"},{default:o(()=>[...a[46]||(a[46]=[s("div",{class:"example-steps"},[s("div",{class:"example-step"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"GET /andy/metadata/18")]),s("div",{class:"json-code-block"},[s("div",{class:"code-label"},"Response:"),s("pre",{class:"json-code"},[e(`{
  `),s("span",{class:"json-key"},'"id"'),e(": "),s("span",{class:"json-string"},'"18"'),e(`,
  `),s("span",{class:"json-key"},'"up"'),e(": "),s("span",{class:"json-string"},'"0"'),e(`,
  `),s("span",{class:"json-key"},'"type"'),e(": "),s("span",{class:"json-string"},'"3"'),e(`,
  `),s("span",{class:"json-key"},'"val"'),e(": "),s("span",{class:"json-string"},'"Пользователь"'),e(`,
  `),s("span",{class:"json-key"},'"unique"'),e(": "),s("span",{class:"json-string"},'"1"'),e(`,
  `),s("span",{class:"json-key"},'"reqs"'),e(`: [
    {
      `),s("span",{class:"json-key"},'"num"'),e(": "),s("span",{class:"json-number"},"1"),e(`,
      `),s("span",{class:"json-key"},'"id"'),e(": "),s("span",{class:"json-string"},'"115"'),e(`,
      `),s("span",{class:"json-key"},'"val"'),e(": "),s("span",{class:"json-string"},'"Роль"'),e(`,
      `),s("span",{class:"json-key"},'"type"'),e(": "),s("span",{class:"json-string"},'"3"'),e(`,
      `),s("span",{class:"json-key"},'"ref"'),e(": "),s("span",{class:"json-string"},'"42"'),e(",        "),s("span",{class:"json-comment"},"// Ссылка на таблицу 42"),e(`
      `),s("span",{class:"json-key"},'"ref_id"'),e(": "),s("span",{class:"json-string"},'"114"'),e(`,
      `),s("span",{class:"json-key"},'"attrs"'),e(": "),s("span",{class:"json-string"},'":!NULL:164"'),e("  "),s("span",{class:"json-comment"},"// !NULL = обязательное"),e(`
    },
    {
      `),s("span",{class:"json-key"},'"num"'),e(": "),s("span",{class:"json-number"},"2"),e(`,
      `),s("span",{class:"json-key"},'"id"'),e(": "),s("span",{class:"json-string"},'"41"'),e(`,
      `),s("span",{class:"json-key"},'"val"'),e(": "),s("span",{class:"json-string"},'"Email"'),e(`,
      `),s("span",{class:"json-key"},'"type"'),e(": "),s("span",{class:"json-string"},'"3"'),e(`,
      `),s("span",{class:"json-key"},'"attrs"'),e(": "),s("span",{class:"json-string"},'":!NULL:"'),e(`
    },
    {
      `),s("span",{class:"json-key"},'"num"'),e(": "),s("span",{class:"json-number"},"3"),e(`,
      `),s("span",{class:"json-key"},'"id"'),e(": "),s("span",{class:"json-string"},'"156"'),e(`,
      `),s("span",{class:"json-key"},'"val"'),e(": "),s("span",{class:"json-string"},'"Дата"'),e(`,
      `),s("span",{class:"json-key"},'"type"'),e(": "),s("span",{class:"json-string"},'"9"'),e(`,
      `),s("span",{class:"json-key"},'"attrs"'),e(": "),s("span",{class:"json-string"},'"[TODAY]"'),e("  "),s("span",{class:"json-comment"},"// Значение по умолчанию"),e(`
    }
  ]
}`)])])])],-1)])]),_:1}),t(m,{header:"Формат ответа: object"},{default:o(()=>[...a[47]||(a[47]=[s("div",{class:"example-steps"},[s("div",{class:"example-step"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"GET /andy/object/1141")]),s("div",{class:"json-code-block"},[s("div",{class:"code-label"},"Response:"),s("pre",{class:"json-code"},[e(`{
  `),s("span",{class:"json-key"},'"type"'),e(`: {
    `),s("span",{class:"json-key"},'"id"'),e(": "),s("span",{class:"json-number"},"1141"),e(`,
    `),s("span",{class:"json-key"},'"up"'),e(": "),s("span",{class:"json-number"},"1"),e(`,
    `),s("span",{class:"json-key"},'"val"'),e(": "),s("span",{class:"json-string"},'"Plan"'),e(`,
    `),s("span",{class:"json-key"},'"base"'),e(": "),s("span",{class:"json-string"},'"SHORT"'),e(`
  },
  `),s("span",{class:"json-key"},'"base"'),e(": { "),s("span",{class:"json-key"},'"id"'),e(": "),s("span",{class:"json-string"},'"3"'),e(` },
  `),s("span",{class:"json-key"},'"req_base"'),e(": { "),s("span",{class:"json-key"},'"1274"'),e(": "),s("span",{class:"json-string"},'"SIGNED"'),e(` },
  `),s("span",{class:"json-key"},'"req_type"'),e(": { "),s("span",{class:"json-key"},'"1274"'),e(": "),s("span",{class:"json-string"},'"Price"'),e(` },
  `),s("span",{class:"json-key"},'"req_order"'),e(": ["),s("span",{class:"json-string"},'"1274"'),e(`],
  `),s("span",{class:"json-key"},'"object"'),e(`: [
    { `),s("span",{class:"json-key"},'"id"'),e(": "),s("span",{class:"json-string"},'"1146"'),e(", "),s("span",{class:"json-key"},'"up"'),e(": "),s("span",{class:"json-string"},'"1"'),e(", "),s("span",{class:"json-key"},'"val"'),e(": "),s("span",{class:"json-string"},'"Free"'),e(", "),s("span",{class:"json-key"},'"base"'),e(": "),s("span",{class:"json-string"},'"1141"'),e(` },
    { `),s("span",{class:"json-key"},'"id"'),e(": "),s("span",{class:"json-string"},'"1148"'),e(", "),s("span",{class:"json-key"},'"up"'),e(": "),s("span",{class:"json-string"},'"1"'),e(", "),s("span",{class:"json-key"},'"val"'),e(": "),s("span",{class:"json-string"},'"Scalable"'),e(", "),s("span",{class:"json-key"},'"base"'),e(": "),s("span",{class:"json-string"},'"1141"'),e(` }
  ],
  `),s("span",{class:"json-key"},'"reqs"'),e(`: {
    `),s("span",{class:"json-key"},'"1146"'),e(": { "),s("span",{class:"json-key"},'"1274"'),e(": "),s("span",{class:"json-string"},'"0.00"'),e(` },
    `),s("span",{class:"json-key"},'"1148"'),e(": { "),s("span",{class:"json-key"},'"1274"'),e(": "),s("span",{class:"json-string"},'"1950.00"'),e(` }
  }
}`)])])])],-1)])]),_:1}),t(m,{header:"Формат ответа: xsrf"},{default:o(()=>[...a[48]||(a[48]=[s("div",{class:"example-steps"},[s("div",{class:"example-step"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"GET /andy/xsrf")]),s("div",{class:"json-code-block"},[s("div",{class:"code-label"},"Response:"),s("pre",{class:"json-code"},[e(`{
  `),s("span",{class:"json-key"},'"_xsrf"'),e(": "),s("span",{class:"json-string"},'"2ae0f4375dabb5"'),e(`,
  `),s("span",{class:"json-key"},'"token"'),e(": "),s("span",{class:"json-string"},'"b4ad9d6b31a7c82972ef1b2"'),e(`,
  `),s("span",{class:"json-key"},'"user"'),e(": "),s("span",{class:"json-string"},'"admin"'),e(`,
  `),s("span",{class:"json-key"},'"role"'),e(": "),s("span",{class:"json-string"},'"admin"'),e(`,
  `),s("span",{class:"json-key"},'"id"'),e(": "),s("span",{class:"json-string"},'"130152"'),e(`,
  `),s("span",{class:"json-key"},'"msg"'),e(": "),s("span",{class:"json-string"},'""'),e(`
}`)])])])],-1)])]),_:1}),t(m,{header:"MCP: Batch операции"},{default:o(()=>[...a[49]||(a[49]=[s("div",{class:"example-steps"},[s("div",{class:"example-step mb-4"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"Массовое создание объектов")]),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"mcp-function"},"integram_create_objects_batch"),e(`({
  `),s("span",{class:"mcp-key"},"typeId"),e(": "),s("span",{class:"mcp-number"},"195629"),e(`,
  `),s("span",{class:"mcp-key"},"objects"),e(`: [
    {
      `),s("span",{class:"mcp-key"},"value"),e(": "),s("span",{class:"mcp-string"},'"Главная"'),e(`,
      `),s("span",{class:"mcp-key"},"requisites"),e(": { "),s("span",{class:"mcp-string"},'"195630"'),e(": "),s("span",{class:"mcp-string"},'"/"'),e(", "),s("span",{class:"mcp-string"},'"195631"'),e(": "),s("span",{class:"mcp-string"},'"pi pi-home"'),e(` }
    },
    {
      `),s("span",{class:"mcp-key"},"value"),e(": "),s("span",{class:"mcp-string"},'"Профиль"'),e(`,
      `),s("span",{class:"mcp-key"},"requisites"),e(": { "),s("span",{class:"mcp-string"},'"195630"'),e(": "),s("span",{class:"mcp-string"},'"/profile"'),e(", "),s("span",{class:"mcp-string"},'"195631"'),e(": "),s("span",{class:"mcp-string"},'"pi pi-user"'),e(` }
    },
    {
      `),s("span",{class:"mcp-key"},"value"),e(": "),s("span",{class:"mcp-string"},'"Настройки"'),e(`,
      `),s("span",{class:"mcp-key"},"requisites"),e(": { "),s("span",{class:"mcp-string"},'"195630"'),e(": "),s("span",{class:"mcp-string"},'"/settings"'),e(", "),s("span",{class:"mcp-string"},'"195631"'),e(": "),s("span",{class:"mcp-string"},'"pi pi-cog"'),e(` }
    }
  ]
})
`),s("span",{class:"mcp-comment"},"// Возвращает: [197070, 197071, 197072]")])])]),s("div",{class:"example-step"},[s("div",{class:"step-header mb-2"},[s("span",{class:"step-title"},"Создание родителя с детьми")]),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"mcp-function"},"integram_create_parent_with_children"),e(`({
  `),s("span",{class:"mcp-key"},"parentTypeId"),e(": "),s("span",{class:"mcp-number"},"22"),e(",      "),s("span",{class:"mcp-comment"},"// Отчет"),e(`
  `),s("span",{class:"mcp-key"},"parentValue"),e(": "),s("span",{class:"mcp-string"},'"Продажи по менеджерам"'),e(`,
  `),s("span",{class:"mcp-key"},"parentRequisites"),e(": { "),s("span",{class:"mcp-string"},'"228"'),e(": "),s("span",{class:"mcp-string"},'"1"'),e(" },  "),s("span",{class:"mcp-comment"},"// EXECUTE flag"),e(`
  `),s("span",{class:"mcp-key"},"childTypeId"),e(": "),s("span",{class:"mcp-number"},"28"),e(",       "),s("span",{class:"mcp-comment"},"// Колонки отчета"),e(`
  `),s("span",{class:"mcp-key"},"children"),e(`: [
    { `),s("span",{class:"mcp-key"},"value"),e(": "),s("span",{class:"mcp-string"},'"Менеджер"'),e(", "),s("span",{class:"mcp-key"},"requisites"),e(": { "),s("span",{class:"mcp-string"},'"100"'),e(": "),s("span",{class:"mcp-string"},'"Менеджер"'),e(` } },
    { `),s("span",{class:"mcp-key"},"value"),e(": "),s("span",{class:"mcp-string"},'"Сумма"'),e(", "),s("span",{class:"mcp-key"},"requisites"),e(": { "),s("span",{class:"mcp-string"},'"100"'),e(": "),s("span",{class:"mcp-string"},'"Сумма"'),e(", "),s("span",{class:"mcp-string"},'"72"'),e(": "),s("span",{class:"mcp-string"},'"1"'),e(` } }
  ]
})`)])])])],-1)])]),_:1}),t(m,{header:"MCP: Multiselect"},{default:o(()=>[...a[50]||(a[50]=[s("div",{class:"example-steps"},[s("div",{class:"example-step"},[s("div",{class:"step-circle"},"1"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Добавить элемент в multiselect"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"mcp-function"},"integram_add_multiselect_item"),e(`({
  `),s("span",{class:"mcp-key"},"objectId"),e(": "),s("span",{class:"mcp-number"},"197070"),e(`,
  `),s("span",{class:"mcp-key"},"requisiteId"),e(": "),s("span",{class:"mcp-number"},"197038"),e(",  "),s("span",{class:"mcp-comment"},"// multiselect реквизит"),e(`
  `),s("span",{class:"mcp-key"},"value"),e(": "),s("span",{class:"mcp-string"},'"197039"'),e("       "),s("span",{class:"mcp-comment"},"// ID выбираемого объекта"),e(`
})`)])])])]),s("div",{class:"example-step"},[s("div",{class:"step-circle"},"2"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Получить все элементы multiselect"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"js-keyword"},"const"),e(" items = "),s("span",{class:"mcp-function"},"integram_get_multiselect_items"),e(`({
  `),s("span",{class:"mcp-key"},"objectId"),e(": "),s("span",{class:"mcp-number"},"197070"),e(`,
  `),s("span",{class:"mcp-key"},"requisiteId"),e(": "),s("span",{class:"mcp-number"},"197038"),e(`
})`)])]),s("div",{class:"json-code-block"},[s("div",{class:"code-label"},"Ответ:"),s("pre",{class:"json-code"},[e(`[
  { `),s("span",{class:"json-key"},'"id"'),e(": "),s("span",{class:"json-string"},'"123"'),e(", "),s("span",{class:"json-key"},'"value"'),e(": "),s("span",{class:"json-string"},'"197039"'),e(` },
  { `),s("span",{class:"json-key"},'"id"'),e(": "),s("span",{class:"json-string"},'"124"'),e(", "),s("span",{class:"json-key"},'"value"'),e(": "),s("span",{class:"json-string"},'"197040"'),e(` }
]`)])])])]),s("div",{class:"example-step"},[s("div",{class:"step-circle"},"3"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Удалить элемент multiselect"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"mcp-function"},"integram_remove_multiselect_item"),e(`({
  `),s("span",{class:"mcp-key"},"itemId"),e(": "),s("span",{class:"mcp-string"},'"123"'),e("  "),s("span",{class:"mcp-comment"},"// НЕ objectId, а ID связи!"),e(`
})`)])])])])],-1)])]),_:1}),t(m,{header:"MCP: Структурные операции"},{default:o(()=>[...a[51]||(a[51]=[s("div",{class:"example-steps"},[s("div",{class:"example-step"},[s("div",{class:"step-circle"},"1"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Получить полную структуру таблицы"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"js-keyword"},"const"),e(" structure = "),s("span",{class:"mcp-function"},"integram_get_table_structure"),e(`({
  `),s("span",{class:"mcp-key"},"typeId"),e(": "),s("span",{class:"mcp-number"},"195629"),e(`
})`)])]),s("div",{class:"json-code-block"},[s("div",{class:"code-label"},"Возвращает:"),s("pre",{class:"json-code"},[s("span",{class:"mcp-comment"},"// metadata, columns с именами и типами, статистику")])])])]),s("div",{class:"example-step"},[s("div",{class:"step-circle"},"2"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Клонировать структуру таблицы"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"mcp-function"},"integram_clone_table_structure"),e(`({
  `),s("span",{class:"mcp-key"},"sourceTypeId"),e(": "),s("span",{class:"mcp-number"},"195629"),e(`,
  `),s("span",{class:"mcp-key"},"newTableName"),e(": "),s("span",{class:"mcp-string"},'"БоковоеМеню_Копия"'),e(`,
  `),s("span",{class:"mcp-key"},"baseTypeId"),e(": "),s("span",{class:"mcp-number"},"3"),e(`
})`)])])])]),s("div",{class:"example-step"},[s("div",{class:"step-circle"},"3"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Переименовать таблицу"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"mcp-function"},"integram_rename_table"),e(`({
  `),s("span",{class:"mcp-key"},"typeId"),e(": "),s("span",{class:"mcp-number"},"195629"),e(`,
  `),s("span",{class:"mcp-key"},"newName"),e(": "),s("span",{class:"mcp-string"},'"ГлавноеМеню"'),e(`
})`)])])])]),s("div",{class:"example-step"},[s("div",{class:"step-circle"},"4"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Добавить несколько колонок сразу"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"mcp-function"},"integram_add_columns_to_table"),e(`({
  `),s("span",{class:"mcp-key"},"typeId"),e(": "),s("span",{class:"mcp-number"},"195629"),e(`,
  `),s("span",{class:"mcp-key"},"columns"),e(`: [
    { `),s("span",{class:"mcp-key"},"alias"),e(": "),s("span",{class:"mcp-string"},'"Описание"'),e(", "),s("span",{class:"mcp-key"},"requisiteTypeId"),e(": "),s("span",{class:"mcp-number"},"2"),e(", "),s("span",{class:"mcp-key"},"allowNull"),e(": "),s("span",{class:"mcp-boolean"},"true"),e(` },
    { `),s("span",{class:"mcp-key"},"alias"),e(": "),s("span",{class:"mcp-string"},'"Активен"'),e(", "),s("span",{class:"mcp-key"},"requisiteTypeId"),e(": "),s("span",{class:"mcp-number"},"7"),e(", "),s("span",{class:"mcp-key"},"allowNull"),e(": "),s("span",{class:"mcp-boolean"},"false"),e(` },
    { `),s("span",{class:"mcp-key"},"alias"),e(": "),s("span",{class:"mcp-string"},'"Порядок"'),e(", "),s("span",{class:"mcp-key"},"requisiteTypeId"),e(": "),s("span",{class:"mcp-number"},"13"),e(` }
  ]
})`)])])])]),s("div",{class:"example-step"},[s("div",{class:"step-circle"},"5"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Удалить таблицу со всеми данными"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"mcp-function"},"integram_delete_table_cascade"),e(`({
  `),s("span",{class:"mcp-key"},"typeId"),e(": "),s("span",{class:"mcp-number"},"195629"),e(`,
  `),s("span",{class:"mcp-key"},"confirm"),e(": "),s("span",{class:"mcp-boolean"},"true"),e("  "),s("span",{class:"mcp-comment"},"// Обязательное подтверждение"),e(`
})`)])])])])],-1)])]),_:1}),t(m,{header:"MCP: Работа с отчетами"},{default:o(()=>[...a[52]||(a[52]=[s("div",{class:"example-steps"},[s("div",{class:"example-step"},[s("div",{class:"step-circle"},"1"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Создать отчет с FROM и колонками"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"js-keyword"},"const"),e(" reportId = "),s("span",{class:"mcp-function"},"integram_create_report"),e(`({
  `),s("span",{class:"mcp-key"},"name"),e(": "),s("span",{class:"mcp-string"},'"Клиенты с заказами"'),e(`,
  `),s("span",{class:"mcp-key"},"fromTables"),e(`: [
    { `),s("span",{class:"mcp-key"},"tableId"),e(": "),s("span",{class:"mcp-number"},"204210"),e(", "),s("span",{class:"mcp-key"},"alias"),e(": "),s("span",{class:"mcp-string"},'"c"'),e(` },
    { `),s("span",{class:"mcp-key"},"tableId"),e(": "),s("span",{class:"mcp-number"},"204220"),e(", "),s("span",{class:"mcp-key"},"alias"),e(": "),s("span",{class:"mcp-string"},'"o"'),e(", "),s("span",{class:"mcp-key"},"joinOn"),e(": "),s("span",{class:"mcp-string"},'"o.client_id = c.id"'),e(` }
  ],
  `),s("span",{class:"mcp-key"},"columns"),e(`: [
    { `),s("span",{class:"mcp-key"},"field"),e(": "),s("span",{class:"mcp-number"},"204210"),e(", "),s("span",{class:"mcp-key"},"name"),e(": "),s("span",{class:"mcp-string"},'"Клиент"'),e(` },
    { `),s("span",{class:"mcp-key"},"field"),e(": "),s("span",{class:"mcp-number"},"0"),e(", "),s("span",{class:"mcp-key"},"formula"),e(": "),s("span",{class:"mcp-string"},'"COUNT(o.id)"'),e(", "),s("span",{class:"mcp-key"},"name"),e(": "),s("span",{class:"mcp-string"},'"Заказов"'),e(` }
  ],
  `),s("span",{class:"mcp-key"},"where"),e(": "),s("span",{class:"mcp-string"},'"c.active = 1"'),e(`,
  `),s("span",{class:"mcp-key"},"orderBy"),e(": "),s("span",{class:"mcp-string"},'"c.name"'),e(`,
  `),s("span",{class:"mcp-key"},"limit"),e(": "),s("span",{class:"mcp-number"},"100"),e(`
})`)])])])]),s("div",{class:"example-step"},[s("div",{class:"step-circle"},"2"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Добавить колонку в существующий отчет"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"mcp-function"},"integram_add_report_column"),e(`({
  `),s("span",{class:"mcp-key"},"reportId"),e(": "),s("span",{class:"mcp-number"},"12345"),e(`,
  `),s("span",{class:"mcp-key"},"fieldId"),e(": "),s("span",{class:"mcp-number"},"204214"),e(`,
  `),s("span",{class:"mcp-key"},"nameInReport"),e(": "),s("span",{class:"mcp-string"},'"Телефон"'),e(`,
  `),s("span",{class:"mcp-key"},"formula"),e(": "),s("span",{class:"mcp-string"},'"c.phone"'),e(`
})`)])])])]),s("div",{class:"example-step"},[s("div",{class:"step-circle"},"3"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Клонировать отчет"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"mcp-function"},"integram_clone_report"),e(`({
  `),s("span",{class:"mcp-key"},"sourceReportId"),e(": "),s("span",{class:"mcp-number"},"12345"),e(`,
  `),s("span",{class:"mcp-key"},"newName"),e(": "),s("span",{class:"mcp-string"},'"Клиенты с заказами (копия)"'),e(`,
  `),s("span",{class:"mcp-key"},"setExecute"),e(": "),s("span",{class:"mcp-boolean"},"true"),e(`
})`)])])])]),s("div",{class:"example-step"},[s("div",{class:"step-circle"},"4"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Получить структуру отчета"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"js-keyword"},"const"),e(" reportStructure = "),s("span",{class:"mcp-function"},"integram_get_report_structure"),e(`({
  `),s("span",{class:"mcp-key"},"reportId"),e(": "),s("span",{class:"mcp-number"},"12345"),e(`
})`)])]),s("div",{class:"json-code-block"},[s("div",{class:"code-label"},"Возвращает:"),s("pre",{class:"json-code"},[s("span",{class:"mcp-comment"},"// FROM tables, columns, requisites")])])])])],-1)])]),_:1}),t(m,{header:"MCP: Lookup с reference"},{default:o(()=>[...a[53]||(a[53]=[s("div",{class:"example-steps"},[s("div",{class:"example-step"},[s("div",{class:"step-circle"},"1"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Создать справочник И добавить как колонку"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"mcp-function"},"integram_create_lookup_with_reference"),e(`({
  `),s("span",{class:"mcp-key"},"targetTableId"),e(": "),s("span",{class:"mcp-number"},"195629"),e(",        "),s("span",{class:"mcp-comment"},"// Таблица БоковоеМеню"),e(`
  `),s("span",{class:"mcp-key"},"lookupTableName"),e(": "),s("span",{class:"mcp-string"},'"Статусы меню"'),e(`,
  `),s("span",{class:"mcp-key"},"values"),e(": ["),s("span",{class:"mcp-string"},'"Активный"'),e(", "),s("span",{class:"mcp-string"},'"Скрытый"'),e(", "),s("span",{class:"mcp-string"},'"Удален"'),e(`],
  `),s("span",{class:"mcp-key"},"columnAlias"),e(": "),s("span",{class:"mcp-string"},'"Статус"'),e(`,
  `),s("span",{class:"mcp-key"},"multiSelect"),e(": "),s("span",{class:"mcp-boolean"},"false"),e(`
})`)])])])]),s("div",{class:"example-step"},[s("div",{class:"step-circle"},"2"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Или создать lookup отдельно"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"js-keyword"},"const"),e(" lookupId = "),s("span",{class:"mcp-function"},"integram_create_lookup_table"),e(`({
  `),s("span",{class:"mcp-key"},"tableName"),e(": "),s("span",{class:"mcp-string"},'"Приоритеты"'),e(`,
  `),s("span",{class:"mcp-key"},"values"),e(": ["),s("span",{class:"mcp-string"},'"Низкий"'),e(", "),s("span",{class:"mcp-string"},'"Средний"'),e(", "),s("span",{class:"mcp-string"},'"Высокий"'),e(", "),s("span",{class:"mcp-string"},'"Критический"'),e(`],
  `),s("span",{class:"mcp-key"},"unique"),e(": "),s("span",{class:"mcp-boolean"},"true"),e(`
})`)])])])]),s("div",{class:"example-step"},[s("div",{class:"step-circle"},"3"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Затем добавить как reference колонку"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"mcp-function"},"integram_add_reference_column"),e(`({
  `),s("span",{class:"mcp-key"},"typeId"),e(": "),s("span",{class:"mcp-number"},"195629"),e(`,
  `),s("span",{class:"mcp-key"},"referenceTableId"),e(`: lookupId,
  `),s("span",{class:"mcp-key"},"alias"),e(": "),s("span",{class:"mcp-string"},'"Приоритет"'),e(`,
  `),s("span",{class:"mcp-key"},"multiSelect"),e(": "),s("span",{class:"mcp-boolean"},"false"),e(`,
  `),s("span",{class:"mcp-key"},"allowNull"),e(": "),s("span",{class:"mcp-boolean"},"true"),e(`
})`)])])])])],-1)])]),_:1}),t(m,{header:"MCP: Работа с метаданными"},{default:o(()=>[...a[54]||(a[54]=[s("div",{class:"example-steps"},[s("div",{class:"example-step"},[s("div",{class:"step-circle"},"1"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Получить метаданные всех типов сразу"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"js-keyword"},"const"),e(" allTypes = "),s("span",{class:"mcp-function"},"integram_get_all_types_metadata"),e("()")])])])]),s("div",{class:"example-step"},[s("div",{class:"step-circle"},"2"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Подсчитать объекты без загрузки данных"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"js-keyword"},"const"),e(" count = "),s("span",{class:"mcp-function"},"integram_get_object_count"),e("({ "),s("span",{class:"mcp-key"},"typeId"),e(": "),s("span",{class:"mcp-number"},"195629"),e(" })")])]),s("div",{class:"json-code-block"},[s("div",{class:"code-label"},"Ответ:"),s("pre",{class:"json-code"},[e("{ "),s("span",{class:"json-key"},'"count"'),e(": "),s("span",{class:"json-number"},"42"),e(" }")])])])]),s("div",{class:"example-step"},[s("div",{class:"step-circle"},"3"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Получить метаданные объекта"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"js-keyword"},"const"),e(" objMeta = "),s("span",{class:"mcp-function"},"integram_get_object_meta"),e(`({
  `),s("span",{class:"mcp-key"},"objectId"),e(": "),s("span",{class:"mcp-number"},"197070"),e(`
})`)])]),s("div",{class:"json-code-block"},[s("div",{class:"code-label"},"Ответ:"),s("pre",{class:"json-code"},[e(`{
  `),s("span",{class:"json-key"},'"type"'),e(": "),s("span",{class:"json-number"},"195629"),e(`,
  `),s("span",{class:"json-key"},'"parent"'),e(": "),s("span",{class:"json-number"},"1"),e(`,
  `),s("span",{class:"json-key"},'"created"'),e(": "),s("span",{class:"json-string"},'"..."'),e(`,
  `),s("span",{class:"json-key"},'"modified"'),e(": "),s("span",{class:"json-string"},'"..."'),e(`
}`)])])])]),s("div",{class:"example-step"},[s("div",{class:"step-circle"},"4"),s("div",{class:"step-content"},[s("div",{class:"step-title"},"Получить компактную схему для AI"),s("div",{class:"mcp-code-block"},[s("div",{class:"code-label"},"MCP Tool:"),s("pre",{class:"mcp-code"},[s("span",{class:"js-keyword"},"const"),e(" schema = "),s("span",{class:"mcp-function"},"integram_get_schema"),e(`({
  `),s("span",{class:"mcp-key"},"filter"),e(": "),s("span",{class:"mcp-string"},'"Меню"'),e(`,
  `),s("span",{class:"mcp-key"},"includeSystemTables"),e(": "),s("span",{class:"mcp-boolean"},"false"),e(`
})`)])]),s("div",{class:"json-code-block"},[s("div",{class:"code-label"},"Формат:"),s("pre",{class:"json-code"},[e(`[
  {
    `),s("span",{class:"json-key"},'"id"'),e(": "),s("span",{class:"json-number"},"195629"),e(`,
    `),s("span",{class:"json-key"},'"name"'),e(": "),s("span",{class:"json-string"},'"БоковоеМеню"'),e(`,
    `),s("span",{class:"json-key"},'"fields"'),e(`: [
      { `),s("span",{class:"json-key"},'"id"'),e(": "),s("span",{class:"json-number"},"195630"),e(", "),s("span",{class:"json-key"},'"name"'),e(": "),s("span",{class:"json-string"},'"path"'),e(", "),s("span",{class:"json-key"},'"type"'),e(": "),s("span",{class:"json-string"},'"SHORT"'),e(", "),s("span",{class:"json-key"},'"ref"'),e(": "),s("span",{class:"json-null"},"null"),e(` }
    ]
  }
]`)])])])])],-1)])]),_:1})]),_:1})],512),[[D,l.sections.examples]])]),s("div",De,[s("div",{class:"section-header",onClick:a[9]||(a[9]=n=>l.sections.playground=!l.sections.playground)},[a[55]||(a[55]=s("h3",{class:"section-title"},"Playground",-1)),s("i",{class:w([l.sections.playground?"pi pi-chevron-down":"pi pi-chevron-right","section-chevron"])},null,2)]),_(s("div",Ce,[s("div",Re,[s("div",Se,[s("div",Oe,[s("div",Le,[a[56]||(a[56]=s("label",{class:"block mb-2"},"Метод",-1)),t(P,{modelValue:l.playground.method,"onUpdate:modelValue":a[10]||(a[10]=n=>l.playground.method=n),options:[{label:"GET",value:"GET"},{label:"POST",value:"POST"}],optionLabel:"label",optionValue:"value"},null,8,["modelValue"])]),s("div",Ne,[a[57]||(a[57]=s("label",{class:"block mb-2"},"Endpoint",-1)),s("div",Ue,[s("span",Pe,"/"+r(l.database||"db")+"/",1),t(R,{modelValue:l.playground.endpoint,"onUpdate:modelValue":a[11]||(a[11]=n=>l.playground.endpoint=n),placeholder:"dict"},null,8,["modelValue"])])]),l.playground.method==="POST"?(u(),y("div",Me,[a[59]||(a[59]=s("label",{class:"block mb-2 font-semibold"},"Параметры запроса",-1)),s("div",Ae,[a[58]||(a[58]=s("div",{class:"params-header"},[s("div",{class:"param-col-checkbox"}),s("div",{class:"param-col-key"},"KEY"),s("div",{class:"param-col-value"},"VALUE"),s("div",{class:"param-col-actions"})],-1)),s("div",Ve,[(u(!0),y(z,null,F(l.playground.params,(n,T)=>(u(),y("div",{key:T,class:w(["param-row",{"param-disabled":!n.enabled}])},[s("div",Ee,[t(M,{modelValue:n.enabled,"onUpdate:modelValue":I=>n.enabled=I,binary:!0,onChange:I=>l.toggleParam(T)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),s("div",Be,[t(R,{modelValue:n.key,"onUpdate:modelValue":I=>n.key=I,placeholder:"key",disabled:!n.enabled,class:"param-input"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),s("div",Je,[t(R,{modelValue:n.value,"onUpdate:modelValue":I=>n.value=I,placeholder:"value",disabled:!n.enabled,class:"param-input"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),s("div",Ke,[_(t(g,{icon:"pi pi-trash",size:"small",text:"",severity:"danger",onClick:I=>l.removeParam(T),disabled:l.playground.params.length===1,class:"p-0"},null,8,["onClick","disabled"]),[[f,"Удалить",void 0,{top:!0}]])])],2))),128))]),s("div",ze,[t(g,{label:"Добавить параметр",icon:"pi pi-plus",size:"small",text:"",onClick:l.addParam})])])])):C("",!0),s("div",Fe,[t(g,{label:"Выполнить",icon:"pi pi-play",onClick:l.executePlayground,loading:l.playgroundLoading,disabled:!l.isAuthenticated,class:"flex-1"},null,8,["loading","disabled"]),_(t(g,{icon:"pi pi-refresh",outlined:"",onClick:l.resetPlayground},null,512),[[f,"Очистить",void 0,{top:!0}]])]),l.isAuthenticated?C("",!0):(u(),y("small",Ge," Требуется авторизация "))])]),s("div",He,[s("div",Qe,[a[61]||(a[61]=s("label",{class:"block mb-2 font-semibold"},"Ответ",-1)),s("div",Xe,[l.playgroundResult?(u(),y("div",Ye,[s("div",We,[l.playgroundResult.status<400?(u(),y("i",Ze)):(u(),y("i",$e)),s("span",sa,"Status "+r(l.playgroundResult.status),1)]),s("div",ea,[t(h,{value:`${l.playgroundResult.time}ms`,severity:"secondary",size:"small"},null,8,["value"]),_(t(g,{icon:"pi pi-copy",size:"small",text:"",severity:"secondary",onClick:l.copyResponse,class:"p-0"},null,512),[[f,"Копировать",void 0,{top:!0}]])])])):C("",!0),l.playgroundResult?(u(),y("div",aa,[s("pre",la,r(l.formatJSON(l.playgroundResult.data)),1)])):(u(),y("div",na,[...a[60]||(a[60]=[s("i",{class:"pi pi-inbox"},null,-1),s("p",null,"Выполните запрос",-1),s("small",{class:"text-xs text-color-secondary"},"Ответ появится здесь",-1)])]))])])])])],512),[[D,l.sections.playground]])])]),_:1}),t(V)])}const ra=ys(gs,[["render",ta],["__scopeId","data-v-c6994649"],["__file","/home/hive/integram-standalone/src/views/pages/Integram/IntegramApiDocs.vue"]]);export{ra as default};
