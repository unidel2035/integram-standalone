import{b as s}from"./AppLayout-B6X7JoKg.js";import{J as e,h as t,o as a,w as i,a as l,c as n,F as o,d as r,t as p,g as d,A as c,C as u,I as v,cw as m}from"./index-CaUq7SZf.js";import{_ as g}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./logger-DLAyPY85.js";import"./authStore-CmOaKBKq.js";import"./index-CcrxTH1M.js";import"./unifiedAuthService-6fZILgG8.js";import"./integramApiClient-BsYdo77J.js";import"./useTimer-yAmo2CsE.js";import"./SafeRouterView-B0-J6TPH.js";const b={class:"agent-status-content"},h={key:0,class:"empty-state"},y={key:1,class:"agents-list"},f={class:"agent-header"},j={class:"agent-info"},A={class:"agent-details"},_={class:"detail-item"},w={class:"detail-value"},x={class:"detail-item"},k={class:"detail-value"},C={class:"agent-actions"},I=g({__name:"AgentStatusPanel",props:{visible:{type:Boolean,default:!1}},emits:["close","update:visible"],setup(g,{emit:I}){const S=s(),$=e(()=>S.runningAgents||[]),z=s=>{const e=new Date(s),t=new Date-e,a=Math.floor(t/6e4),i=Math.floor(t/36e5);return a<1?"только что":a<60?`${a} мин назад`:`${i} ч назад`};return(s,e)=>(a(),t(u(m),{visible:g.visible,"onUpdate:visible":e[0]||(e[0]=e=>s.$emit("update:visible",e)),position:"right",showCloseIcon:!0,class:"agent-status-sidebar"},{header:i(()=>[...e[1]||(e[1]=[l("h3",null,"Статус агентов",-1)])]),default:i(()=>[l("div",b,[0===$.value.length?(a(),n("div",h,[...e[2]||(e[2]=[l("i",{class:"pi pi-bolt",style:{"font-size":"3rem",color:"var(--text-color-secondary)"}},null,-1),l("p",null,"Нет запущенных агентов",-1)])])):(a(),n("div",y,[(a(!0),n(o,null,r($.value,s=>{return a(),n("div",{key:s.id,class:"agent-item"},[l("div",f,[e[3]||(e[3]=l("div",{class:"agent-icon"},[l("i",{class:"pi pi-bolt"})],-1)),l("div",j,[l("h4",null,p(s.name),1),l("span",{class:d(["agent-status",(t=s.status,{running:"status-running",stopped:"status-stopped",error:"status-error"}[t]||"")])},p(s.status),3)])]),l("div",A,[l("div",_,[e[4]||(e[4]=l("span",{class:"detail-label"},"Тип:",-1)),l("span",w,p(s.type),1)]),l("div",x,[e[5]||(e[5]=l("span",{class:"detail-label"},"Запущен:",-1)),l("span",k,p(z(s.startedAt)),1)])]),l("div",C,[c(u(v),{label:"Остановить",icon:"pi pi-stop",size:"small",severity:"danger",outlined:"",onClick:e=>(async s=>{try{await S.stopAgent(s)}catch(e){}})(s.id)},null,8,["onClick"])])]);var t}),128))]))])]),_:1},8,["visible"]))}},[["__scopeId","data-v-ebb54530"]]);export{I as default};
