import{B as e,a6 as t,R as n,a7 as i,a8 as o,s,a9 as a,z as r,aa as u,ab as l,ac as c,q as m,ad as d,ae as p,af as b,m as h,y as f,u as I,c as v,o as g,F as y,d as x,b as k,a as w,h as L,j as P,g as O,k as M,t as C,n as A,i as K,A as S,ag as $,ah as E,ai as F,p as V,aj as D,ak as N,al as _,am as z,an as T,ao as j,w as R,T as B,f as U,D as H,r as q,J as G,N as Z,L as W,U as Q,K as J,C as X,V as Y}from"./index-m6PXRYQN.js";import{s as ee}from"./index-DQ4CQIz1.js";import{s as te}from"./index-igYLo6q9.js";import{s as ne}from"./index-BApJBwWw.js";import{i as ie}from"./integramApiClient-BsYdo77J.js";import{_ as oe}from"./SafeRouterView-xysYyGdQ.js";import{_ as se}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-CcrxTH1M.js";import"./unifiedAuthService-6fZILgG8.js";var ae=e.extend({name:"menubar",style:"\n    .p-menubar {\n        display: flex;\n        align-items: center;\n        background: dt('menubar.background');\n        border: 1px solid dt('menubar.border.color');\n        border-radius: dt('menubar.border.radius');\n        color: dt('menubar.color');\n        padding: dt('menubar.padding');\n        gap: dt('menubar.gap');\n    }\n\n    .p-menubar-start,\n    .p-megamenu-end {\n        display: flex;\n        align-items: center;\n    }\n\n    .p-menubar-root-list,\n    .p-menubar-submenu {\n        display: flex;\n        margin: 0;\n        padding: 0;\n        list-style: none;\n        outline: 0 none;\n    }\n\n    .p-menubar-root-list {\n        align-items: center;\n        flex-wrap: wrap;\n        gap: dt('menubar.gap');\n    }\n\n    .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content {\n        border-radius: dt('menubar.base.item.border.radius');\n    }\n\n    .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content > .p-menubar-item-link {\n        padding: dt('menubar.base.item.padding');\n    }\n\n    .p-menubar-item-content {\n        transition:\n            background dt('menubar.transition.duration'),\n            color dt('menubar.transition.duration');\n        border-radius: dt('menubar.item.border.radius');\n        color: dt('menubar.item.color');\n    }\n\n    .p-menubar-item-link {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        text-decoration: none;\n        overflow: hidden;\n        position: relative;\n        color: inherit;\n        padding: dt('menubar.item.padding');\n        gap: dt('menubar.item.gap');\n        user-select: none;\n        outline: 0 none;\n    }\n\n    .p-menubar-item-label {\n        line-height: 1;\n    }\n\n    .p-menubar-item-icon {\n        color: dt('menubar.item.icon.color');\n    }\n\n    .p-menubar-submenu-icon {\n        color: dt('menubar.submenu.icon.color');\n        margin-left: auto;\n        font-size: dt('menubar.submenu.icon.size');\n        width: dt('menubar.submenu.icon.size');\n        height: dt('menubar.submenu.icon.size');\n    }\n\n    .p-menubar-submenu .p-menubar-submenu-icon:dir(rtl) {\n        margin-left: 0;\n        margin-right: auto;\n    }\n\n    .p-menubar-item.p-focus > .p-menubar-item-content {\n        color: dt('menubar.item.focus.color');\n        background: dt('menubar.item.focus.background');\n    }\n\n    .p-menubar-item.p-focus > .p-menubar-item-content .p-menubar-item-icon {\n        color: dt('menubar.item.icon.focus.color');\n    }\n\n    .p-menubar-item.p-focus > .p-menubar-item-content .p-menubar-submenu-icon {\n        color: dt('menubar.submenu.icon.focus.color');\n    }\n\n    .p-menubar-item:not(.p-disabled) > .p-menubar-item-content:hover {\n        color: dt('menubar.item.focus.color');\n        background: dt('menubar.item.focus.background');\n    }\n\n    .p-menubar-item:not(.p-disabled) > .p-menubar-item-content:hover .p-menubar-item-icon {\n        color: dt('menubar.item.icon.focus.color');\n    }\n\n    .p-menubar-item:not(.p-disabled) > .p-menubar-item-content:hover .p-menubar-submenu-icon {\n        color: dt('menubar.submenu.icon.focus.color');\n    }\n\n    .p-menubar-item-active > .p-menubar-item-content {\n        color: dt('menubar.item.active.color');\n        background: dt('menubar.item.active.background');\n    }\n\n    .p-menubar-item-active > .p-menubar-item-content .p-menubar-item-icon {\n        color: dt('menubar.item.icon.active.color');\n    }\n\n    .p-menubar-item-active > .p-menubar-item-content .p-menubar-submenu-icon {\n        color: dt('menubar.submenu.icon.active.color');\n    }\n\n    .p-menubar-submenu {\n        display: none;\n        position: absolute;\n        min-width: 12.5rem;\n        z-index: 1;\n        background: dt('menubar.submenu.background');\n        border: 1px solid dt('menubar.submenu.border.color');\n        border-radius: dt('menubar.submenu.border.radius');\n        box-shadow: dt('menubar.submenu.shadow');\n        color: dt('menubar.submenu.color');\n        flex-direction: column;\n        padding: dt('menubar.submenu.padding');\n        gap: dt('menubar.submenu.gap');\n    }\n\n    .p-menubar-submenu .p-menubar-separator {\n        border-block-start: 1px solid dt('menubar.separator.border.color');\n    }\n\n    .p-menubar-submenu .p-menubar-item {\n        position: relative;\n    }\n\n    .p-menubar-submenu > .p-menubar-item-active > .p-menubar-submenu {\n        display: block;\n        left: 100%;\n        top: 0;\n    }\n\n    .p-menubar-end {\n        margin-left: auto;\n        align-self: center;\n    }\n\n    .p-menubar-end:dir(rtl) {\n        margin-left: 0;\n        margin-right: auto;\n    }\n\n    .p-menubar-button {\n        display: none;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n        width: dt('menubar.mobile.button.size');\n        height: dt('menubar.mobile.button.size');\n        position: relative;\n        color: dt('menubar.mobile.button.color');\n        border: 0 none;\n        background: transparent;\n        border-radius: dt('menubar.mobile.button.border.radius');\n        transition:\n            background dt('menubar.transition.duration'),\n            color dt('menubar.transition.duration'),\n            outline-color dt('menubar.transition.duration');\n        outline-color: transparent;\n    }\n\n    .p-menubar-button:hover {\n        color: dt('menubar.mobile.button.hover.color');\n        background: dt('menubar.mobile.button.hover.background');\n    }\n\n    .p-menubar-button:focus-visible {\n        box-shadow: dt('menubar.mobile.button.focus.ring.shadow');\n        outline: dt('menubar.mobile.button.focus.ring.width') dt('menubar.mobile.button.focus.ring.style') dt('menubar.mobile.button.focus.ring.color');\n        outline-offset: dt('menubar.mobile.button.focus.ring.offset');\n    }\n\n    .p-menubar-mobile {\n        position: relative;\n    }\n\n    .p-menubar-mobile .p-menubar-button {\n        display: flex;\n    }\n\n    .p-menubar-mobile .p-menubar-root-list {\n        position: absolute;\n        display: none;\n        width: 100%;\n        flex-direction: column;\n        top: 100%;\n        left: 0;\n        z-index: 1;\n        padding: dt('menubar.submenu.padding');\n        background: dt('menubar.submenu.background');\n        border: 1px solid dt('menubar.submenu.border.color');\n        box-shadow: dt('menubar.submenu.shadow');\n        border-radius: dt('menubar.submenu.border.radius');\n        gap: dt('menubar.submenu.gap');\n    }\n\n    .p-menubar-mobile .p-menubar-root-list:dir(rtl) {\n        left: auto;\n        right: 0;\n    }\n\n    .p-menubar-mobile .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content > .p-menubar-item-link {\n        padding: dt('menubar.item.padding');\n    }\n\n    .p-menubar-mobile-active .p-menubar-root-list {\n        display: flex;\n    }\n\n    .p-menubar-mobile .p-menubar-root-list .p-menubar-item {\n        width: 100%;\n        position: static;\n    }\n\n    .p-menubar-mobile .p-menubar-root-list .p-menubar-separator {\n        border-block-start: 1px solid dt('menubar.separator.border.color');\n    }\n\n    .p-menubar-mobile .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content .p-menubar-submenu-icon {\n        margin-left: auto;\n        transition: transform 0.2s;\n    }\n\n    .p-menubar-mobile .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content .p-menubar-submenu-icon:dir(rtl),\n    .p-menubar-mobile .p-menubar-submenu-icon:dir(rtl) {\n        margin-left: 0;\n        margin-right: auto;\n    }\n\n    .p-menubar-mobile .p-menubar-root-list > .p-menubar-item-active > .p-menubar-item-content .p-menubar-submenu-icon {\n        transform: rotate(-180deg);\n    }\n\n    .p-menubar-mobile .p-menubar-submenu .p-menubar-submenu-icon {\n        transition: transform 0.2s;\n        transform: rotate(90deg);\n    }\n\n    .p-menubar-mobile .p-menubar-item-active > .p-menubar-item-content .p-menubar-submenu-icon {\n        transform: rotate(-90deg);\n    }\n\n    .p-menubar-mobile .p-menubar-submenu {\n        width: 100%;\n        position: static;\n        box-shadow: none;\n        border: 0 none;\n        padding-inline-start: dt('menubar.submenu.mobile.indent');\n        padding-inline-end: 0;\n    }\n",classes:{root:function(e){var t=e.instance;return["p-menubar p-component",{"p-menubar-mobile":t.queryMatches,"p-menubar-mobile-active":t.mobileActive}]},start:"p-menubar-start",button:"p-menubar-button",rootList:"p-menubar-root-list",item:function(e){var t=e.instance,n=e.processedItem;return["p-menubar-item",{"p-menubar-item-active":t.isItemActive(n),"p-focus":t.isItemFocused(n),"p-disabled":t.isItemDisabled(n)}]},itemContent:"p-menubar-item-content",itemLink:"p-menubar-item-link",itemIcon:"p-menubar-item-icon",itemLabel:"p-menubar-item-label",submenuIcon:"p-menubar-submenu-icon",submenu:"p-menubar-submenu",separator:"p-menubar-separator",end:"p-menubar-end"},inlineStyles:{submenu:function(e){var t=e.instance,n=e.processedItem;return{display:t.isItemActive(n)?"flex":"none"}}}}),re={name:"BaseMenubar",extends:s,props:{model:{type:Array,default:null},buttonProps:{type:null,default:null},breakpoint:{type:String,default:"960px"},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:ae,provide:function(){return{$pcMenubar:this,$parentInstance:this}}},ue={name:"MenubarSub",hostName:"Menubar",extends:s,emits:["item-mouseenter","item-click","item-mousemove"],props:{items:{type:Array,default:null},root:{type:Boolean,default:!1},popup:{type:Boolean,default:!1},mobileActive:{type:Boolean,default:!1},templates:{type:Object,default:null},level:{type:Number,default:0},menuId:{type:String,default:null},focusedItemId:{type:String,default:null},activeItemPath:{type:Object,default:null}},list:null,methods:{getItemId:function(e){return"".concat(this.menuId,"_").concat(e.key)},getItemKey:function(e){return this.getItemId(e)},getItemProp:function(e,t,n){return e&&e.item?b(e.item[t],n):void 0},getItemLabel:function(e){return this.getItemProp(e,"label")},getItemLabelId:function(e){return"".concat(this.menuId,"_").concat(e.key,"_label")},getPTOptions:function(e,t,n){return this.ptm(n,{context:{item:e.item,index:t,active:this.isItemActive(e),focused:this.isItemFocused(e),disabled:this.isItemDisabled(e),level:this.level}})},isItemActive:function(e){return this.activeItemPath.some(function(t){return t.key===e.key})},isItemVisible:function(e){return!1!==this.getItemProp(e,"visible")},isItemDisabled:function(e){return this.getItemProp(e,"disabled")},isItemFocused:function(e){return this.focusedItemId===this.getItemId(e)},isItemGroup:function(e){return a(e.items)},onItemClick:function(e,t){this.getItemProp(t,"command",{originalEvent:e,item:t.item}),this.$emit("item-click",{originalEvent:e,processedItem:t,isFocus:!0})},onItemMouseEnter:function(e,t){this.$emit("item-mouseenter",{originalEvent:e,processedItem:t})},onItemMouseMove:function(e,t){this.$emit("item-mousemove",{originalEvent:e,processedItem:t})},getAriaPosInset:function(e){return e-this.calculateAriaSetSize.slice(0,e).length+1},getMenuItemProps:function(e,t){return{action:h({class:this.cx("itemLink"),tabindex:-1},this.getPTOptions(e,t,"itemLink")),icon:h({class:[this.cx("itemIcon"),this.getItemProp(e,"icon")]},this.getPTOptions(e,t,"itemIcon")),label:h({class:this.cx("itemLabel")},this.getPTOptions(e,t,"itemLabel")),submenuicon:h({class:this.cx("submenuIcon")},this.getPTOptions(e,t,"submenuIcon"))}}},computed:{calculateAriaSetSize:function(){var e=this;return this.items.filter(function(t){return e.isItemVisible(t)&&e.getItemProp(t,"separator")})},getAriaSetSize:function(){var e=this;return this.items.filter(function(t){return e.isItemVisible(t)&&!e.getItemProp(t,"separator")}).length}},components:{AngleRightIcon:o,AngleDownIcon:i},directives:{ripple:n}},le=["id","aria-label","aria-disabled","aria-expanded","aria-haspopup","aria-setsize","aria-posinset","data-p-active","data-p-focused","data-p-disabled"],ce=["onClick","onMouseenter","onMousemove"],me=["href","target"],de=["id"],pe=["id"];ue.render=function(e,t,n,i,o,s){var a=f("MenubarSub",!0),r=I("ripple");return g(),v("ul",h({class:0===n.level?e.cx("rootList"):e.cx("submenu")},0===n.level?e.ptm("rootList"):e.ptm("submenu")),[(g(!0),v(y,null,x(n.items,function(i,o){return g(),v(y,{key:s.getItemKey(i)},[s.isItemVisible(i)&&!s.getItemProp(i,"separator")?(g(),v("li",h({key:0,id:s.getItemId(i),style:s.getItemProp(i,"style"),class:[e.cx("item",{processedItem:i}),s.getItemProp(i,"class")],role:"menuitem","aria-label":s.getItemLabel(i),"aria-disabled":s.isItemDisabled(i)||void 0,"aria-expanded":s.isItemGroup(i)?s.isItemActive(i):void 0,"aria-haspopup":s.isItemGroup(i)&&!s.getItemProp(i,"to")?"menu":void 0,"aria-setsize":s.getAriaSetSize,"aria-posinset":s.getAriaPosInset(o)},{ref_for:!0},s.getPTOptions(i,o,"item"),{"data-p-active":s.isItemActive(i),"data-p-focused":s.isItemFocused(i),"data-p-disabled":s.isItemDisabled(i)}),[w("div",h({class:e.cx("itemContent"),onClick:function(e){return s.onItemClick(e,i)},onMouseenter:function(e){return s.onItemMouseEnter(e,i)},onMousemove:function(e){return s.onItemMouseMove(e,i)}},{ref_for:!0},s.getPTOptions(i,o,"itemContent")),[n.templates.item?(g(),L(M(n.templates.item),{key:1,item:i.item,root:n.root,hasSubmenu:s.getItemProp(i,"items"),label:s.getItemLabel(i),props:s.getMenuItemProps(i,o)},null,8,["item","root","hasSubmenu","label","props"])):P((g(),v("a",h({key:0,href:s.getItemProp(i,"url"),class:e.cx("itemLink"),target:s.getItemProp(i,"target"),tabindex:"-1"},{ref_for:!0},s.getPTOptions(i,o,"itemLink")),[n.templates.itemicon?(g(),L(M(n.templates.itemicon),{key:0,item:i.item,class:O(e.cx("itemIcon"))},null,8,["item","class"])):s.getItemProp(i,"icon")?(g(),v("span",h({key:1,class:[e.cx("itemIcon"),s.getItemProp(i,"icon")]},{ref_for:!0},s.getPTOptions(i,o,"itemIcon")),null,16)):k("",!0),w("span",h({id:s.getItemLabelId(i),class:e.cx("itemLabel")},{ref_for:!0},s.getPTOptions(i,o,"itemLabel")),C(s.getItemLabel(i)),17,de),s.getItemProp(i,"items")?(g(),v(y,{key:2},[n.templates.submenuicon?(g(),L(M(n.templates.submenuicon),{key:0,root:n.root,active:s.isItemActive(i),class:O(e.cx("submenuIcon"))},null,8,["root","active","class"])):(g(),L(M(n.root?"AngleDownIcon":"AngleRightIcon"),h({key:1,class:e.cx("submenuIcon")},{ref_for:!0},s.getPTOptions(i,o,"submenuIcon")),null,16,["class"]))],64)):k("",!0)],16,me)),[[r]])],16,ce),s.isItemVisible(i)&&s.isItemGroup(i)?(g(),L(a,{key:0,id:s.getItemId(i)+"_list",menuId:n.menuId,role:"menu",style:A(e.sx("submenu",!0,{processedItem:i})),focusedItemId:n.focusedItemId,items:i.items,mobileActive:n.mobileActive,activeItemPath:n.activeItemPath,templates:n.templates,level:n.level+1,"aria-labelledby":s.getItemLabelId(i),pt:e.pt,unstyled:e.unstyled,onItemClick:t[0]||(t[0]=function(t){return e.$emit("item-click",t)}),onItemMouseenter:t[1]||(t[1]=function(t){return e.$emit("item-mouseenter",t)}),onItemMousemove:t[2]||(t[2]=function(t){return e.$emit("item-mousemove",t)})},null,8,["id","menuId","style","focusedItemId","items","mobileActive","activeItemPath","templates","level","aria-labelledby","pt","unstyled"])):k("",!0)],16,le)):k("",!0),s.isItemVisible(i)&&s.getItemProp(i,"separator")?(g(),v("li",h({key:1,id:s.getItemId(i),class:[e.cx("separator"),s.getItemProp(i,"class")],style:s.getItemProp(i,"style"),role:"separator"},{ref_for:!0},e.ptm("separator")),null,16,pe)):k("",!0)],64)}),128))],16)};var be={name:"Menubar",extends:re,inheritAttrs:!1,emits:["focus","blur"],matchMediaListener:null,data:function(){return{mobileActive:!1,focused:!1,focusedItemInfo:{index:-1,level:0,parentKey:""},activeItemPath:[],dirty:!1,query:null,queryMatches:!1}},watch:{activeItemPath:function(e){a(e)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())}},outsideClickListener:null,container:null,menubar:null,mounted:function(){this.bindMatchMediaListener()},beforeUnmount:function(){this.mobileActive=!1,this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindMatchMediaListener(),this.container&&p.clear(this.container),this.container=null},methods:{getItemProp:function(e,t){return e?b(e[t]):void 0},getItemLabel:function(e){return this.getItemProp(e,"label")},isItemDisabled:function(e){return this.getItemProp(e,"disabled")},isItemVisible:function(e){return!1!==this.getItemProp(e,"visible")},isItemGroup:function(e){return a(this.getItemProp(e,"items"))},isItemSeparator:function(e){return this.getItemProp(e,"separator")},getProccessedItemLabel:function(e){return e?this.getItemLabel(e.item):void 0},isProccessedItemGroup:function(e){return e&&a(e.items)},toggle:function(e){var t=this;this.mobileActive?(this.mobileActive=!1,p.clear(this.menubar),this.hide()):(this.mobileActive=!0,p.set("menu",this.menubar,this.$primevue.config.zIndex.menu),setTimeout(function(){t.show()},1)),this.bindOutsideClickListener(),e.preventDefault()},show:function(){m(this.menubar)},hide:function(e,t){var n=this;this.mobileActive&&(this.mobileActive=!1,setTimeout(function(){m(n.$refs.menubutton)},0)),this.activeItemPath=[],this.focusedItemInfo={index:-1,level:0,parentKey:""},t&&m(this.menubar),this.dirty=!1},onFocus:function(e){this.focused=!0,this.focusedItemInfo=-1!==this.focusedItemInfo.index?this.focusedItemInfo:{index:this.findFirstFocusedItemIndex(),level:0,parentKey:""},this.$emit("focus",e)},onBlur:function(e){this.focused=!1,this.focusedItemInfo={index:-1,level:0,parentKey:""},this.searchValue="",this.dirty=!1,this.$emit("blur",e)},onKeyDown:function(e){var t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&d(e.key)&&this.searchItems(e,e.key)}},onItemChange:function(e,t){var n=e.processedItem,i=e.isFocus;if(!c(n)){var o=n.index,s=n.key,r=n.level,u=n.parentKey,l=n.items,d=a(l),p=this.activeItemPath.filter(function(e){return e.parentKey!==u&&e.parentKey!==s});d&&p.push(n),this.focusedItemInfo={index:o,level:r,parentKey:u},d&&(this.dirty=!0),i&&m(this.menubar),"hover"===t&&this.queryMatches||(this.activeItemPath=p)}},onItemClick:function(e){var t=e.originalEvent,n=e.processedItem,i=this.isProccessedItemGroup(n),o=c(n.parent);if(this.isSelected(n)){var s=n.index,a=n.key,r=n.level,u=n.parentKey;this.activeItemPath=this.activeItemPath.filter(function(e){return a!==e.key&&a.startsWith(e.key)}),this.focusedItemInfo={index:s,level:r,parentKey:u},this.dirty=!o,m(this.menubar)}else if(i)this.onItemChange(e);else{var l=o?n:this.activeItemPath.find(function(e){return""===e.parentKey});this.hide(t),this.changeFocusedItemIndex(t,l?l.index:-1),this.mobileActive=!1,m(this.menubar)}},onItemMouseEnter:function(e){this.dirty&&this.onItemChange(e,"hover")},onItemMouseMove:function(e){this.focused&&this.changeFocusedItemIndex(e,e.processedItem.index)},menuButtonClick:function(e){this.toggle(e)},menuButtonKeydown:function(e){("Enter"===e.code||"NumpadEnter"===e.code||"Space"===e.code)&&this.menuButtonClick(e)},onArrowDownKey:function(e){var t=this.visibleItems[this.focusedItemInfo.index];if(t&&c(t.parent))this.isProccessedItemGroup(t)&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo={index:-1,parentKey:t.key},this.onArrowRightKey(e));else{var n=-1!==this.focusedItemInfo.index?this.findNextItemIndex(this.focusedItemInfo.index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var t=this,n=this.visibleItems[this.focusedItemInfo.index];if(c(n.parent)){if(this.isProccessedItemGroup(n)){this.onItemChange({originalEvent:e,processedItem:n}),this.focusedItemInfo={index:-1,parentKey:n.key};var i=this.findLastItemIndex();this.changeFocusedItemIndex(e,i)}}else{var o=this.activeItemPath.find(function(e){return e.key===n.parentKey});if(0===this.focusedItemInfo.index)this.focusedItemInfo={index:-1,parentKey:o?o.parentKey:""},this.searchValue="",this.onArrowLeftKey(e),this.activeItemPath=this.activeItemPath.filter(function(e){return e.parentKey!==t.focusedItemInfo.parentKey});else{var s=-1!==this.focusedItemInfo.index?this.findPrevItemIndex(this.focusedItemInfo.index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,s)}}e.preventDefault()},onArrowLeftKey:function(e){var t=this,n=this.visibleItems[this.focusedItemInfo.index],i=n?this.activeItemPath.find(function(e){return e.key===n.parentKey}):null;if(i)this.onItemChange({originalEvent:e,processedItem:i}),this.activeItemPath=this.activeItemPath.filter(function(e){return e.parentKey!==t.focusedItemInfo.parentKey}),e.preventDefault();else{var o=-1!==this.focusedItemInfo.index?this.findPrevItemIndex(this.focusedItemInfo.index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,o),e.preventDefault()}},onArrowRightKey:function(e){var t=this.visibleItems[this.focusedItemInfo.index];if(t&&this.activeItemPath.find(function(e){return e.key===t.parentKey}))this.isProccessedItemGroup(t)&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo={index:-1,parentKey:t.key},this.onArrowDownKey(e));else{var n=-1!==this.focusedItemInfo.index?this.findNextItemIndex(this.focusedItemInfo.index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,n),e.preventDefault()}},onHomeKey:function(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()},onEndKey:function(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()},onEnterKey:function(e){if(-1!==this.focusedItemInfo.index){var t=r(this.menubar,'li[id="'.concat("".concat(this.focusedItemId),'"]')),n=t&&r(t,'a[data-pc-section="itemlink"]');n?n.click():t&&t.click();var i=this.visibleItems[this.focusedItemInfo.index];!this.isProccessedItemGroup(i)&&(this.focusedItemInfo.index=this.findFirstFocusedItemIndex())}e.preventDefault()},onSpaceKey:function(e){this.onEnterKey(e)},onEscapeKey:function(e){if(0!==this.focusedItemInfo.level){var t=this.focusedItemInfo;this.hide(e,!1),this.focusedItemInfo={index:Number(t.parentKey.split("_")[0]),level:0,parentKey:""}}e.preventDefault()},onTabKey:function(e){if(-1!==this.focusedItemInfo.index){var t=this.visibleItems[this.focusedItemInfo.index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide()},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){var n=e.container&&!e.container.contains(t.target),i=!(e.target&&(e.target===t.target||e.target.contains(t.target)));n&&i&&e.hide()},document.addEventListener("click",this.outsideClickListener,!0))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener,!0),this.outsideClickListener=null)},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(t){l()||e.hide(t,!0),e.mobileActive=!1},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindMatchMediaListener:function(){var e=this;if(!this.matchMediaListener){var t=matchMedia("(max-width: ".concat(this.breakpoint,")"));this.query=t,this.queryMatches=t.matches,this.matchMediaListener=function(){e.queryMatches=t.matches,e.mobileActive=!1},this.query.addEventListener("change",this.matchMediaListener)}},unbindMatchMediaListener:function(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)},isItemMatched:function(e){var t;return this.isValidItem(e)&&(null===(t=this.getProccessedItemLabel(e))||void 0===t?void 0:t.toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase()))},isValidItem:function(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)&&this.isItemVisible(e.item)},isValidSelectedItem:function(e){return this.isValidItem(e)&&this.isSelected(e)},isSelected:function(e){return this.activeItemPath.some(function(t){return t.key===e.key})},findFirstItemIndex:function(){var e=this;return this.visibleItems.findIndex(function(t){return e.isValidItem(t)})},findLastItemIndex:function(){var e=this;return u(this.visibleItems,function(t){return e.isValidItem(t)})},findNextItemIndex:function(e){var t=this,n=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(function(e){return t.isValidItem(e)}):-1;return n>-1?n+e+1:e},findPrevItemIndex:function(e){var t=this,n=e>0?u(this.visibleItems.slice(0,e),function(e){return t.isValidItem(e)}):-1;return n>-1?n:e},findSelectedItemIndex:function(){var e=this;return this.visibleItems.findIndex(function(t){return e.isValidSelectedItem(t)})},findFirstFocusedItemIndex:function(){var e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e},findLastFocusedItemIndex:function(){var e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e},searchItems:function(e,t){var n=this;this.searchValue=(this.searchValue||"")+t;var i=-1,o=!1;return-1!==(i=-1!==this.focusedItemInfo.index?-1===(i=this.visibleItems.slice(this.focusedItemInfo.index).findIndex(function(e){return n.isItemMatched(e)}))?this.visibleItems.slice(0,this.focusedItemInfo.index).findIndex(function(e){return n.isItemMatched(e)}):i+this.focusedItemInfo.index:this.visibleItems.findIndex(function(e){return n.isItemMatched(e)}))&&(o=!0),-1===i&&-1===this.focusedItemInfo.index&&(i=this.findFirstFocusedItemIndex()),-1!==i&&this.changeFocusedItemIndex(e,i),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500),o},changeFocusedItemIndex:function(e,t){this.focusedItemInfo.index!==t&&(this.focusedItemInfo.index=t,this.scrollInView())},scrollInView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=-1!==e?"".concat(this.$id,"_").concat(e):this.focusedItemId,n=r(this.menubar,'li[id="'.concat(t,'"]'));n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"start"})},createProcessedItems:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=[];return e&&e.forEach(function(e,a){var r=(""!==o?o+"_":"")+a,u={item:e,index:a,level:n,key:r,parent:i,parentKey:o};u.items=t.createProcessedItems(e.items,n+1,u,r),s.push(u)}),s},containerRef:function(e){this.container=e},menubarRef:function(e){this.menubar=e?e.$el:void 0}},computed:{processedItems:function(){return this.createProcessedItems(this.model||[])},visibleItems:function(){var e=this,t=this.activeItemPath.find(function(t){return t.key===e.focusedItemInfo.parentKey});return t?t.items:this.processedItems},focusedItemId:function(){return-1!==this.focusedItemInfo.index?"".concat(this.$id).concat(a(this.focusedItemInfo.parentKey)?"_"+this.focusedItemInfo.parentKey:"","_").concat(this.focusedItemInfo.index):null}},components:{MenubarSub:ue,BarsIcon:t}};function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach(function(t){ve(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ve(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=he(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!=he(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==he(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge=["aria-haspopup","aria-expanded","aria-controls","aria-label"];be.render=function(e,t,n,i,o,s){var a=f("BarsIcon"),r=f("MenubarSub");return g(),v("div",h({ref:s.containerRef,class:e.cx("root")},e.ptmi("root")),[e.$slots.start?(g(),v("div",h({key:0,class:e.cx("start")},e.ptm("start")),[K(e.$slots,"start")],16)):k("",!0),K(e.$slots,e.$slots.button?"button":"menubutton",{id:e.$id,class:O(e.cx("button")),toggleCallback:function(e){return s.menuButtonClick(e)}},function(){var n;return[e.model&&e.model.length>0?(g(),v("a",h({key:0,ref:"menubutton",role:"button",tabindex:"0",class:e.cx("button"),"aria-haspopup":!!(e.model.length&&e.model.length>0),"aria-expanded":o.mobileActive,"aria-controls":e.$id,"aria-label":null===(n=e.$primevue.config.locale.aria)||void 0===n?void 0:n.navigation,onClick:t[0]||(t[0]=function(e){return s.menuButtonClick(e)}),onKeydown:t[1]||(t[1]=function(e){return s.menuButtonKeydown(e)})},Ie(Ie({},e.buttonProps),e.ptm("button"))),[K(e.$slots,e.$slots.buttonicon?"buttonicon":"menubuttonicon",{},function(){return[S(a,$(E(e.ptm("buttonicon"))),null,16)]})],16,ge)):k("",!0)]}),S(r,{ref:s.menubarRef,id:e.$id+"_list",role:"menubar",items:s.processedItems,templates:e.$slots,root:!0,mobileActive:o.mobileActive,tabindex:"0","aria-activedescendant":o.focused?s.focusedItemId:void 0,menuId:e.$id,focusedItemId:o.focused?s.focusedItemId:void 0,activeItemPath:o.activeItemPath,level:0,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,pt:e.pt,unstyled:e.unstyled,onFocus:s.onFocus,onBlur:s.onBlur,onKeydown:s.onKeyDown,onItemClick:s.onItemClick,onItemMouseenter:s.onItemMouseEnter,onItemMousemove:s.onItemMouseMove},null,8,["id","items","templates","mobileActive","aria-activedescendant","menuId","focusedItemId","activeItemPath","aria-labelledby","aria-label","pt","unstyled","onFocus","onBlur","onKeydown","onItemClick","onItemMouseenter","onItemMousemove"]),e.$slots.end?(g(),v("div",h({key:1,class:e.cx("end")},e.ptm("end")),[K(e.$slots,"end")],16)):k("",!0)],16)};var ye=e.extend({name:"menu",style:"\n    .p-menu {\n        background: dt('menu.background');\n        color: dt('menu.color');\n        border: 1px solid dt('menu.border.color');\n        border-radius: dt('menu.border.radius');\n        min-width: 12.5rem;\n    }\n\n    .p-menu-list {\n        margin: 0;\n        padding: dt('menu.list.padding');\n        outline: 0 none;\n        list-style: none;\n        display: flex;\n        flex-direction: column;\n        gap: dt('menu.list.gap');\n    }\n\n    .p-menu-item-content {\n        transition:\n            background dt('menu.transition.duration'),\n            color dt('menu.transition.duration');\n        border-radius: dt('menu.item.border.radius');\n        color: dt('menu.item.color');\n        overflow: hidden;\n    }\n\n    .p-menu-item-link {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        text-decoration: none;\n        overflow: hidden;\n        position: relative;\n        color: inherit;\n        padding: dt('menu.item.padding');\n        gap: dt('menu.item.gap');\n        user-select: none;\n        outline: 0 none;\n    }\n\n    .p-menu-item-label {\n        line-height: 1;\n    }\n\n    .p-menu-item-icon {\n        color: dt('menu.item.icon.color');\n    }\n\n    .p-menu-item.p-focus .p-menu-item-content {\n        color: dt('menu.item.focus.color');\n        background: dt('menu.item.focus.background');\n    }\n\n    .p-menu-item.p-focus .p-menu-item-icon {\n        color: dt('menu.item.icon.focus.color');\n    }\n\n    .p-menu-item:not(.p-disabled) .p-menu-item-content:hover {\n        color: dt('menu.item.focus.color');\n        background: dt('menu.item.focus.background');\n    }\n\n    .p-menu-item:not(.p-disabled) .p-menu-item-content:hover .p-menu-item-icon {\n        color: dt('menu.item.icon.focus.color');\n    }\n\n    .p-menu-overlay {\n        box-shadow: dt('menu.shadow');\n    }\n\n    .p-menu-submenu-label {\n        background: dt('menu.submenu.label.background');\n        padding: dt('menu.submenu.label.padding');\n        color: dt('menu.submenu.label.color');\n        font-weight: dt('menu.submenu.label.font.weight');\n    }\n\n    .p-menu-separator {\n        border-block-start: 1px solid dt('menu.separator.border.color');\n    }\n",classes:{root:function(e){return["p-menu p-component",{"p-menu-overlay":e.props.popup}]},start:"p-menu-start",list:"p-menu-list",submenuLabel:"p-menu-submenu-label",separator:"p-menu-separator",end:"p-menu-end",item:function(e){var t=e.instance;return["p-menu-item",{"p-focus":t.id===t.focusedOptionId,"p-disabled":t.disabled()}]},itemContent:"p-menu-item-content",itemLink:"p-menu-item-link",itemIcon:"p-menu-item-icon",itemLabel:"p-menu-item-label"}}),xe={name:"BaseMenu",extends:s,props:{popup:{type:Boolean,default:!1},model:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:ye,provide:function(){return{$pcMenu:this,$parentInstance:this}}},ke={name:"Menuitem",hostName:"Menu",extends:s,inheritAttrs:!1,emits:["item-click","item-mousemove"],props:{item:null,templates:null,id:null,focusedOptionId:null,index:null},methods:{getItemProp:function(e,t){return e&&e.item?b(e.item[t]):void 0},getPTOptions:function(e){return this.ptm(e,{context:{item:this.item,index:this.index,focused:this.isItemFocused(),disabled:this.disabled()}})},isItemFocused:function(){return this.focusedOptionId===this.id},onItemClick:function(e){var t=this.getItemProp(this.item,"command");t&&t({originalEvent:e,item:this.item.item}),this.$emit("item-click",{originalEvent:e,item:this.item,id:this.id})},onItemMouseMove:function(e){this.$emit("item-mousemove",{originalEvent:e,item:this.item,id:this.id})},visible:function(){return"function"==typeof this.item.visible?this.item.visible():!1!==this.item.visible},disabled:function(){return"function"==typeof this.item.disabled?this.item.disabled():this.item.disabled},label:function(){return"function"==typeof this.item.label?this.item.label():this.item.label},getMenuItemProps:function(e){return{action:h({class:this.cx("itemLink"),tabindex:"-1"},this.getPTOptions("itemLink")),icon:h({class:[this.cx("itemIcon"),e.icon]},this.getPTOptions("itemIcon")),label:h({class:this.cx("itemLabel")},this.getPTOptions("itemLabel"))}}},computed:{dataP:function(){return V({focus:this.isItemFocused(),disabled:this.disabled()})}},directives:{ripple:n}},we=["id","aria-label","aria-disabled","data-p-focused","data-p-disabled","data-p"],Le=["data-p"],Pe=["href","target"],Oe=["data-p"],Me=["data-p"];function Ce(e){return function(e){if(Array.isArray(e))return Ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}ke.render=function(e,t,n,i,o,s){var a=I("ripple");return s.visible()?(g(),v("li",h({key:0,id:n.id,class:[e.cx("item"),n.item.class],role:"menuitem",style:n.item.style,"aria-label":s.label(),"aria-disabled":s.disabled(),"data-p-focused":s.isItemFocused(),"data-p-disabled":s.disabled()||!1,"data-p":s.dataP},s.getPTOptions("item")),[w("div",h({class:e.cx("itemContent"),onClick:t[0]||(t[0]=function(e){return s.onItemClick(e)}),onMousemove:t[1]||(t[1]=function(e){return s.onItemMouseMove(e)}),"data-p":s.dataP},s.getPTOptions("itemContent")),[n.templates.item?n.templates.item?(g(),L(M(n.templates.item),{key:1,item:n.item,label:s.label(),props:s.getMenuItemProps(n.item)},null,8,["item","label","props"])):k("",!0):P((g(),v("a",h({key:0,href:n.item.url,class:e.cx("itemLink"),target:n.item.target,tabindex:"-1"},s.getPTOptions("itemLink")),[n.templates.itemicon?(g(),L(M(n.templates.itemicon),{key:0,item:n.item,class:O(e.cx("itemIcon"))},null,8,["item","class"])):n.item.icon?(g(),v("span",h({key:1,class:[e.cx("itemIcon"),n.item.icon],"data-p":s.dataP},s.getPTOptions("itemIcon")),null,16,Oe)):k("",!0),w("span",h({class:e.cx("itemLabel"),"data-p":s.dataP},s.getPTOptions("itemLabel")),C(s.label()),17,Me)],16,Pe)),[[a]])],16,Le)],16,we)):k("",!0)};var Ke={name:"Menu",extends:xe,inheritAttrs:!1,emits:["show","hide","focus","blur"],data:function(){return{overlayVisible:!1,focused:!1,focusedOptionIndex:-1,selectedOptionIndex:-1}},target:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,list:null,mounted:function(){this.popup||(this.bindResizeListener(),this.bindOutsideClickListener())},beforeUnmount:function(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.target=null,this.container&&this.autoZIndex&&p.clear(this.container),this.container=null},methods:{itemClick:function(e){var t=e.item;this.disabled(t)||(t.command&&t.command(e),this.overlayVisible&&this.hide(),this.popup||this.focusedOptionIndex===e.id||(this.focusedOptionIndex=e.id))},itemMouseMove:function(e){this.focused&&(this.focusedOptionIndex=e.id)},onListFocus:function(e){this.focused=!0,!this.popup&&this.changeFocusedOptionIndex(0),this.$emit("focus",e)},onListBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.$emit("blur",e)},onListKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Space":this.onSpaceKey(e);break;case"Escape":this.popup&&(m(this.target),this.hide());case"Tab":this.overlayVisible&&this.hide()}},onArrowDownKey:function(e){var t=this.findNextOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(t),e.preventDefault()},onArrowUpKey:function(e){if(e.altKey&&this.popup)m(this.target),this.hide(),e.preventDefault();else{var t=this.findPrevOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(t),e.preventDefault()}},onHomeKey:function(e){this.changeFocusedOptionIndex(0),e.preventDefault()},onEndKey:function(e){this.changeFocusedOptionIndex(j(this.container,'li[data-pc-section="item"][data-p-disabled="false"]').length-1),e.preventDefault()},onEnterKey:function(e){var t=r(this.list,'li[id="'.concat("".concat(this.focusedOptionIndex),'"]')),n=t&&r(t,'a[data-pc-section="itemlink"]');this.popup&&m(this.target),n?n.click():t&&t.click(),e.preventDefault()},onSpaceKey:function(e){this.onEnterKey(e)},findNextOptionIndex:function(e){var t=Ce(j(this.container,'li[data-pc-section="item"][data-p-disabled="false"]')).findIndex(function(t){return t.id===e});return t>-1?t+1:0},findPrevOptionIndex:function(e){var t=Ce(j(this.container,'li[data-pc-section="item"][data-p-disabled="false"]')).findIndex(function(t){return t.id===e});return t>-1?t-1:0},changeFocusedOptionIndex:function(e){var t=j(this.container,'li[data-pc-section="item"][data-p-disabled="false"]'),n=e>=t.length?t.length-1:e<0?0:e;n>-1&&(this.focusedOptionIndex=t[n].getAttribute("id"))},toggle:function(e,t){this.overlayVisible?this.hide():this.show(e,t)},show:function(e,t){this.overlayVisible=!0,this.target=null!=t?t:e.currentTarget},hide:function(){this.overlayVisible=!1,this.target=null},onEnter:function(e){T(e,{position:"absolute",top:"0"}),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),this.autoZIndex&&p.set("menu",e,this.baseZIndex+this.$primevue.config.zIndex.menu),this.popup&&m(this.list),this.$emit("show")},onLeave:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.$emit("hide")},onAfterLeave:function(e){this.autoZIndex&&p.clear(e)},alignOverlay:function(){_(this.container,this.target),z(this.target)>z(this.container)&&(this.container.style.minWidth=z(this.target)+"px")},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){var n=e.container&&!e.container.contains(t.target),i=!(e.target&&(e.target===t.target||e.target.contains(t.target)));e.overlayVisible&&n&&i?e.hide():!e.popup&&n&&i&&(e.focusedOptionIndex=-1)},document.addEventListener("click",this.outsideClickListener,!0))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener,!0),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new N(this.target,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!l()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},visible:function(e){return"function"==typeof e.visible?e.visible():!1!==e.visible},disabled:function(e){return"function"==typeof e.disabled?e.disabled():e.disabled},label:function(e){return"function"==typeof e.label?e.label():e.label},onOverlayClick:function(e){D.emit("overlay-click",{originalEvent:e,target:this.target})},containerRef:function(e){this.container=e},listRef:function(e){this.list=e}},computed:{focusedOptionId:function(){return-1!==this.focusedOptionIndex?this.focusedOptionIndex:null},dataP:function(){return V({popup:this.popup})}},components:{PVMenuitem:ke,Portal:F}},Se=["id","data-p"],$e=["id","tabindex","aria-activedescendant","aria-label","aria-labelledby"],Ee=["id"];Ke.render=function(e,t,n,i,o,s){var a=f("PVMenuitem"),r=f("Portal");return g(),L(r,{appendTo:e.appendTo,disabled:!e.popup},{default:R(function(){return[S(B,h({name:"p-anchored-overlay",onEnter:s.onEnter,onLeave:s.onLeave,onAfterLeave:s.onAfterLeave},e.ptm("transition")),{default:R(function(){return[!e.popup||o.overlayVisible?(g(),v("div",h({key:0,ref:s.containerRef,id:e.$id,class:e.cx("root"),onClick:t[3]||(t[3]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),"data-p":s.dataP},e.ptmi("root")),[e.$slots.start?(g(),v("div",h({key:0,class:e.cx("start")},e.ptm("start")),[K(e.$slots,"start")],16)):k("",!0),w("ul",h({ref:s.listRef,id:e.$id+"_list",class:e.cx("list"),role:"menu",tabindex:e.tabindex,"aria-activedescendant":o.focused?s.focusedOptionId:void 0,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,onFocus:t[0]||(t[0]=function(){return s.onListFocus&&s.onListFocus.apply(s,arguments)}),onBlur:t[1]||(t[1]=function(){return s.onListBlur&&s.onListBlur.apply(s,arguments)}),onKeydown:t[2]||(t[2]=function(){return s.onListKeyDown&&s.onListKeyDown.apply(s,arguments)})},e.ptm("list")),[(g(!0),v(y,null,x(e.model,function(t,n){return g(),v(y,{key:s.label(t)+n.toString()},[t.items&&s.visible(t)&&!t.separator?(g(),v(y,{key:0},[t.items?(g(),v("li",h({key:0,id:e.$id+"_"+n,class:[e.cx("submenuLabel"),t.class],role:"none"},{ref_for:!0},e.ptm("submenuLabel")),[K(e.$slots,e.$slots.submenulabel?"submenulabel":"submenuheader",{item:t},function(){return[U(C(s.label(t)),1)]})],16,Ee)):k("",!0),(g(!0),v(y,null,x(t.items,function(i,o){return g(),v(y,{key:i.label+n+"_"+o},[s.visible(i)&&!i.separator?(g(),L(a,{key:0,id:e.$id+"_"+n+"_"+o,item:i,templates:e.$slots,focusedOptionId:s.focusedOptionId,unstyled:e.unstyled,onItemClick:s.itemClick,onItemMousemove:s.itemMouseMove,pt:e.pt},null,8,["id","item","templates","focusedOptionId","unstyled","onItemClick","onItemMousemove","pt"])):s.visible(i)&&i.separator?(g(),v("li",h({key:"separator"+n+o,class:[e.cx("separator"),t.class],style:i.style,role:"separator"},{ref_for:!0},e.ptm("separator")),null,16)):k("",!0)],64)}),128))],64)):s.visible(t)&&t.separator?(g(),v("li",h({key:"separator"+n.toString(),class:[e.cx("separator"),t.class],style:t.style,role:"separator"},{ref_for:!0},e.ptm("separator")),null,16)):(g(),L(a,{key:s.label(t)+n.toString(),id:e.$id+"_"+n,item:t,index:n,templates:e.$slots,focusedOptionId:s.focusedOptionId,unstyled:e.unstyled,onItemClick:s.itemClick,onItemMousemove:s.itemMouseMove,pt:e.pt},null,8,["id","item","index","templates","focusedOptionId","unstyled","onItemClick","onItemMousemove","pt"]))],64)}),128))],16,$e),e.$slots.end?(g(),v("div",h({key:1,class:e.cx("end")},e.ptm("end")),[K(e.$slots,"end")],16)):k("",!0)],16,Se)):k("",!0)]}),_:3},16,["onEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo","disabled"])};const Fe={class:"integram-main"},Ve={class:"flex align-items-center gap-2"},De={key:0,class:"flex align-items-center gap-2"},Ne={key:1},_e={class:"flex align-items-center gap-2"},ze={key:0,class:"database-switch-overlay"},Te={class:"switch-spinner-container"},je={class:"p-fluid"},Re={class:"field"},Be={for:"old-pwd"},Ue={class:"field"},He={for:"new-pwd"},qe={class:"field"},Ge={for:"new-again"},Ze={class:"footer text-center py-3"},We={class:"text-muted"},Qe=se({__name:"IntegramMain",setup(e){const t=W(),n=Z(),i=H(),o=q(),s=q(null),a=q(!1),r=q(!1),u=q(!1),l=q(""),c=q("info"),m=q(""),d=q(""),p=q(""),b=q("ru"),h=q("1.0.0"),y=G(()=>n.params.database||ie.currentDatabase||ie.getDatabase()||"my"),x=G(()=>ie.getAuthInfo().userName||"User"),M=G(()=>{const e=n.path===`/integram/${y.value}/`||n.path===`/integram/${y.value}`;return a.value&&!e}),A=G(()=>{const e=[];for(const[n,i]of Object.entries(ie.databases))e.push({value:n,label:n,icon:"pi pi-database",isPrimary:"my"===n,isOwned:!1});const t=ie.databases.my;if(null==t?void 0:t.ownedDatabases)for(const n of t.ownedDatabases)ie.databases[n]||e.push({value:n,label:n,icon:"pi pi-th-large",isPrimary:!1,isOwned:!0});return e.sort((e,t)=>"my"===e.value?-1:"my"===t.value?1:e.value.localeCompare(t.value))}),K=[{href:"dict",icon:"pi pi-database",ruName:"Объекты",enName:"Objects"},{href:"table",icon:"pi pi-table",ruName:"Таблицы",enName:"Tables"},{href:"edit_types",icon:"pi pi-sitemap",ruName:"Структура",enName:"Structure"},{href:"sql",icon:"pi pi-code",ruName:"SQL",enName:"SQL"},{href:"smartq",icon:"pi pi-search",ruName:"Умный запрос",enName:"Smart Query"},{href:"report",icon:"pi pi-chart-bar",ruName:"Запросы",enName:"Queries"},{href:"form",icon:"pi pi-file",ruName:"Формы",enName:"Forms"},{href:"myform",icon:"pi pi-sliders-h",ruName:"Мои формы",enName:"My Forms"},{href:"upload",icon:"pi pi-upload",ruName:"Загрузка",enName:"Upload"},{href:"dir_admin",icon:"pi pi-folder",ruName:"Файлы",enName:"Files"},{href:"info",icon:"pi pi-info-circle",ruName:"Информация",enName:"Info"}],$=G(()=>{const e=y.value;return K.map(n=>({label:"ru"===b.value?n.ruName:n.enName,icon:n.icon,command:()=>{const i=`/integram/${e}/${n.href}`;t.push(i)}}))}),E=G(()=>[{label:F("help"),icon:"pi pi-question-circle",command:D},{label:F("myAccount"),icon:"pi pi-user",command:()=>window.open(`/my?login=${y.value}`,"_blank")},{separator:!0},{label:"EN/RU",icon:"pi pi-globe",command:z},{label:F("changePassword"),icon:"pi pi-key",command:N},{separator:!0},{label:F("exit"),icon:"pi pi-sign-out",command:j,class:"text-red-500"}]);function F(e){var t;return(null==(t={ru:{help:"Помощь",myAccount:"ЛК / Счет",changePassword:"Сменить пароль",exit:"Выход",passwordChange:"Смена пароля",currentPassword:"Действующий пароль",newPassword:"Новый пароль",repeatPassword:"Повторите пароль",change:"Сменить",cancel:"Отменить",fillAllFields:"Заполните все поля",passwordsDoNotMatch:"Пароли не совпадают",passwordChanged:"Пароль успешно изменён",wrongPassword:"Неверный пароль",more:"Еще"},en:{help:"Help",myAccount:"My account",changePassword:"Change Password",exit:"Exit",passwordChange:"Password Change",currentPassword:"Current Password",newPassword:"New Password",repeatPassword:"Repeat Password",change:"Change",cancel:"Cancel",fillAllFields:"Please fill in all fields",passwordsDoNotMatch:"Passwords do not match",passwordChanged:"Password changed successfully",wrongPassword:"Wrong password",more:"More"}}[b.value])?void 0:t[e])||e}function V(e){o.value.toggle(e)}function D(){t.push("/integram/api-docs")}function N(){r.value=!0,m.value="",d.value="",p.value="",l.value=""}async function _(){if(!m.value||!d.value||!p.value)return l.value=F("fillAllFields"),void(c.value="error");if(d.value!==p.value)return l.value=F("passwordsDoNotMatch"),void(c.value="error");u.value=!0,l.value="";try{const e=await ie.post("auth?JSON",{change:1,login:ie.getAuthInfo().userName,pwd:m.value,npw1:d.value,npw2:p.value});if(e.msg&&!e.msg.includes("[err"))l.value=F("passwordChanged"),c.value="success",e.token&&(ie.token=e.token),e.xsrf&&(ie.xsrfToken=e.xsrf),ie.saveSession(),setTimeout(()=>{r.value=!1,m.value="",d.value="",p.value=""},2e3);else{const t=e.msg?e.msg.replace(/ ?\[.+\]/,""):F("wrongPassword");l.value=t,c.value="error"}}catch(e){l.value=e.message||F("wrongPassword"),c.value="error"}finally{u.value=!1}}function z(){b.value="ru"===b.value?"en":"ru",localStorage.setItem("integram_locale",b.value),document.cookie=`${y.value}_locale=${b.value};Path=/`}async function T(e){const o=e.value,r=n.params.database;a.value=!0,i.add({severity:"info",summary:"Переключение БД",detail:`Переход на "${o}"...`,life:2e3});try{await ie.switchDatabase(o);const e=`/integram/${o}/`;await t.push(e),a.value=!1}catch(u){i.add({severity:"error",summary:"Ошибка",detail:u.message,life:5e3}),s.value=r,a.value=!1}}function j(){ie.logout(),document.cookie=`${y.value}=;Path=/`,t.push("/integram/login")}return Q(()=>n.params.database,async e=>{if(e&&e!==s.value){s.value=e;try{await ie.switchDatabase(e)}catch(t){}}},{immediate:!0}),J(async()=>{ie.tryRestoreSession();const e=ie.getAuthInfo();if(!e.token||!e.xsrf){const e=`${window.location.protocol}//${window.location.hostname}`,t=y.value||"my",o="d",s="d";try{await ie.authenticate(e,t,o,s);const n=await ie.get(`/${t}/auth?JSON`);if(n.data){const e=ie.databases[t];e&&(e.userName=n.data.login||o,e.userRole=n.data.role||"user",e.authInfo={userName:n.data.login||o,userRole:n.data.role||"user",token:e.token,xsrf:e.xsrfToken},n.data.bases&&Array.isArray(n.data.bases)&&(e.ownedDatabases=n.data.bases))}ie.saveSession()}catch(n){return void i.add({severity:"error",summary:"Ошибка автоматической авторизации",detail:n.message||"Не удалось войти в систему",life:5e3})}}try{await ie.validateSession()}catch(o){}const t=localStorage.getItem("integram_locale");t?b.value=t.toLowerCase():(b.value="ru",localStorage.setItem("integram_locale","ru"))}),(e,t)=>{const n=f("router-link"),i=f("Button"),a=f("Message"),b=f("Password"),K=f("Dialog"),N=I("tooltip");return g(),v("div",Fe,[S(X(be),{model:$.value,class:"integram-menubar"},{start:R(()=>[S(n,{to:`/integram/${y.value}`,class:"integram-brand flex align-items-center gap-2 mr-3 no-underline"},{default:R(()=>[...t[6]||(t[6]=[w("svg",{width:"32",height:"27",viewBox:"0 0 40 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"integram-logo"},[w("g",{"clip-path":"url(#clip0_integram)"},[w("path",{d:"M21.0983 12.4256L19.5194 14.1254L22.2153 17.0289L13.4346 26.3889L2.28812 22.7817V11.2779L13.4346 7.67068L15.452 9.87038L17.0454 8.19038L14.1005 5L0 9.56361V24.4959L14.1005 29.0595L25.3877 17.0289L21.0983 12.4256Z",fill:"currentColor"}),w("path",{d:"M15.4718 21.634L17.0489 19.9341L14.3548 17.0307L23.1356 7.67068L34.2802 11.2779V22.7817L23.1356 26.3889L21.1127 24.1838L19.5193 25.8656L22.4679 29.0595L36.5683 24.4977V9.56361L22.4679 5L11.1807 17.0307L15.4718 21.634Z",fill:"currentColor"})]),w("defs",null,[w("clipPath",{id:"clip0_integram"},[w("rect",{width:"36.6316",height:"24",fill:"white",transform:"translate(0 5)"})])])],-1)])]),_:1},8,["to"])]),end:R(()=>[w("div",Ve,[S(X(ee),{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),options:A.value,optionLabel:"label",optionValue:"value",placeholder:"БД",onChange:T,class:"database-selector"},{value:R(e=>[e.value?(g(),v("div",De,[t[7]||(t[7]=w("i",{class:"pi pi-database"},null,-1)),w("span",null,C(e.value),1)])):(g(),v("span",Ne,"БД"))]),option:R(e=>[w("div",_e,[w("i",{class:O(e.option.icon)},null,2),w("span",null,C(e.option.label),1),e.option.isPrimary?(g(),L(X(te),{key:0,severity:"success",value:"Primary",size:"small"})):e.option.isOwned?(g(),L(X(te),{key:1,severity:"info",value:"Owned",size:"small"})):k("",!0)])]),_:1},8,["modelValue","options"]),P(S(i,{icon:"pi pi-question-circle",text:"",rounded:"",onClick:D,severity:"secondary","aria-label":"Помощь"},null,512),[[N,F("help"),void 0,{bottom:!0}]]),P(S(i,{icon:"pi pi-user",text:"",rounded:"",onClick:V,severity:"secondary"},null,512),[[N,x.value,void 0,{bottom:!0}]]),S(X(Ke),{ref_key:"userMenu",ref:o,model:E.value,popup:""},null,8,["model"])])]),_:1},8,["model"]),w("div",{class:O(["content",{"content-loading":M.value}])},[M.value?(g(),v("div",ze,[w("div",Te,[S(X(ne),{style:{width:"50px",height:"50px"},strokeWidth:"4"}),t[8]||(t[8]=w("p",{class:"mt-3 text-lg font-semibold"},"Переключение БД...",-1))])])):k("",!0),(g(),L(oe,{key:y.value}))],2),S(K,{visible:r.value,"onUpdate:visible":t[5]||(t[5]=e=>r.value=e),header:F("passwordChange"),modal:!0,style:{width:"400px"}},{footer:R(()=>[S(i,{label:F("cancel"),icon:"pi pi-times",onClick:t[4]||(t[4]=e=>r.value=!1),text:""},null,8,["label"]),S(i,{label:F("change"),icon:"pi pi-check",onClick:_,loading:u.value},null,8,["label","loading"])]),default:R(()=>[w("div",je,[l.value?(g(),L(a,{key:0,severity:c.value},{default:R(()=>[U(C(l.value),1)]),_:1},8,["severity"])):k("",!0),w("div",Re,[w("label",Be,C(F("currentPassword")),1),S(b,{id:"old-pwd",modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e),feedback:!1,toggleMask:"",onKeyup:Y(_,["enter"])},null,8,["modelValue"])]),w("div",Ue,[w("label",He,C(F("newPassword")),1),S(b,{id:"new-pwd",modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),toggleMask:"",onKeyup:Y(_,["enter"])},null,8,["modelValue"])]),w("div",qe,[w("label",Ge,C(F("repeatPassword")),1),S(b,{id:"new-again",modelValue:p.value,"onUpdate:modelValue":t[3]||(t[3]=e=>p.value=e),feedback:!1,toggleMask:"",onKeyup:Y(_,["enter"])},null,8,["modelValue"])])])]),_:1},8,["visible","header"]),w("div",Ze,[w("small",We,"Integram v"+C(h.value),1)])])}}},[["__scopeId","data-v-bf8e2d8d"]]);export{Qe as default};
