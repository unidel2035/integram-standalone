import{i as e}from"./integramApiClient-BsYdo77J.js";import{r as a,J as t}from"./index-DSwq2M__.js";const u=a(!1),n=a(null),s=a(null);function i(){function a(){e.tryRestoreSession()&&(u.value=e.isAuthenticated(),n.value=e.getDatabase(),s.value=e.getAuthInfo())}return u.value||a(),{isAuthenticated:t(()=>u.value),currentDatabase:t(()=>n.value),userInfo:t(()=>s.value),login:async function(a,t,i,l){try{return await e.authenticate(a,t,i,l),u.value=!0,n.value=t,s.value=e.getAuthInfo(),e.saveSession(),{success:!0}}catch(o){return{success:!1,error:o.message}}},logout:async function(){await e.logout(),u.value=!1,n.value=null,s.value=null,localStorage.removeItem("integram_session")},switchDatabase:function(a){e.switchDatabase(a),n.value=a,s.value=e.getAuthInfo()},initializeSession:a}}export{i as u};
