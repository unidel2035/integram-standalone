import{r as l,N as s,J as a,c as e,A as i,w as t,C as n,ap as d,o,a as c,a4 as u,f as m,t as r,h as p,F as v,d as b,Y as f,I as x}from"./index-CaUq7SZf.js";import{u as y,a as g,M as _}from"./MentionDisplay-_NxDBBnk.js";import{_ as k}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./useTimer-yAmo2CsE.js";import"./integramApiClient-BsYdo77J.js";import"./index-CcrxTH1M.js";import"./unifiedAuthService-6fZILgG8.js";const h={class:"mention-test-page p-4"},j={class:"mb-4"},C={class:"grid"},I={class:"col-12 md:col-6"},z={class:"field"},M={class:"field"},V={class:"p-3 surface-100 border-round"},A={class:"text-sm"},w={class:"col-12 md:col-6"},D={class:"field"},J={class:"p-3 surface-50 border-round border-1 surface-border"},T={key:1,class:"text-500"},U={class:"field"},B={class:"p-3 surface-100 border-round"},F={key:0,class:"text-500 text-sm"},N={key:1,class:"flex flex-column gap-2"},P={class:"text-500"},S={class:"mt-4"},Y={class:"flex flex-wrap gap-2"},q={class:"mt-4 p-3 surface-100 border-round"},E={class:"text-sm"},G=k({__name:"MentionTestPage",setup(k){const G=s(),H=l(G.params.database||"my"),K=l(""),{parseMentions:L}=y(H.value),O=a(()=>L(K.value));return(l,s)=>(o(),e("div",h,[i(n(d),null,{title:t(()=>[...s[5]||(s[5]=[c("div",{class:"flex align-items-center gap-2"},[c("i",{class:"pi pi-at text-primary"}),c("span",null,"Тест упоминаний пользователей (@mentions)")],-1)])]),content:t(()=>[c("div",j,[i(n(u),{severity:"info"},{default:t(()=>[...s[6]||(s[6]=[c("p",{class:"mb-2"},[c("strong",null,"Как использовать:")],-1),c("ul",{class:"ml-3 mb-0"},[c("li",null,[m("Введите "),c("code",null,"@"),m(" в текстовом поле")]),c("li",null,"Выберите пользователя из выпадающего списка"),c("li",null,[m("Упоминание сохраняется в формате "),c("code",null,"@{'{database}'}_{'{userId}'}")]),c("li",null,"В режиме отображения упоминания показываются с фото и именем")],-1)])]),_:1})]),c("div",C,[c("div",I,[s[9]||(s[9]=c("h3",{class:"text-lg font-semibold mb-3"},[c("i",{class:"pi pi-pencil mr-2"}),m(" Режим редактирования ")],-1)),c("div",z,[s[7]||(s[7]=c("label",{for:"mention-input",class:"block mb-2"},"Текст с упоминаниями:",-1)),i(g,{id:"mention-input",modelValue:K.value,"onUpdate:modelValue":s[0]||(s[0]=l=>K.value=l),database:H.value,placeholder:"Введите текст и попробуйте @упомянуть пользователя..."},null,8,["modelValue","database"])]),c("div",M,[s[8]||(s[8]=c("label",{class:"block mb-2"},"Сырое значение:",-1)),c("div",V,[c("code",A,r(K.value||"(пусто)"),1)])])]),c("div",w,[s[12]||(s[12]=c("h3",{class:"text-lg font-semibold mb-3"},[c("i",{class:"pi pi-eye mr-2"}),m(" Режим отображения ")],-1)),c("div",D,[s[10]||(s[10]=c("label",{class:"block mb-2"},"Отображение в таблице:",-1)),c("div",J,[K.value?(o(),p(_,{key:0,text:K.value,database:H.value},null,8,["text","database"])):(o(),e("span",T,"(пусто)"))])]),c("div",U,[s[11]||(s[11]=c("label",{class:"block mb-2"},"Информация об упоминаниях:",-1)),c("div",B,[0===O.value.length?(o(),e("div",F," Упоминаний не найдено ")):(o(),e("div",N,[(o(!0),e(v,null,b(O.value,(l,s)=>(o(),e("div",{key:s,class:"flex align-items-center gap-2 text-sm"},[i(n(f),{value:l.database,severity:"info",size:"small"},null,8,["value"]),c("span",null,"User ID: "+r(l.userId),1),c("span",P,r(l.full),1)]))),128))]))])])])]),c("div",S,[s[13]||(s[13]=c("h3",{class:"text-lg font-semibold mb-3"},[c("i",{class:"pi pi-sparkles mr-2"}),m(" Примеры для тестирования ")],-1)),c("div",Y,[i(n(x),{label:"Простое упоминание",size:"small",outlined:"",onClick:s[1]||(s[1]=l=>K.value="Привет, @my_1!")}),i(n(x),{label:"Множественные упоминания",size:"small",outlined:"",onClick:s[2]||(s[2]=l=>K.value="Команда: @my_1, @my_2 и @my_3 работают над проектом")}),i(n(x),{label:"Смешанный текст",size:"small",outlined:"",onClick:s[3]||(s[3]=l=>K.value="Задача назначена на @my_1. Копия для @my_2. Срок до 01.01.2025.")}),i(n(x),{label:"Очистить",size:"small",severity:"secondary",onClick:s[4]||(s[4]=l=>K.value="")})])]),c("div",q,[c("div",E,[s[14]||(s[14]=c("strong",null,"Текущая БД:",-1)),s[15]||(s[15]=m()),c("code",null,r(H.value),1),s[16]||(s[16]=c("span",{class:"ml-3 text-500"}," (Пользователи загружаются из таблицы 18) ",-1))])])]),_:1})]))}},[["__scopeId","data-v-a2038620"]]);export{G as default};
