import{D as s,r as e,J as a,K as l,c,A as n,w as t,y as p,u as i,o as d,a as o,b as r,j as m,F as u,d as v,h as y,g as b,t as g,f as _,v as k}from"./index-UE8Rfyf2.js";import{i as h}from"./integramApiClient-BsYdo77J.js";import{I as j}from"./IntegramBreadcrumb-CucIfBJX.js";import{_ as I}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-CcrxTH1M.js";import"./unifiedAuthService-6fZILgG8.js";const f={class:"integram-api-docs"},x={class:"flex align-items-center justify-content-between flex-wrap gap-3"},q={class:"flex align-items-center gap-2"},T={class:"flex align-items-center gap-2 ml-auto"},w={class:"category-nav flex flex-wrap gap-2 mb-3"},D={key:0,class:"subcategory-nav flex flex-wrap gap-2 mb-4"},C={class:"mb-4"},O={class:"mb-4"},R={class:"section-content"},L={class:"grid"},U={class:"col-12 md:col-6 lg:col-3"},S={class:"stat-card"},N={class:"stat-value"},M={class:"col-12 md:col-6 lg:col-3"},P={class:"stat-card"},V={class:"stat-value"},A={class:"col-12 md:col-6 lg:col-3"},E={class:"stat-card"},J={class:"stat-value"},B={class:"col-12 md:col-6 lg:col-3"},K={class:"stat-card"},z={class:"stat-value"},G={class:"mb-4"},F={class:"section-title"},H={class:"section-content"},Q={class:"cmd-code"},$={class:"text-sm text-color-secondary"},X={class:"expansion-content"},Y={class:"grid"},W={class:"col-12 lg:col-6"},Z={class:"text-color-secondary"},ss=["innerHTML"],es={class:"col-12 lg:col-6"},as={key:0},ls={class:"example-block mb-3"},cs={class:"code-block"},ns={key:0,class:"example-block mb-3"},ts={class:"code-block"},ps={key:1,class:"text-color-secondary"},is={key:2,class:"example-block"},ds={class:"code-block"},os={class:"mb-4"},rs={class:"section-title"},ms={class:"section-content"},us={class:"cmd-code"},vs={class:"text-color-secondary text-sm"},ys={class:"mb-4"},bs={class:"section-content"},gs={class:"text-primary font-bold"},_s={class:"text-color-secondary text-sm"},ks={class:"text-sm"},hs={class:"mb-4"},js={class:"section-title"},Is={class:"section-content"},fs={class:"grid"},xs={class:"col-12 lg:col-6"},qs={class:"text-sm"},Ts={class:"col-12 lg:col-6"},ws={class:"text-primary"},Ds={class:"text-sm"},Cs={class:"text-primary"},Os={class:"text-sm"},Rs={class:"mb-4"},Ls={class:"section-content"},Us={class:"mb-4"},Ss={class:"section-content"},Ns={class:"grid"},Ms={class:"col-12 md:col-6"},Ps={class:"p-fluid"},Vs={class:"field"},As={class:"field"},Es={class:"p-inputgroup"},Js={class:"p-inputgroup-addon"},Bs={key:0,class:"field"},Ks={class:"params-editor"},zs={class:"params-body"},Gs={class:"param-col-checkbox"},Fs={class:"param-col-key"},Hs={class:"param-col-value"},Qs={class:"param-col-actions"},$s={class:"params-footer"},Xs={class:"flex gap-2"},Ys={key:1,class:"text-orange-500 block mt-2"},Ws={class:"col-12 md:col-6"},Zs={class:"field"},se={class:"response-viewer"},ee={key:0,class:"response-header"},ae={class:"response-status"},le={key:0,class:"pi pi-check-circle text-sm"},ce={key:1,class:"pi pi-times-circle text-sm"},ne={class:"text-xs"},te={class:"response-meta"},pe={key:1,class:"response-body"},ie={class:"response-json"},de={key:2,class:"response-empty"},oe=I({__name:"IntegramApiDocs",setup(I){const oe=s(),re=e(""),me=e("all"),ue=e("all"),ve=e({}),ye=e({overview:!0,commands:!0,mcp:!1,dataModel:!1,types:!1,examples:!1,playground:!1}),be=a(()=>h.isAuthenticated()),ge=a(()=>h.getDatabase()),_e=a(()=>[{label:"API Документация",icon:"pi pi-book"}]),ke=[{name:"Все",value:"all"},{name:"DDL",value:"ddl"},{name:"DML",value:"dml"},{name:"Query",value:"query"},{name:"Auth",value:"auth"},{name:"Files",value:"files"}],he=e({method:"GET",endpoint:"dict",params:[{key:"",value:"",enabled:!0}]}),je=e(!1),Ie=e(null),fe=[{cmd:"_d_new",method:"post",category:"ddl",subcategory:"Типы (таблицы)",description:"Создать новый тип (таблицу)",detailedDescription:"Создает новый тип данных (таблицу) в базе. Тип определяет структуру для хранения объектов. После создания типа к нему можно добавлять реквизиты (колонки) через _d_req.",params:"val — название типа (строка)\nt — ID базового типа (0=базовый, 3=стандартный)\nunique — уникальность первого поля (0/1)",exampleUrl:"_d_new?JSON_KV",exampleBody:{val:"Товары",t:3,unique:0},exampleResponse:{obj:12345,msg:null}},{cmd:"_d_save/{id}",method:"post",category:"ddl",description:"Сохранить изменения типа",detailedDescription:"Обновляет свойства существующего типа: название, базовый тип, флаг уникальности. Используется для переименования таблиц или изменения их базовых настроек.",params:"{id} — ID типа в URL\nval — новое название типа\nt — ID базового типа\nunique — уникальность (0/1)",exampleUrl:"_d_save/12345?JSON_KV",exampleBody:{val:"Товары (обновлено)",unique:0},exampleResponse:{ok:!0,msg:null}},{cmd:"_d_del/{id}",method:"post",category:"ddl",description:"Удалить тип и все его объекты",detailedDescription:"Удаляет тип (таблицу) и все связанные с ним объекты, реквизиты и данные. Операция необратима, будьте осторожны! Каскадно удаляются все записи этого типа.",params:"{id} — ID удаляемого типа в URL",exampleUrl:"_d_del/12345?JSON_KV",exampleResponse:{ok:!0,msg:null}},{cmd:"_d_req/{typeId}",method:"post",category:"ddl",description:"Добавить реквизит (колонку) к типу",detailedDescription:"Добавляет новый реквизит (колонку) к существующему типу. После добавления реквизита обязательно установите его псевдоним через _d_alias.",params:"{typeId} — ID типа в URL\nt — ID типа реквизита:\n  2=LONG, 3=SHORT, 4=DATETIME,\n  7=BOOL, 8=CHARS, 13=NUMBER",exampleUrl:"_d_req/12345?JSON_KV",exampleBody:{t:13},exampleResponse:{id:12346,msg:null}},{cmd:"_d_del_req/{id}",method:"post",category:"ddl",description:"Удалить реквизит из типа",params:"{id} — ID реквизита в URL"},{cmd:"_d_alias/{id}",method:"post",category:"ddl",description:"Установить псевдоним (alias) реквизита",detailedDescription:"Устанавливает человекочитаемое имя для реквизита. Псевдоним отображается в интерфейсе как название колонки. Обязательно вызывайте после добавления реквизита через _d_req.",params:'{id} — ID реквизита в URL\nval — текст псевдонима (например "Цена")',exampleUrl:"_d_alias/12346?JSON_KV",exampleBody:{val:"Цена"},exampleResponse:{ok:!0,msg:null}},{cmd:"_d_attrs/{id}",method:"post",category:"ddl",description:"Установить значение по умолчанию",params:"{id} — ID реквизита в URL\nval — значение по умолчанию\n  Макросы: [TODAY], [NOW], [USER_ID]"},{cmd:"_d_null/{id}",method:"post",category:"ddl",description:"Переключить флаг NOT NULL",params:"{id} — ID реквизита в URL\n(toggle: вкл→выкл, выкл→вкл)"},{cmd:"_d_multi/{id}",method:"post",category:"ddl",description:"Переключить режим мультивыбора",params:"{id} — ID реквизита в URL\n(для ссылочных полей: один→много)"},{cmd:"_d_up/{id}",method:"post",category:"ddl",description:"Переместить реквизит вверх в списке",params:"{id} — ID реквизита в URL"},{cmd:"_d_ord/{id}",method:"post",category:"ddl",description:"Установить порядок реквизита",params:"{id} — ID реквизита в URL\norder — числовой порядок (0, 1, 2...)"},{cmd:"_d_ref/{id}",method:"post",category:"ddl",description:"Создать ссылку на тип (reference)",params:"{id} — ID типа в URL\nСоздаёт ссылочный реквизит на указанный тип"}],xe=[{cmd:"_m_new/{typeId}",method:"post",category:"dml",description:"Создать новый объект (запись)",detailedDescription:"Создает новый объект (запись) указанного типа. Параметр up=1 означает независимый объект (подчинен ROOT). Значения реквизитов передаются как t{reqId}=значение.",params:"{typeId} — ID типа в URL\nt{typeId} — значение главного поля\nt{reqId} — значения реквизитов\nup — ID родителя (0 или 1 для независимых)",exampleUrl:"_m_new/12345?JSON_KV",exampleBody:{t12345:"Товар 1",t12346:"1500",up:1},exampleResponse:{obj:99999,msg:null}},{cmd:"_m_save/{id}",method:"post",category:"dml",description:"Сохранить объект целиком",detailedDescription:"Сохраняет объект с указанием всех реквизитов. В отличие от _m_set, требует передачи всех полей объекта, даже если они не изменились. Для обновления отдельных полей рекомендуется использовать _m_set.",params:"{id} — ID объекта в URL\nt{typeId} — новое значение главного поля\nt{reqId} — значения реквизитов",exampleUrl:"_m_save/99999?JSON_KV",exampleBody:{t12345:"Товар 1 (обновлено)",t12346:"2500"},exampleResponse:{ok:!0,msg:null}},{cmd:"_m_set/{id}",method:"post",category:"dml",description:"Обновить только указанные реквизиты (рекомендуется)",detailedDescription:"Обновляет только указанные реквизиты объекта, не затрагивая остальные поля. Это предпочтительный способ обновления данных, так как не требует передачи всех полей объекта.",params:"{id} — ID объекта в URL\nt{reqId} — значения реквизитов\n(только переданные поля обновятся)",exampleUrl:"_m_set/99999?JSON_KV",exampleBody:{t12346:"2000"},exampleResponse:{ok:!0,msg:null}},{cmd:"_m_del/{id}",method:"post",category:"dml",description:"Удалить объект",detailedDescription:"Удаляет объект по его ID. Все связанные подчиненные объекты также будут удалены каскадно. Операция необратима.",params:"{id} — ID удаляемого объекта в URL",exampleUrl:"_m_del/99999?JSON_KV",exampleResponse:{ok:!0,msg:null}},{cmd:"_m_up/{id}",method:"post",category:"dml",description:"Переместить объект вверх в списке",params:"{id} — ID объекта в URL"},{cmd:"_m_move/{id}",method:"post",category:"dml",description:"Переместить к другому родителю",params:"{id} — ID объекта в URL\nup — ID нового родительского объекта"},{cmd:"_m_ord/{id}",method:"post",category:"dml",description:"Установить порядок объекта",params:"{id} — ID объекта в URL\norder — числовой порядок (0, 1, 2...)"},{cmd:"_m_id/{id}",method:"post",category:"dml",description:"Изменить ID объекта",params:"{id} — текущий ID объекта в URL\nnew_id — новый ID объекта"}],qe=[{cmd:"dict",method:"get",category:"query",description:"Получить список всех типов (справочник)",detailedDescription:"Возвращает список всех типов (таблиц) в базе данных. Используйте для получения списка доступных таблиц и их ID перед работой с данными.",params:"(без параметров)\nВозвращает: types[], объекты с id, name, up",exampleUrl:"dict?JSON_KV",exampleResponse:{types:[{id:"18",name:"Пользователь",up:"0"},{id:"42",name:"Роль",up:"0"},{id:"12345",name:"Товары",up:"0"}]}},{cmd:"metadata/{id}",method:"get",category:"query",description:"Получить метаданные типа",detailedDescription:"Возвращает подробную информацию о структуре типа: список реквизитов, их типы, псевдонимы, ограничения, значения по умолчанию. Необходимо для понимания структуры данных перед чтением или записью объектов.",params:"{id} — ID типа в URL\nВозвращает: реквизиты, их типы, alias'ы",exampleUrl:"metadata/12345?JSON_KV",exampleResponse:{id:"12345",val:"Товары",type:"3",unique:"0",reqs:[{num:1,id:"12346",val:"Цена",type:"13",attrs:":!NULL:"}]}},{cmd:"object/{typeId}",method:"get",category:"query",description:"Получить список объектов типа",detailedDescription:"Возвращает список объектов (записей) указанного типа с их реквизитами. Поддерживает пагинацию, фильтрацию и сортировку. Основная команда для чтения данных из таблиц.",params:"{typeId} — ID типа в URL\nLIMIT — макс. кол-во записей (по умолч. 50)\npg — номер страницы (начиная с 1)\nF_{reqId} — фильтр по реквизиту\nsort — сортировка (reqId или -reqId)\nPOST: _m_del_select — удалить все по фильтру",exampleUrl:"object/12345?JSON_KV&LIMIT=10&pg=1",exampleResponse:{type:{id:"12345",val:"Товары"},object:[{id:"99999",up:"1",val:"Товар 1"},{id:"99998",up:"1",val:"Товар 2"}],reqs:{99999:{12346:"1500"},99998:{12346:"2000"}}}},{cmd:"edit_obj/{id}",method:"get",category:"query",description:"Получить данные объекта для редактирования",detailedDescription:"Возвращает полную информацию об объекте для редактирования: основные поля, значения всех реквизитов, информацию о ссылочных полях (reference) и доступные опции для выпадающих списков. Используется перед обновлением объекта.",params:"{id} — ID объекта в URL\nВозвращает: obj{}, reqs{}, ref-данные",exampleUrl:"edit_obj/99999?JSON_KV",exampleResponse:{obj:{id:"99999",val:"Товар 1",typ:"12345",parent:"1"},reqs:{12346:{type:"13",value:"1500",ref:null}}}},{cmd:"edit_types",method:"get",category:"query",description:"Получить данные редактора типов",params:"(без параметров)\nВозвращает: baseTypes, requisiteTypes"},{cmd:"report/{id}",method:"get",category:"query",description:"Выполнить отчёт (запрос)",params:"{id} — ID отчёта в URL\np{reqId} — параметры отчёта\nLIMIT — лимит записей\npg — номер страницы\nPOST: _m_confirmed — выполнить изменения"},{cmd:"xsrf",method:"get",category:"query",description:"Получить информацию о сессии",params:"(без параметров)\nВозвращает: xsrf token, user info, permissions"},{cmd:"_ref_reqs/{reqId}",method:"get",category:"query",description:"Получить опции для выпадающего списка",detailedDescription:"Возвращает список доступных значений для ссылочного (reference) поля. Используется для формирования выпадающих списков в UI. Поддерживает фильтрацию по поисковому запросу и ограничение по родительскому объекту.",params:"{reqId} — ID ссылочного реквизита\nid — ID редактируемого объекта\nr — ограничение (restrict)\nq — поисковый запрос (фильтр)",exampleUrl:"_ref_reqs/12347?JSON_KV&id=99999&q=Кат",exampleResponse:{options:[{id:"101",val:"Категория 1"},{id:"102",val:"Категория 2"}]}},{cmd:"obj_meta/{id}",method:"get",category:"query",description:"Получить метаданные объекта",params:"{id} — ID объекта в URL\nВозвращает: type, parent, created, modified"},{cmd:"report/{id}",method:"get",category:"query",description:"Получить данные выполненного отчёта",detailedDescription:"Возвращает результаты выполнения отчёта (запроса). POST с параметром _m_confirmed выполняет изменения запроса.",params:"{id} — ID отчёта в URL\n_m_confirmed — выполнить изменения (для POST)\nВозвращает: данные выполненного запроса",exampleUrl:"report/12345?JSON_KV"},{cmd:"edit_obj/{id}",method:"get",category:"query",description:"Данные для формы редактирования объекта",params:"{id} — ID объекта в URL\nВозвращает: данные для построения формы редактирования"},{cmd:"edit_types",method:"get",category:"query",description:"Данные для Редактора типов",params:"(без параметров)\nВозвращает: данные для редактора типов (структура БД)"},{cmd:"xsrf",method:"get",category:"query",description:"Получить информацию о текущей сессии",params:"(без параметров)\nВозвращает: _xsrf, token, user, role, id",exampleUrl:"xsrf?JSON_KV",exampleResponse:{_xsrf:"2ae0f4375dabb5",token:"b4ad9d6b31a7c82972ef1b2",user:"admin",role:"admin",id:"130152"}}],Te=[{cmd:"auth",method:"post",category:"auth",description:"Авторизация по логину и паролю",detailedDescription:"Выполняет аутентификацию пользователя по логину и паролю. При успешной авторизации создается сессия и возвращается XSRF токен. Сессия сохраняется в HTTP-only cookie для последующих запросов.",params:"login — имя пользователя\npwd — пароль\nВозвращает: session cookie, xsrf token",exampleUrl:"auth?JSON_KV",exampleBody:{login:"d",pwd:"d"},exampleResponse:{xsrf:"abc123def456",user:{id:"285",name:"Администратор"}}},{cmd:"jwt",method:"post",category:"auth",description:"Авторизация по JWT токену",params:"jwt — JSON Web Token\n(используется для SSO и API-интеграций)"},{cmd:"getcode",method:"post",category:"auth",description:"Запросить OTP код на email/телефон",params:"u — email или телефон пользователя\n(код отправляется на указанный адрес)"},{cmd:"checkcode",method:"post",category:"auth",description:"Проверить OTP код",params:"u — email или телефон\nc — код подтверждения (6 цифр)"},{cmd:"exit",method:"post",category:"auth",description:"Выход из системы",params:"(без параметров)\nУдаляет session cookie"}],we=[{cmd:"dir_admin",method:"get",category:"files",description:"Получить список файлов в директории",params:'path — путь к директории\n  "" = корневая директория\n  "folder/" = подпапка\nВозвращает: files[], folders[]'},{cmd:"dir_admin",method:"post",category:"files",description:"Загрузить файл на сервер",params:'file — файл (multipart/form-data)\npath — путь назначения\n  "" = корневая директория'},{cmd:"backup",method:"post",category:"files",description:"Создать резервную копию БД",detailedDescription:"Создает полную резервную копию текущей базы данных в формате .zip архива. Включает все типы, объекты, реквизиты и файлы. Рекомендуется выполнять регулярные бэкапы перед серьезными изменениями в структуре данных.",params:"(без параметров)\nСоздаёт .zip архив всей базы данных",exampleUrl:"backup?JSON_KV",exampleResponse:{ok:!0,file:"backup_20250115_143000.zip",size:1048576}},{cmd:"_new_db",method:"post",category:"files",description:"Создать новую базу данных",params:'name — имя базы (3-15 символов, a-z0-9)\ntemplate — шаблон:\n  "ru" = русский\n  "en" = английский\n  "{db}" = клонировать из БД'}],De={_d_new:"Типы",_d_save:"Типы",_d_del:"Типы",_d_req:"Реквизиты",_d_del_req:"Реквизиты",_d_alias:"Реквизиты",_d_attrs:"Реквизиты",_d_null:"Реквизиты",_d_multi:"Реквизиты",_d_up:"Реквизиты",_d_ref:"Реквизиты",_m_new:"Создание",_m_save:"Изменение",_m_set:"Изменение",_m_up:"Изменение",_m_move:"Изменение",_m_del:"Удаление",dict:"Метаданные",metadata:"Метаданные",edit_types:"Метаданные",object:"Объекты",edit_obj:"Объекты",obj_meta:"Объекты",report:"Отчёты",_ref_reqs:"Справочники",xsrf:"Сессия",auth:"Авторизация",dir_admin:"Файлы",backup:"Резервные копии",_new_db:"Резервные копии"},Ce=a(()=>[...fe,...xe,...qe,...Te,...we].map(s=>({...s,subcategory:De[s.cmd.split("/")[0]]||De[s.cmd]||"Прочее"}))),Oe=a(()=>{let s=Ce.value;return"all"!==me.value&&(s=s.filter(s=>s.category===me.value)),[...new Set(s.map(s=>s.subcategory).filter(Boolean))].sort()}),Re=a(()=>{let s=Ce.value;if("all"!==me.value&&(s=s.filter(s=>s.category===me.value)),"all"!==ue.value&&(s=s.filter(s=>s.subcategory===ue.value)),re.value){const e=re.value.toLowerCase();s=s.filter(s=>s.cmd.toLowerCase().includes(e)||s.description.toLowerCase().includes(e)||s.params.toLowerCase().includes(e))}return s}),Le=[{name:"integram_authenticate",category:"auth",description:"Авторизация в Integram",params:"serverURL — URL сервера (https://dronedoc.ru)\ndatabase — имя БД (a2025, my)\nlogin — имя пользователя\npassword — пароль"},{name:"integram_set_context",category:"auth",description:"Установить контекст из существующей сессии",params:"serverURL — URL сервера\ndatabase — имя БД\ntoken — session token\nxsrfToken — XSRF токен"},{name:"integram_create_type",category:"ddl",description:"Создать новый тип (таблицу)",params:"name — название типа (рус.)\nbaseTypeId — базовый тип (по умолч. 3)\nunique — уникальность (false)"},{name:"integram_save_type",category:"ddl",description:"Сохранить изменения типа",params:"typeId — ID типа\nname — новое название\nbaseTypeId — базовый тип"},{name:"integram_delete_type",category:"ddl",description:"Удалить тип и все объекты",params:"typeId — ID удаляемого типа"},{name:"integram_add_requisite",category:"ddl",description:"Добавить реквизит (колонку)",params:"typeId — ID типа-владельца\nrequisiteTypeId — тип реквизита:\n  3=SHORT, 2=LONG, 13=NUMBER,\n  4=DATETIME, 7=BOOL, 8=CHARS"},{name:"integram_delete_requisite",category:"ddl",description:"Удалить реквизит",params:"requisiteId — ID реквизита"},{name:"integram_save_requisite_alias",category:"ddl",description:"Установить псевдоним реквизита",params:'requisiteId — ID реквизита\nalias — текст псевдонима ("Цена")'},{name:"integram_rename_requisite",category:"ddl",description:"Переименовать реквизит (изменить название И тип)",params:"requisiteId — ID реквизита\nname — новое название\ntypeId — новый тип реквизита (3, 13, и т.д.)"},{name:"integram_toggle_requisite_null",category:"ddl",description:"Переключить NOT NULL",params:"requisiteId — ID реквизита\n(toggle: вкл↔выкл)"},{name:"integram_toggle_requisite_multi",category:"ddl",description:"Переключить мультивыбор",params:"requisiteId — ID реквизита\n(для ссылочных: один↔много)"},{name:"integram_modify_requisite_attributes",category:"ddl",description:"Массовая модификация attrs реквизита",params:"requisiteId — ID реквизита\nalias — псевдоним (опц.)\nsetNull — установить NOT NULL (опц.)\nmulti — установить MULTI (опц.)"},{name:"integram_set_requisite_order",category:"ddl",description:"Установить порядок реквизита",params:"requisiteId — ID реквизита\norder — числовой порядок (0, 1, 2...)"},{name:"integram_create_object",category:"dml",description:"Создать новый объект (запись)",params:"typeId — ID типа\nvalue — значение главного поля\nparentId — ID родителя (опц.)\nrequisites — {reqId: value} (опц.)"},{name:"integram_save_object",category:"dml",description:"Сохранить объект целиком",params:"objectId — ID объекта\ntypeId — ID типа\nvalue — новое значение\nrequisites — {reqId: value}"},{name:"integram_set_object_requisites",category:"dml",description:"Обновить реквизиты объекта (рекомендуется)",params:"objectId — ID объекта\nrequisites — {reqId: value}\n(обновляет только переданные)"},{name:"integram_delete_object",category:"dml",description:"Удалить объект",params:"objectId — ID объекта"},{name:"integram_move_object_up",category:"dml",description:"Переместить объект вверх в списке",params:"objectId — ID объекта\n(изменяет ord, перемещая на позицию выше)"},{name:"integram_move_object_to_parent",category:"dml",description:"Переместить к другому родителю",params:"objectId — ID объекта\nnewParentId — ID нового родителя"},{name:"integram_set_object_order",category:"dml",description:"Установить порядок объекта",params:"objectId — ID объекта\norder — числовой порядок (0, 1, 2...)"},{name:"integram_set_object_id",category:"dml",description:"Изменить ID объекта",params:"objectId — текущий ID объекта\nnewId — новый ID объекта"},{name:"integram_get_dictionary",category:"query",description:"Получить список типов",params:"(без параметров)\nВозвращает: types[] с id, name, up"},{name:"integram_get_type_metadata",category:"query",description:"Получить метаданные типа",params:"typeId — ID типа\nВозвращает: requisites[], name, base"},{name:"integram_get_all_types_metadata",category:"query",description:"Получить метаданные всех типов сразу",params:"(без параметров)\nВозвращает: массив типов с requisites"},{name:"integram_get_object_list",category:"query",description:"Получить список объектов",params:"typeId — ID типа\nparams — { LIMIT, pg, sort, F_{reqId} }"},{name:"integram_get_all_objects",category:"query",description:"Получить ВСЕ объекты (с автопагинацией)",params:"typeId — ID типа\npageSize — размер страницы (100)\nmaxPages — макс. страниц (50)"},{name:"integram_get_object_count",category:"query",description:"Подсчитать объекты в таблице (быстро)",params:"typeId — ID типа\n(без загрузки данных, только счетчик)"},{name:"integram_get_object_edit_data",category:"query",description:"Получить данные объекта для редактирования",params:"objectId — ID объекта\nВозвращает: obj, reqs, ref-данные"},{name:"integram_get_object_meta",category:"query",description:"Получить метаданные объекта",params:"objectId — ID объекта\nВозвращает: type, parent, created, modified"},{name:"integram_get_type_editor_data",category:"query",description:"Получить данные редактора типов",params:"(без параметров)\nВозвращает: baseTypeOptions, requisiteTypes"},{name:"integram_get_reference_options",category:"query",description:"Получить опции для выпадающего списка",params:"requisiteId — ID ссылочного реквизита\nobjectId — ID редактируемого объекта\nquery — поисковый запрос (опц.)\nrestrict — ограничение (опц.)"},{name:"integram_get_ref_reqs",category:"query",description:"Альтернативный метод для reference options",params:"requisiteId — ID ссылочного реквизита\nlimit — макс. кол-во опций (100)\nquery — поисковый запрос (опц.)"},{name:"integram_get_multiselect_items",category:"query",description:"Получить элементы multiselect поля",params:"objectId — ID объекта\nrequisiteId — ID multiselect реквизита\nВозвращает: [{id, value}]"},{name:"integram_get_dir_admin",category:"query",description:"Получить содержимое директории",params:'path — путь к директории (по умолч. "")\nВозвращает: files[], folders[]'},{name:"integram_get_schema",category:"query",description:"Получить компактную схему БД для AI",params:"filter — фильтр по имени таблицы\nincludeSystemTables — включить системные\nФормат: [{id, name, fields: [{id, name, type, ref}]}]"},{name:"integram_create_table_with_columns",category:"high",description:"Создать таблицу с колонками (всё сразу)",params:"tableName — название таблицы\ncolumns — [{ alias, requisiteTypeId,\n  allowNull?, multiSelect? }]\nparentTableId — для подчинённых"},{name:"integram_create_lookup_table",category:"high",description:"Создать справочник со значениями",params:'tableName — название справочника\nvalues — ["Знач1", "Знач2", ...]\nunique — уникальность (true)'},{name:"integram_add_reference_column",category:"high",description:"Добавить ссылочную колонку",params:"typeId — ID целевой таблицы\nreferenceTableId — ID справочника\nalias — название колонки\nmultiSelect — множ. выбор (false)\nallowNull — разрешить NULL (true)"},{name:"integram_create_lookup_with_reference",category:"high",description:"Создать lookup + добавить как reference колонку",params:'targetTableId — ID таблицы для колонки\nlookupTableName — название справочника\nvalues — ["Знач1", "Знач2", ...] (опц.)\ncolumnAlias — название колонки (опц.)\nmultiSelect — множ. выбор (false)'},{name:"integram_execute_connector",category:"high",description:"Выполнить внешний коннектор (_connect)",params:"objectId — ID объекта с CONNECT реквизитом\nparams — параметры запроса (опц.)\n(используется как прокси к внешним API)"},{name:"integram_create_backup",category:"high",description:"Создать резервную копию БД",params:"(без параметров)\nСоздаёт .zip архив всей базы данных"},{name:"integram_create_database",category:"high",description:"Создать новую базу данных",params:'dbName — имя БД (3-15 символов, a-z0-9)\ntemplate — шаблон: "ru", "en", или БД для клонирования\ndescription — описание (опц.)'},{name:"integram_delete_table_cascade",category:"structure",description:"Удалить таблицу и все данные (каскадно)",params:"typeId — ID типа для удаления\nconfirm — подтверждение (true)\nВНИМАНИЕ: Удаляет тип и все объекты!"},{name:"integram_get_table_structure",category:"structure",description:"Получить полную структуру таблицы",params:"typeId — ID типа\nВозвращает: metadata, columns, stats"},{name:"integram_clone_table_structure",category:"structure",description:"Клонировать структуру таблицы",params:"sourceTypeId — ID исходного типа\nnewTableName — название новой таблицы\nbaseTypeId — базовый тип (3)"},{name:"integram_rename_table",category:"structure",description:"Переименовать существующую таблицу",params:"typeId — ID типа\nnewName — новое название таблицы"},{name:"integram_add_columns_to_table",category:"structure",description:"Массово добавить колонки к таблице",params:"typeId — ID типа\ncolumns — [{ alias, requisiteTypeId,\n  allowNull?, multiSelect? }]"},{name:"integram_create_objects_batch",category:"batch",description:"Массовое создание объектов",params:"typeId — ID типа\nobjects — [{ value, requisites }]\nparentId — ID родителя (опц.)\nВозвращает: массив созданных ID"},{name:"integram_create_parent_with_children",category:"batch",description:"Создать родителя с подчинёнными объектами",params:"parentTypeId — ID типа родителя\nparentValue — значение родителя\nparentRequisites — реквизиты родителя\nchildTypeId — ID типа детей\nchildren — [{ value, requisites }]"},{name:"integram_add_multiselect_item",category:"multiselect",description:"Добавить элемент в multiselect поле",params:"objectId — ID объекта\nrequisiteId — ID multiselect реквизита\nvalue — ID элемента для добавления"},{name:"integram_remove_multiselect_item",category:"multiselect",description:"Удалить элемент из multiselect поля",params:"itemId — ID элемента multiselect\n(НЕ objectId, а ID связи!)"},{name:"integram_smart_query",category:"query",description:"Выполнить SQL-подобный запрос",params:"tables — [{id, alias}]\ncolumns — [{field, name, total?, groupBy?}]\nwhere — условие (MySQL синтаксис)\norderBy — сортировка\nlimit — лимит записей (100)"},{name:"integram_natural_query",category:"query",description:"Запрос на естественном языке",params:'question — вопрос на русском\n  "Покажи всех клиентов"\n  "Сколько заказов в статусе Новый?"\ntargetTable — ID таблицы (опц.)'},{name:"integram_create_report",category:"report",description:"Создать отчёт (Query)",params:"name — название отчёта\nfromTables — [{tableId, alias, joinOn?}]\ncolumns — [{field, name, formula?, ...}]\nwhere, having, orderBy, limit"},{name:"integram_execute_report",category:"report",description:"Выполнить существующий отчёт",params:"reportId — ID отчёта\nparams — параметры {reqId: value}"},{name:"integram_add_report_column",category:"report",description:"Добавить колонку в отчёт (typeId=28)",params:"reportId — ID отчёта (родитель)\nfieldId — ID поля из rep_col_list (0 для вычисляемых)\nnameInReport — название колонки в отчёте (опц.)\nformula — формула/alias (опц.)\nfunctionId — ID функции, например 85 для abn_ID (опц.)\nhide — скрыть колонку (false)"},{name:"integram_add_report_from",category:"report",description:"Добавить FROM таблицу в отчёт (typeId=44)",params:"reportId — ID отчёта (родитель)\ntableId — ID таблицы для FROM\nalias — алиас таблицы (опц.)\njoinOn — условие JOIN ON (опц.)"},{name:"integram_clone_report",category:"report",description:"Клонировать отчёт со всеми FROM/columns",params:"sourceReportId — ID исходного отчёта\nnewName — название нового отчёта\nsetExecute — установить EXECUTE flag (false)"},{name:"integram_get_report_structure",category:"report",description:"Получить полную структуру отчёта",params:"reportId — ID отчёта\nВозвращает: FROM tables, columns, requisites"}],Ue=a(()=>{let s=Le;if("all"!==me.value&&(s=s.filter(s=>s.category===me.value)),re.value){const e=re.value.toLowerCase();s=s.filter(s=>s.name.toLowerCase().includes(e)||s.description.toLowerCase().includes(e)||s.params.toLowerCase().includes(e))}return s}),Se=[{id:2,name:"LONG",description:"Длинный текст",example:"Описание..."},{id:3,name:"SHORT",description:"Короткий текст (≤127)",example:"Название"},{id:4,name:"DATETIME",description:"Дата и время",example:"2025-01-15 10:30"},{id:7,name:"BOOL",description:"Логическое",example:"true/false"},{id:8,name:"CHARS",description:"Неограниченный текст",example:"JSON..."},{id:9,name:"DATE",description:"Только дата",example:"2025-01-15"},{id:10,name:"FILE",description:"Файл",example:"doc.pdf"},{id:13,name:"NUMBER",description:"Целое число",example:"42"},{id:14,name:"SIGNED",description:"Десятичное",example:"3.14"}],Ne=[{macro:"[TODAY]",description:"Текущая дата",example:"2025-01-15"},{macro:"[NOW]",description:"Дата и время",example:"2025-01-15 10:30"},{macro:"[USER_ID]",description:"ID пользователя",example:"285"},{macro:"[MONTH_AGO]",description:"Месяц назад",example:"2024-12-15"}],Me=[{syntax:":!NULL:",description:"Поле обязательно (NOT NULL)",example:":!NULL:"},{syntax:":!NULL:ID",description:"Обязательно + значение по умолч.",example:":!NULL:164"},{syntax:"[MACRO]",description:"Значение по умолчанию (макрос)",example:"[TODAY]"},{syntax:"значение",description:"Значение по умолчанию (текст)",example:"Новый"},{syntax:":MULTI:",description:"Мультивыбор для ссылочного поля",example:":MULTI:"}],Pe=[{field:"id",synonyms:"идентификатор, айдишник, номер объекта",description:"Уникальный идентификатор объекта. Первый элемент квинтета."},{field:"type",synonyms:"тип, класс",description:"Тип объекта. Указывает на таблицу или базовый тип. Второй элемент квинтета."},{field:"up",synonyms:"родитель, parent",description:"ID родительского объекта. 0 = независимый, 1 = подчинён ROOT. Третий элемент."},{field:"ord",synonyms:"order, порядок",description:"Порядковый номер в списке. Четвёртый элемент квинтета."},{field:"value",synonyms:"значение, имя, название, val",description:"Значение объекта (название типа, значение ячейки и т.д.). Пятый элемент."}],Ve=[{name:"Базовый тип",condition:"id = type, up = 0",description:"Системный тип данных (SHORT=3, LONG=2, NUMBER=13 и т.д.). Представляет пустую таблицу-шаблон."},{name:"Таблица (справочник)",condition:"type = базовый, up = 0",description:"Независимая таблица. ord=1 означает уникальность первой колонки. value = название таблицы."},{name:"Колоночный тип",condition:"type = базовый, up = 0",description:"Ссылка на колонку. Пустая таблица, которая станет колонкой при добавлении к родителю."},{name:"Колонка со ссылкой",condition:"type = таблица, up = 0",description:"Select/multiselect колонка. type указывает на справочник, из которого выбираются значения."},{name:"Подтаблица",condition:"type = базовый, up = 0, есть колонки",description:"Колоночный тип с собственными колонками. Вложенная таблица внутри родительской."},{name:"Колонка таблицы",condition:"up = ID таблицы",description:"Реквизит (свойство) таблицы. type = колоночный тип, ord = порядок, value = доп. настройки (:!NULL:)."},{name:"Строка таблицы",condition:"type = таблица, up = 1",description:"Запись в таблице. up=1 означает подчинение ROOT. value = значение первой ячейки."},{name:"Ячейка (простая)",condition:"up = строка, type = колонка",description:"Значение в ячейке таблицы. value содержит данные ячейки."},{name:"Ячейка (select)",condition:"up = строка, type = строка справочника",description:"Ссылка на строку другой таблицы. type = ID выбранной строки, value = ID колонки."},{name:"Строка подтаблицы",condition:"up = строка, type = подтаблица",description:"Вложенная запись. Находится в ячейке на пересечении строки up и колонки type."}];async function Ae(){var s;if(!be.value)return void oe.add({severity:"warn",summary:"Внимание",detail:"Требуется авторизация",life:3e3});je.value=!0,Ie.value=null;const e=performance.now();try{let s;if("GET"===he.value.method)s=await h.get(he.value.endpoint);else{const e={};he.value.params.filter(s=>s.enabled&&s.key.trim()).forEach(s=>{e[s.key.trim()]=s.value.trim()}),s=await h.post(he.value.endpoint,e)}Ie.value={status:200,time:Math.round(performance.now()-e),data:s}}catch(a){Ie.value={status:(null==(s=a.response)?void 0:s.status)||500,time:Math.round(performance.now()-e),data:{error:a.message}}}finally{je.value=!1}}function Ee(){he.value={method:"GET",endpoint:"dict",params:[{key:"",value:"",enabled:!0}]},Ie.value=null}function Je(){he.value.params.push({key:"",value:"",enabled:!0})}function Be(s){try{return JSON.stringify(s,null,2)}catch{return String(s)}}function Ke(s){const e=s.data.cmd;ve.value[e]?delete ve.value[e]:ve.value[e]=!0}function ze(){Ie.value&&(navigator.clipboard.writeText(Be(Ie.value.data)),oe.add({severity:"success",summary:"Скопировано",life:2e3}))}return l(()=>{}),(s,e)=>{const a=p("Badge"),l=p("Tag"),h=p("Button"),I=p("InputIcon"),fe=p("InputText"),xe=p("IconField"),qe=p("Column"),Te=p("DataTable"),we=p("AccordionTab"),De=p("Accordion"),Ge=p("SelectButton"),Fe=p("Checkbox"),He=p("Card"),Qe=p("Toast"),$e=i("tooltip");return d(),c("div",f,[n(j,{items:_e.value},null,8,["items"]),n(He,{class:"api-docs-card"},{title:t(()=>[o("div",x,[o("div",q,[e[12]||(e[12]=o("span",null,"API Документация",-1)),m(n(a,{value:Ce.value.length},null,8,["value"]),[[$e,"Всего команд",void 0,{top:!0}]])]),o("div",T,[n(l,{value:be.value?"● Подключено":"○ Офлайн",severity:be.value?"success":"warn"},null,8,["value","severity"]),ge.value?(d(),y(l,{key:0,value:ge.value,severity:"info"},null,8,["value"])):r("",!0)])])]),content:t(()=>[o("div",w,[(d(),c(u,null,v(ke,s=>n(h,{key:s.value,label:s.name,outlined:me.value!==s.value,severity:me.value===s.value?"primary":"secondary",size:"small",onClick:e=>{me.value=s.value,ue.value="all"}},null,8,["label","outlined","severity","onClick"])),64))]),Oe.value.length>0?(d(),c("div",D,[n(h,{label:"Все",outlined:"all"!==ue.value,severity:"all"===ue.value?"info":"secondary",size:"small",onClick:e[0]||(e[0]=s=>ue.value="all")},null,8,["outlined","severity"]),(d(!0),c(u,null,v(Oe.value,s=>(d(),y(h,{key:s,label:s,outlined:ue.value!==s,severity:ue.value===s?"info":"secondary",size:"small",onClick:e=>ue.value=s},null,8,["label","outlined","severity","onClick"]))),128))])):r("",!0),o("div",C,[n(xe,{iconPosition:"left"},{default:t(()=>[n(I,{class:"pi pi-search"}),n(fe,{modelValue:re.value,"onUpdate:modelValue":e[1]||(e[1]=s=>re.value=s),placeholder:"Поиск команды...",class:"w-full"},null,8,["modelValue"])]),_:1})]),m(o("div",O,[o("div",{class:"section-header",onClick:e[2]||(e[2]=s=>ye.value.overview=!ye.value.overview)},[e[13]||(e[13]=o("h3",{class:"section-title"},"Обзор",-1)),o("i",{class:b([ye.value.overview?"pi pi-chevron-down":"pi pi-chevron-right","section-chevron"])},null,2)]),m(o("div",R,[o("div",L,[o("div",U,[o("div",S,[o("div",N,g(Le.length),1),e[14]||(e[14]=o("div",{class:"stat-label"},"MCP инструментов",-1))])]),o("div",M,[o("div",P,[o("div",V,g(Se.length),1),e[15]||(e[15]=o("div",{class:"stat-label"},"Типов данных",-1))])]),o("div",A,[o("div",E,[o("div",J,g(Ce.value.length),1),e[16]||(e[16]=o("div",{class:"stat-label"},"REST команд",-1))])]),o("div",B,[o("div",K,[o("div",z,g(Ne.length),1),e[17]||(e[17]=o("div",{class:"stat-label"},"Макросов",-1))])])]),e[18]||(e[18]=o("div",{class:"info-block mt-4"},[o("h4",null,"Формат URL"),o("code",{class:"code-inline"},"/api/{database}/[{cmd}/{id}][?{params}]"),o("div",{class:"mt-3"},[o("p",{class:"text-color-secondary mb-2"},[o("strong",null,"Категории команд:")]),o("ul",{class:"text-color-secondary text-sm m-0 pl-4"},[o("li",null,[o("code",null,"_d_*"),_(" — DDL (изменение структуры: типы, реквизиты)")]),o("li",null,[o("code",null,"_m_*"),_(" — DML (изменение данных: объекты, значения)")]),o("li",null,"Остальные — Query (получение данных для построения форм)")])])],-1)),e[19]||(e[19]=o("div",{class:"info-block mt-3"},[o("h4",null,"Авторизация и безопасность"),o("ul",{class:"text-color-secondary text-sm m-0 pl-4"},[o("li",null,[_("POST-запросы требуют "),o("code",null,"_xsrf"),_(" токен в параметрах")]),o("li",null,[_("После "),o("code",null,"auth"),_(" клиент получает токен для заголовка "),o("code",null,"X-Authorization")]),o("li",null,"Все изменяющие операции (_d_*, _m_*) — только POST")])],-1))],512),[[k,ye.value.overview]])],512),[[k,"all"===me.value&&!re.value]]),o("div",G,[o("div",{class:"section-header",onClick:e[3]||(e[3]=s=>ye.value.commands=!ye.value.commands)},[o("h3",F,[e[20]||(e[20]=_(" Команды ",-1)),n(a,{value:Re.value.length,class:"ml-2"},null,8,["value"])]),o("i",{class:b([ye.value.commands?"pi pi-chevron-down":"pi pi-chevron-right","section-chevron"])},null,2)]),m(o("div",H,[n(Te,{value:Re.value,expandedRows:ve.value,"onUpdate:expandedRows":e[4]||(e[4]=s=>ve.value=s),paginator:!0,rows:15,stripedRows:"",class:"commands-table",dataKey:"cmd",onRowClick:Ke},{expansion:t(({data:s})=>{return[o("div",X,[o("div",Y,[o("div",W,[e[21]||(e[21]=o("h4",{class:"mt-0 mb-3"},"Описание",-1)),o("p",Z,g(s.detailedDescription||s.description),1),e[22]||(e[22]=o("h4",{class:"mt-4 mb-3"},"Параметры",-1)),o("div",{class:"params-block",innerHTML:(a=s.params||"Нет параметров","Нет параметров"===a?'<span class="text-color-secondary">Нет параметров</span>':`<div class="params-formatted">${a.replace(/\{([^}]+)\}/g,'<code class="param-var">{$1}</code>').replace(/^(\w+)(\s*[—:])/gm,"<strong>$1</strong>$2").replace(/\[([A-Z_]+)\]/g,'<code class="param-macro">[$1]</code>').replace(/\n/g,"<br>")}</div>`)},null,8,ss)]),o("div",es,[e[28]||(e[28]=o("h4",{class:"mt-0 mb-3"},"Примеры",-1)),s.method?(d(),c("div",as,[o("div",ls,[e[23]||(e[23]=o("div",{class:"example-label"},"URL:",-1)),o("div",cs,[o("pre",null,g(s.method.toUpperCase())+" /"+g(ge.value||"db")+"/"+g(s.exampleUrl||s.cmd),1)])]),"post"===s.method&&s.exampleBody?(d(),c("div",ns,[e[24]||(e[24]=o("div",{class:"example-label"},"POST Body (application/x-www-form-urlencoded):",-1)),o("div",ts,[o("pre",null,g((l=s.exampleBody,"string"==typeof l?l:"object"==typeof l?JSON.stringify(l,null,2):String(l))),1)]),e[25]||(e[25]=o("div",{class:"text-xs mt-2 text-color-secondary"},[o("strong",null,"Примечание:"),_(" Данные отправляются в формате application/x-www-form-urlencoded. Параметр "),o("code",null,"?JSON_KV"),_(" влияет на формат "),o("em",null,"ответа"),_(", а не запроса. ")],-1))])):r("",!0)])):(d(),c("div",ps,[...e[26]||(e[26]=[o("p",null,"Инструмент MCP (Model Context Protocol) для AI-ассистентов.",-1),o("p",{class:"text-sm"},"Используется через Claude Code или другие MCP-клиенты.",-1)])])),s.exampleResponse?(d(),c("div",is,[e[27]||(e[27]=o("div",{class:"example-label"},"Ответ:",-1)),o("div",ds,[o("pre",null,g(Be(s.exampleResponse)),1)])])):r("",!0)])])])];var a,l}),default:t(()=>[n(qe,{expander:!0,style:{width:"50px"}}),n(qe,{field:"cmd",header:"Команда",sortable:"",style:{width:"180px"}},{body:t(({data:s})=>[o("code",Q,g(s.cmd),1)]),_:1}),n(qe,{field:"method",header:"Метод",sortable:"",style:{width:"80px"}},{body:t(({data:s})=>[s.method?(d(),y(l,{key:0,value:s.method.toUpperCase(),severity:"post"===s.method?"info":"success"},null,8,["value","severity"])):(d(),y(l,{key:1,value:"MCP",severity:"secondary"}))]),_:1}),n(qe,{field:"subcategory",header:"Раздел",sortable:"",style:{width:"130px"}},{body:t(({data:s})=>[o("span",$,g(s.subcategory),1)]),_:1}),n(qe,{field:"description",header:"Описание"}),n(qe,{header:"",style:{width:"50px"}},{body:t(({data:s})=>[m(n(h,{icon:"pi pi-play",size:"small",text:"",rounded:"",onClick:e=>{var a;(a=s).method?(ye.value.playground=!0,he.value.method=a.method.toUpperCase(),he.value.endpoint=a.cmd.replace("/{id}","/123").replace("/{typeId}","/18").replace("/{reqId}","/100"),a.exampleBody&&"object"==typeof a.exampleBody?he.value.params=Object.entries(a.exampleBody).map(([s,e])=>({key:s,value:String(e),enabled:!0})):"POST"===he.value.method&&(he.value.params=[{key:"",value:"",enabled:!0}]),setTimeout(()=>{const s=document.querySelectorAll(".section-header"),e=Array.from(s).find(s=>s.textContent.includes("Playground"));e&&e.scrollIntoView({behavior:"smooth",block:"start"})},100)):oe.add({severity:"info",summary:"MCP Tool",detail:"MCP инструменты используются через Claude Code, а не через REST API",life:4e3})}},null,8,["onClick"]),[[$e,"Тестировать",void 0,{left:!0}]])]),_:1})]),_:1},8,["value","expandedRows"])],512),[[k,ye.value.commands]])]),o("div",os,[o("div",{class:"section-header",onClick:e[5]||(e[5]=s=>ye.value.mcp=!ye.value.mcp)},[o("h3",rs,[e[29]||(e[29]=_(" MCP Tools ",-1)),n(a,{value:Le.length,class:"ml-2"},null,8,["value"])]),o("i",{class:b([ye.value.mcp?"pi pi-chevron-down":"pi pi-chevron-right","section-chevron"])},null,2)]),m(o("div",ms,[e[30]||(e[30]=o("div",{class:"info-block mb-3"},[o("code",{class:"code-inline"},"https://dev.drondoc.ru/api/mcp/integram")],-1)),n(Te,{value:Ue.value,paginator:!0,rows:10,stripedRows:"",size:"small"},{default:t(()=>[n(qe,{field:"name",header:"Инструмент",sortable:"",style:{width:"280px"}},{body:t(({data:s})=>[o("code",us,g(s.name),1)]),_:1}),n(qe,{field:"category",header:"Категория",sortable:"",style:{width:"100px"}},{body:t(({data:s})=>[n(l,{value:s.category,size:"small"},null,8,["value"])]),_:1}),n(qe,{field:"description",header:"Описание"}),n(qe,{field:"params",header:"Параметры",style:{width:"180px"}},{body:t(({data:s})=>[o("span",vs,g(s.params),1)]),_:1})]),_:1},8,["value"])],512),[[k,ye.value.mcp]])]),o("div",ys,[o("div",{class:"section-header",onClick:e[6]||(e[6]=s=>ye.value.dataModel=!ye.value.dataModel)},[e[31]||(e[31]=o("h3",{class:"section-title"},"Модель данных (Квинтет)",-1)),o("i",{class:b([ye.value.dataModel?"pi pi-chevron-down":"pi pi-chevron-right","section-chevron"])},null,2)]),m(o("div",bs,[e[32]||(e[32]=o("div",{class:"info-block mb-3"},[o("h4",null,"Структура квинтета"),o("p",{class:"text-color-secondary mb-2"},"Все данные в Integram хранятся в виде 5-элементных кортежей (квинтетов):"),o("code",{class:"code-inline"},"(id, type, up, ord, value)")],-1)),n(Te,{value:Pe,size:"small",stripedRows:"",class:"mb-4"},{default:t(()=>[n(qe,{field:"field",header:"Поле",style:{width:"80px"}},{body:t(({data:s})=>[o("code",gs,g(s.field),1)]),_:1}),n(qe,{field:"synonyms",header:"Синонимы",style:{width:"200px"}},{body:t(({data:s})=>[o("span",_s,g(s.synonyms),1)]),_:1}),n(qe,{field:"description",header:"Описание"})]),_:1}),e[33]||(e[33]=o("h4",{class:"mt-4 mb-3"},"Типы объектов",-1)),n(Te,{value:Ve,size:"small",stripedRows:""},{default:t(()=>[n(qe,{field:"name",header:"Тип объекта",style:{width:"180px"}},{body:t(({data:s})=>[o("strong",null,g(s.name),1)]),_:1}),n(qe,{field:"condition",header:"Условие",style:{width:"200px"}},{body:t(({data:s})=>[o("code",ks,g(s.condition),1)]),_:1}),n(qe,{field:"description",header:"Описание"})]),_:1}),e[34]||(e[34]=o("div",{class:"info-block mt-4"},[o("h4",null,"Особый объект ROOT"),o("code",{class:"code-inline"},'id=1, type=1, up=1, ord=1, value="ROOT"'),o("p",{class:"text-color-secondary mt-2 mb-0"},'Корневой объект — родитель всех независимых строк таблиц (up=1 означает "подчинён ROOT")')],-1))],512),[[k,ye.value.dataModel]])]),o("div",hs,[o("div",{class:"section-header",onClick:e[7]||(e[7]=s=>ye.value.types=!ye.value.types)},[o("h3",js,[e[35]||(e[35]=_(" Типы данных ",-1)),n(a,{value:Se.length,class:"ml-2"},null,8,["value"])]),o("i",{class:b([ye.value.types?"pi pi-chevron-down":"pi pi-chevron-right","section-chevron"])},null,2)]),m(o("div",Is,[o("div",fs,[o("div",xs,[e[36]||(e[36]=o("h4",{class:"mt-0 mb-3"},"Базовые типы (Requisite Types)",-1)),n(Te,{value:Se,size:"small",stripedRows:""},{default:t(()=>[n(qe,{field:"id",header:"ID",style:{width:"50px"}}),n(qe,{field:"name",header:"Тип",style:{width:"100px"}},{body:t(({data:s})=>[o("code",null,g(s.name),1)]),_:1}),n(qe,{field:"description",header:"Описание"}),n(qe,{field:"example",header:"Пример",style:{width:"120px"}},{body:t(({data:s})=>[o("code",qs,g(s.example),1)]),_:1})]),_:1})]),o("div",Ts,[e[37]||(e[37]=o("h4",{class:"mt-0 mb-3"},"Макросы значений",-1)),n(Te,{value:Ne,size:"small",stripedRows:""},{default:t(()=>[n(qe,{field:"macro",header:"Макрос"},{body:t(({data:s})=>[o("code",ws,g(s.macro),1)]),_:1}),n(qe,{field:"description",header:"Описание"}),n(qe,{field:"example",header:"Пример"},{body:t(({data:s})=>[o("code",Ds,g(s.example),1)]),_:1})]),_:1}),e[38]||(e[38]=o("h4",{class:"mt-4 mb-3"},"Формат attrs (настройки колонки)",-1)),n(Te,{value:Me,size:"small",stripedRows:""},{default:t(()=>[n(qe,{field:"syntax",header:"Синтаксис",style:{width:"150px"}},{body:t(({data:s})=>[o("code",Cs,g(s.syntax),1)]),_:1}),n(qe,{field:"description",header:"Описание"}),n(qe,{field:"example",header:"Пример"},{body:t(({data:s})=>[o("code",Os,g(s.example),1)]),_:1})]),_:1})])])],512),[[k,ye.value.types]])]),o("div",Rs,[o("div",{class:"section-header",onClick:e[8]||(e[8]=s=>ye.value.examples=!ye.value.examples)},[e[39]||(e[39]=o("h3",{class:"section-title"},"Примеры",-1)),o("i",{class:b([ye.value.examples?"pi pi-chevron-down":"pi pi-chevron-right","section-chevron"])},null,2)]),m(o("div",Ls,[n(De,{multiple:!0},{default:t(()=>[n(we,{header:"Создание таблицы"},{default:t(()=>[...e[40]||(e[40]=[o("div",{class:"example-steps"},[o("div",{class:"example-step mb-4"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-number"},"1"),o("span",{class:"step-title"},"Создаём таблицу")]),o("div",{class:"example-request mb-2"},[o("div",{class:"request-label"},"Запрос:"),o("div",{class:"http-request-block"},[o("div",{class:"http-line"},[o("span",{class:"http-method"},"POST"),o("span",{class:"http-path"},"/A2025/_d_new?JSON_KV")]),o("div",{class:"http-header"},[o("span",{class:"header-name"},"Content-Type:"),o("span",{class:"header-value"},"application/x-www-form-urlencoded")]),o("div",{class:"http-body"},[o("div",{class:"body-param"},[o("span",{class:"param-key"},"val"),o("span",{class:"param-equals"},"="),o("span",{class:"param-value"},"Товары")]),o("div",{class:"body-param"},[o("span",{class:"param-key"},"t"),o("span",{class:"param-equals"},"="),o("span",{class:"param-value"},"3")]),o("div",{class:"body-param"},[o("span",{class:"param-key"},"unique"),o("span",{class:"param-equals"},"="),o("span",{class:"param-value"},"0")])])])]),o("div",{class:"example-response"},[o("div",{class:"response-label"},"Ответ:"),o("div",{class:"code-block response"},[o("pre",null,'{ "obj": 12345 }')])])]),o("div",{class:"example-step mb-4"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-number"},"2"),o("span",{class:"step-title"},'Добавляем колонку "Цена" (NUMBER)')]),o("div",{class:"example-request mb-2"},[o("div",{class:"request-label"},"Запрос:"),o("div",{class:"http-request-block"},[o("div",{class:"http-line"},[o("span",{class:"http-method"},"POST"),o("span",{class:"http-path"},"/A2025/_d_req/12345?JSON_KV")]),o("div",{class:"http-header"},[o("span",{class:"header-name"},"Content-Type:"),o("span",{class:"header-value"},"application/x-www-form-urlencoded")]),o("div",{class:"http-body"},[o("div",{class:"body-param"},[o("span",{class:"param-key"},"t"),o("span",{class:"param-equals"},"="),o("span",{class:"param-value"},"13")])])])]),o("div",{class:"example-response"},[o("div",{class:"response-label"},"Ответ:"),o("div",{class:"code-block response"},[o("pre",null,'{ "id": 12346 }')])])]),o("div",{class:"example-step"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-number"},"3"),o("span",{class:"step-title"},"Устанавливаем алиас")]),o("div",{class:"example-request mb-2"},[o("div",{class:"request-label"},"Запрос:"),o("div",{class:"http-request-block"},[o("div",{class:"http-line"},[o("span",{class:"http-method"},"POST"),o("span",{class:"http-path"},"/A2025/_d_alias/12346?JSON_KV")]),o("div",{class:"http-header"},[o("span",{class:"header-name"},"Content-Type:"),o("span",{class:"header-value"},"application/x-www-form-urlencoded")]),o("div",{class:"http-body"},[o("div",{class:"body-param"},[o("span",{class:"param-key"},"val"),o("span",{class:"param-equals"},"="),o("span",{class:"param-value"},"Цена")])])])]),o("div",{class:"example-response"},[o("div",{class:"response-label"},"Ответ:"),o("div",{class:"code-block response"},[o("pre",null,'{ "ok": true }')])])])],-1)])]),_:1}),n(we,{header:"CRUD операции"},{default:t(()=>[...e[41]||(e[41]=[o("div",{class:"example-steps"},[o("div",{class:"example-step mb-4"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"Create — Создание объекта")]),o("div",{class:"example-request mb-2"},[o("div",{class:"request-label"},"Запрос:"),o("div",{class:"http-request-block"},[o("div",{class:"http-line"},[o("span",{class:"http-method"},"POST"),o("span",{class:"http-path"},"/A2025/_m_new/12345?JSON_KV")]),o("div",{class:"http-header"},[o("span",{class:"header-name"},"Content-Type:"),o("span",{class:"header-value"},"application/x-www-form-urlencoded")]),o("div",{class:"http-body"},[o("div",{class:"body-param"},[o("span",{class:"param-key"},"t12345"),o("span",{class:"param-equals"},"="),o("span",{class:"param-value"},"Товар")]),o("div",{class:"body-param"},[o("span",{class:"param-key"},"t12346"),o("span",{class:"param-equals"},"="),o("span",{class:"param-value"},"1500")]),o("div",{class:"body-param"},[o("span",{class:"param-key"},"up"),o("span",{class:"param-equals"},"="),o("span",{class:"param-value"},"1")])])])]),o("div",{class:"example-response"},[o("div",{class:"response-label"},"Ответ:"),o("div",{class:"code-block response"},[o("pre",null,'{ "id": 99998 }')])])]),o("div",{class:"example-step mb-4"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"Read — Чтение объектов")]),o("div",{class:"example-request mb-2"},[o("div",{class:"request-label"},"Запрос:"),o("div",{class:"http-request-block"},[o("div",{class:"http-line"},[o("span",{class:"http-method get"},"GET"),o("span",{class:"http-path"},"/A2025/object/12345?JSON_KV&LIMIT=100&pg=1")])])]),o("div",{class:"example-response"},[o("div",{class:"response-label"},"Ответ:"),o("div",{class:"code-block response"},[o("pre",null,'{ "object": [...], "reqs": {...} }')])])]),o("div",{class:"example-step mb-4"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"Update — Обновление объекта")]),o("div",{class:"example-request mb-2"},[o("div",{class:"request-label"},"Запрос:"),o("div",{class:"http-request-block"},[o("div",{class:"http-line"},[o("span",{class:"http-method"},"POST"),o("span",{class:"http-path"},"/A2025/_m_set/99999?JSON_KV")]),o("div",{class:"http-header"},[o("span",{class:"header-name"},"Content-Type:"),o("span",{class:"header-value"},"application/x-www-form-urlencoded")]),o("div",{class:"http-body"},[o("div",{class:"body-param"},[o("span",{class:"param-key"},"t12346"),o("span",{class:"param-equals"},"="),o("span",{class:"param-value"},"2000")])])])]),o("div",{class:"example-response"},[o("div",{class:"response-label"},"Ответ:"),o("div",{class:"code-block response"},[o("pre",null,'{ "ok": true }')])])]),o("div",{class:"example-step"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"Delete — Удаление объекта")]),o("div",{class:"example-request mb-2"},[o("div",{class:"request-label"},"Запрос:"),o("div",{class:"http-request-block"},[o("div",{class:"http-line"},[o("span",{class:"http-method delete"},"POST"),o("span",{class:"http-path"},"/A2025/_m_del/99999?JSON_KV")]),o("div",{class:"http-header"},[o("span",{class:"header-name"},"Content-Type:"),o("span",{class:"header-value"},"application/x-www-form-urlencoded")])])]),o("div",{class:"example-response"},[o("div",{class:"response-label"},"Ответ:"),o("div",{class:"code-block response"},[o("pre",null,'{ "ok": true }')])])])],-1)])]),_:1}),n(we,{header:"MCP: Создание структуры"},{default:t(()=>[...e[42]||(e[42]=[o("div",{class:"example-steps"},[o("div",{class:"example-step mb-4"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-number"},"1"),o("span",{class:"step-title"},"Авторизация")]),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"mcp-function"},"integram_authenticate"),_("({\n  "),o("span",{class:"mcp-key"},"serverURL"),_(": "),o("span",{class:"mcp-string"},'"https://dronedoc.ru"'),_(",\n  "),o("span",{class:"mcp-key"},"database"),_(": "),o("span",{class:"mcp-string"},'"my"'),_(",\n  "),o("span",{class:"mcp-key"},"login"),_(": "),o("span",{class:"mcp-string"},'"user"'),_(",\n  "),o("span",{class:"mcp-key"},"password"),_(": "),o("span",{class:"mcp-string"},'"pass"'),_("\n})")])])]),o("div",{class:"example-step mb-4"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-number"},"2"),o("span",{class:"step-title"},"Создать таблицу с колонками")]),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"mcp-function"},"integram_create_table_with_columns"),_("({\n  "),o("span",{class:"mcp-key"},"tableName"),_(": "),o("span",{class:"mcp-string"},'"Клиенты"'),_(",\n  "),o("span",{class:"mcp-key"},"columns"),_(": [\n    { "),o("span",{class:"mcp-key"},"alias"),_(": "),o("span",{class:"mcp-string"},'"Email"'),_(", "),o("span",{class:"mcp-key"},"requisiteTypeId"),_(": "),o("span",{class:"mcp-number"},"3"),_(" },\n    { "),o("span",{class:"mcp-key"},"alias"),_(": "),o("span",{class:"mcp-string"},'"Телефон"'),_(", "),o("span",{class:"mcp-key"},"requisiteTypeId"),_(": "),o("span",{class:"mcp-number"},"3"),_(" },\n    { "),o("span",{class:"mcp-key"},"alias"),_(": "),o("span",{class:"mcp-string"},'"Баланс"'),_(", "),o("span",{class:"mcp-key"},"requisiteTypeId"),_(": "),o("span",{class:"mcp-number"},"13"),_(" }\n  ]\n})")])])]),o("div",{class:"example-step"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-number"},"3"),o("span",{class:"step-title"},"Добавить справочник")]),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"mcp-function"},"integram_create_lookup_table"),_("({\n  "),o("span",{class:"mcp-key"},"tableName"),_(": "),o("span",{class:"mcp-string"},'"Статусы"'),_(",\n  "),o("span",{class:"mcp-key"},"values"),_(": ["),o("span",{class:"mcp-string"},'"Новый"'),_(", "),o("span",{class:"mcp-string"},'"Активный"'),_(", "),o("span",{class:"mcp-string"},'"Заблокирован"'),_("]\n})")])])])],-1)])]),_:1}),n(we,{header:"MCP: Smart Query"},{default:t(()=>[...e[43]||(e[43]=[o("div",{class:"example-steps"},[o("div",{class:"example-step mb-4"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"Простой запрос")]),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"mcp-function"},"integram_smart_query"),_("({\n  "),o("span",{class:"mcp-key"},"tables"),_(": [{ "),o("span",{class:"mcp-key"},"id"),_(": "),o("span",{class:"mcp-number"},"18"),_(", "),o("span",{class:"mcp-key"},"alias"),_(": "),o("span",{class:"mcp-string"},'"u"'),_(" }],\n  "),o("span",{class:"mcp-key"},"columns"),_(": [\n    { "),o("span",{class:"mcp-key"},"field"),_(": "),o("span",{class:"mcp-number"},"18"),_(", "),o("span",{class:"mcp-key"},"name"),_(": "),o("span",{class:"mcp-string"},'"Имя"'),_(" },\n    { "),o("span",{class:"mcp-key"},"field"),_(": "),o("span",{class:"mcp-number"},"115"),_(", "),o("span",{class:"mcp-key"},"name"),_(": "),o("span",{class:"mcp-string"},'"Email"'),_(" }\n  ],\n  "),o("span",{class:"mcp-key"},"where"),_(": "),o("span",{class:"mcp-string"},'"u.115 IS NOT NULL"'),_(",\n  "),o("span",{class:"mcp-key"},"limit"),_(": "),o("span",{class:"mcp-number"},"50"),_("\n})")])])]),o("div",{class:"example-step"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"С агрегацией")]),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"mcp-function"},"integram_smart_query"),_("({\n  "),o("span",{class:"mcp-key"},"tables"),_(": [{ "),o("span",{class:"mcp-key"},"id"),_(": "),o("span",{class:"mcp-number"},"12360"),_(", "),o("span",{class:"mcp-key"},"alias"),_(": "),o("span",{class:"mcp-string"},'"o"'),_(" }],\n  "),o("span",{class:"mcp-key"},"columns"),_(": [\n    { "),o("span",{class:"mcp-key"},"field"),_(": "),o("span",{class:"mcp-number"},"12363"),_(", "),o("span",{class:"mcp-key"},"name"),_(": "),o("span",{class:"mcp-string"},'"Статус"'),_(", "),o("span",{class:"mcp-key"},"groupBy"),_(": "),o("span",{class:"mcp-boolean"},"true"),_(" },\n    { "),o("span",{class:"mcp-key"},"field"),_(": "),o("span",{class:"mcp-number"},"0"),_(", "),o("span",{class:"mcp-key"},"formula"),_(": "),o("span",{class:"mcp-string"},'"COUNT(*)"'),_(", "),o("span",{class:"mcp-key"},"name"),_(": "),o("span",{class:"mcp-string"},'"Количество"'),_(" }\n  ]\n})")])])])],-1)])]),_:1}),n(we,{header:"JavaScript/Vue"},{default:t(()=>[...e[44]||(e[44]=[o("div",{class:"example-steps"},[o("div",{class:"example-step mb-4"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"Импорт")]),o("div",{class:"js-code-block"},[o("div",{class:"code-label"},"JavaScript:"),o("pre",{class:"js-code"},[o("span",{class:"js-keyword"},"import"),_(" integramApiClient "),o("span",{class:"js-keyword"},"from"),_(),o("span",{class:"js-string"},"'@/services/integramApiClient'")])])]),o("div",{class:"example-step mb-4"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"Авторизация")]),o("div",{class:"js-code-block"},[o("div",{class:"code-label"},"JavaScript:"),o("pre",{class:"js-code"},[o("span",{class:"js-keyword"},"await"),_(" integramApiClient."),o("span",{class:"js-function"},"setServer"),_("("),o("span",{class:"js-string"},"'https://dronedoc.ru'"),_(")\n"),o("span",{class:"js-keyword"},"await"),_(" integramApiClient."),o("span",{class:"js-function"},"authenticate"),_("("),o("span",{class:"js-string"},"'A2025'"),_(", "),o("span",{class:"js-string"},"'user'"),_(", "),o("span",{class:"js-string"},"'password'"),_(")")])])]),o("div",{class:"example-step mb-4"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"Получить список таблиц")]),o("div",{class:"js-code-block"},[o("div",{class:"code-label"},"JavaScript:"),o("pre",{class:"js-code"},[o("span",{class:"js-keyword"},"const"),_(" dict = "),o("span",{class:"js-keyword"},"await"),_(" integramApiClient."),o("span",{class:"js-function"},"getDictionary"),_("()")])])]),o("div",{class:"example-step mb-4"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"Получить записи")]),o("div",{class:"js-code-block"},[o("div",{class:"code-label"},"JavaScript:"),o("pre",{class:"js-code"},[o("span",{class:"js-keyword"},"const"),_(" objects = "),o("span",{class:"js-keyword"},"await"),_(" integramApiClient."),o("span",{class:"js-function"},"getObjectList"),_("("),o("span",{class:"js-number"},"18"),_(", { "),o("span",{class:"js-key"},"LIMIT"),_(": "),o("span",{class:"js-number"},"50"),_(" })")])])]),o("div",{class:"example-step"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"Создать запись")]),o("div",{class:"js-code-block"},[o("div",{class:"code-label"},"JavaScript:"),o("pre",{class:"js-code"},[o("span",{class:"js-keyword"},"const"),_(" result = "),o("span",{class:"js-keyword"},"await"),_(" integramApiClient."),o("span",{class:"js-function"},"createObject"),_("("),o("span",{class:"js-number"},"18"),_(", "),o("span",{class:"js-string"},"'Название'"),_(", {\n  "),o("span",{class:"js-string"},"'115'"),_(": "),o("span",{class:"js-string"},"'Значение поля'"),_("\n})")])])])],-1)])]),_:1}),n(we,{header:"Формат ответа: auth"},{default:t(()=>[...e[45]||(e[45]=[o("div",{class:"example-steps"},[o("div",{class:"example-step mb-4"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"Успешная авторизация")]),o("div",{class:"json-code-block"},[o("div",{class:"code-label"},"Response:"),o("pre",{class:"json-code"},[_("{\n  "),o("span",{class:"json-key"},'"_xsrf"'),_(": "),o("span",{class:"json-string"},'"ef1bbd56839b1e97636a5"'),_(",\n  "),o("span",{class:"json-key"},'"token"'),_(": "),o("span",{class:"json-string"},'"67a450965bf763cd719b5fcdb4ca41"'),_(",\n  "),o("span",{class:"json-key"},'"msg"'),_(": "),o("span",{class:"json-null"},"null"),_("\n}")])])]),o("div",{class:"example-step"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"Ошибка авторизации")]),o("div",{class:"json-code-block"},[o("div",{class:"code-label"},"Response:"),o("pre",{class:"json-code"},[_("{\n  "),o("span",{class:"json-key"},'"failed"'),_(": "),o("span",{class:"json-string"},'"wrong"'),_("\n}")])])])],-1)])]),_:1}),n(we,{header:"Формат ответа: metadata"},{default:t(()=>[...e[46]||(e[46]=[o("div",{class:"example-steps"},[o("div",{class:"example-step"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"GET /andy/metadata/18")]),o("div",{class:"json-code-block"},[o("div",{class:"code-label"},"Response:"),o("pre",{class:"json-code"},[_("{\n  "),o("span",{class:"json-key"},'"id"'),_(": "),o("span",{class:"json-string"},'"18"'),_(",\n  "),o("span",{class:"json-key"},'"up"'),_(": "),o("span",{class:"json-string"},'"0"'),_(",\n  "),o("span",{class:"json-key"},'"type"'),_(": "),o("span",{class:"json-string"},'"3"'),_(",\n  "),o("span",{class:"json-key"},'"val"'),_(": "),o("span",{class:"json-string"},'"Пользователь"'),_(",\n  "),o("span",{class:"json-key"},'"unique"'),_(": "),o("span",{class:"json-string"},'"1"'),_(",\n  "),o("span",{class:"json-key"},'"reqs"'),_(": [\n    {\n      "),o("span",{class:"json-key"},'"num"'),_(": "),o("span",{class:"json-number"},"1"),_(",\n      "),o("span",{class:"json-key"},'"id"'),_(": "),o("span",{class:"json-string"},'"115"'),_(",\n      "),o("span",{class:"json-key"},'"val"'),_(": "),o("span",{class:"json-string"},'"Роль"'),_(",\n      "),o("span",{class:"json-key"},'"type"'),_(": "),o("span",{class:"json-string"},'"3"'),_(",\n      "),o("span",{class:"json-key"},'"ref"'),_(": "),o("span",{class:"json-string"},'"42"'),_(",        "),o("span",{class:"json-comment"},"// Ссылка на таблицу 42"),_("\n      "),o("span",{class:"json-key"},'"ref_id"'),_(": "),o("span",{class:"json-string"},'"114"'),_(",\n      "),o("span",{class:"json-key"},'"attrs"'),_(": "),o("span",{class:"json-string"},'":!NULL:164"'),_("  "),o("span",{class:"json-comment"},"// !NULL = обязательное"),_("\n    },\n    {\n      "),o("span",{class:"json-key"},'"num"'),_(": "),o("span",{class:"json-number"},"2"),_(",\n      "),o("span",{class:"json-key"},'"id"'),_(": "),o("span",{class:"json-string"},'"41"'),_(",\n      "),o("span",{class:"json-key"},'"val"'),_(": "),o("span",{class:"json-string"},'"Email"'),_(",\n      "),o("span",{class:"json-key"},'"type"'),_(": "),o("span",{class:"json-string"},'"3"'),_(",\n      "),o("span",{class:"json-key"},'"attrs"'),_(": "),o("span",{class:"json-string"},'":!NULL:"'),_("\n    },\n    {\n      "),o("span",{class:"json-key"},'"num"'),_(": "),o("span",{class:"json-number"},"3"),_(",\n      "),o("span",{class:"json-key"},'"id"'),_(": "),o("span",{class:"json-string"},'"156"'),_(",\n      "),o("span",{class:"json-key"},'"val"'),_(": "),o("span",{class:"json-string"},'"Дата"'),_(",\n      "),o("span",{class:"json-key"},'"type"'),_(": "),o("span",{class:"json-string"},'"9"'),_(",\n      "),o("span",{class:"json-key"},'"attrs"'),_(": "),o("span",{class:"json-string"},'"[TODAY]"'),_("  "),o("span",{class:"json-comment"},"// Значение по умолчанию"),_("\n    }\n  ]\n}")])])])],-1)])]),_:1}),n(we,{header:"Формат ответа: object"},{default:t(()=>[...e[47]||(e[47]=[o("div",{class:"example-steps"},[o("div",{class:"example-step"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"GET /andy/object/1141")]),o("div",{class:"json-code-block"},[o("div",{class:"code-label"},"Response:"),o("pre",{class:"json-code"},[_("{\n  "),o("span",{class:"json-key"},'"type"'),_(": {\n    "),o("span",{class:"json-key"},'"id"'),_(": "),o("span",{class:"json-number"},"1141"),_(",\n    "),o("span",{class:"json-key"},'"up"'),_(": "),o("span",{class:"json-number"},"1"),_(",\n    "),o("span",{class:"json-key"},'"val"'),_(": "),o("span",{class:"json-string"},'"Plan"'),_(",\n    "),o("span",{class:"json-key"},'"base"'),_(": "),o("span",{class:"json-string"},'"SHORT"'),_("\n  },\n  "),o("span",{class:"json-key"},'"base"'),_(": { "),o("span",{class:"json-key"},'"id"'),_(": "),o("span",{class:"json-string"},'"3"'),_(" },\n  "),o("span",{class:"json-key"},'"req_base"'),_(": { "),o("span",{class:"json-key"},'"1274"'),_(": "),o("span",{class:"json-string"},'"SIGNED"'),_(" },\n  "),o("span",{class:"json-key"},'"req_type"'),_(": { "),o("span",{class:"json-key"},'"1274"'),_(": "),o("span",{class:"json-string"},'"Price"'),_(" },\n  "),o("span",{class:"json-key"},'"req_order"'),_(": ["),o("span",{class:"json-string"},'"1274"'),_("],\n  "),o("span",{class:"json-key"},'"object"'),_(": [\n    { "),o("span",{class:"json-key"},'"id"'),_(": "),o("span",{class:"json-string"},'"1146"'),_(", "),o("span",{class:"json-key"},'"up"'),_(": "),o("span",{class:"json-string"},'"1"'),_(", "),o("span",{class:"json-key"},'"val"'),_(": "),o("span",{class:"json-string"},'"Free"'),_(", "),o("span",{class:"json-key"},'"base"'),_(": "),o("span",{class:"json-string"},'"1141"'),_(" },\n    { "),o("span",{class:"json-key"},'"id"'),_(": "),o("span",{class:"json-string"},'"1148"'),_(", "),o("span",{class:"json-key"},'"up"'),_(": "),o("span",{class:"json-string"},'"1"'),_(", "),o("span",{class:"json-key"},'"val"'),_(": "),o("span",{class:"json-string"},'"Scalable"'),_(", "),o("span",{class:"json-key"},'"base"'),_(": "),o("span",{class:"json-string"},'"1141"'),_(" }\n  ],\n  "),o("span",{class:"json-key"},'"reqs"'),_(": {\n    "),o("span",{class:"json-key"},'"1146"'),_(": { "),o("span",{class:"json-key"},'"1274"'),_(": "),o("span",{class:"json-string"},'"0.00"'),_(" },\n    "),o("span",{class:"json-key"},'"1148"'),_(": { "),o("span",{class:"json-key"},'"1274"'),_(": "),o("span",{class:"json-string"},'"1950.00"'),_(" }\n  }\n}")])])])],-1)])]),_:1}),n(we,{header:"Формат ответа: xsrf"},{default:t(()=>[...e[48]||(e[48]=[o("div",{class:"example-steps"},[o("div",{class:"example-step"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"GET /andy/xsrf")]),o("div",{class:"json-code-block"},[o("div",{class:"code-label"},"Response:"),o("pre",{class:"json-code"},[_("{\n  "),o("span",{class:"json-key"},'"_xsrf"'),_(": "),o("span",{class:"json-string"},'"2ae0f4375dabb5"'),_(",\n  "),o("span",{class:"json-key"},'"token"'),_(": "),o("span",{class:"json-string"},'"b4ad9d6b31a7c82972ef1b2"'),_(",\n  "),o("span",{class:"json-key"},'"user"'),_(": "),o("span",{class:"json-string"},'"admin"'),_(",\n  "),o("span",{class:"json-key"},'"role"'),_(": "),o("span",{class:"json-string"},'"admin"'),_(",\n  "),o("span",{class:"json-key"},'"id"'),_(": "),o("span",{class:"json-string"},'"130152"'),_(",\n  "),o("span",{class:"json-key"},'"msg"'),_(": "),o("span",{class:"json-string"},'""'),_("\n}")])])])],-1)])]),_:1}),n(we,{header:"MCP: Batch операции"},{default:t(()=>[...e[49]||(e[49]=[o("div",{class:"example-steps"},[o("div",{class:"example-step mb-4"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"Массовое создание объектов")]),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"mcp-function"},"integram_create_objects_batch"),_("({\n  "),o("span",{class:"mcp-key"},"typeId"),_(": "),o("span",{class:"mcp-number"},"195629"),_(",\n  "),o("span",{class:"mcp-key"},"objects"),_(": [\n    {\n      "),o("span",{class:"mcp-key"},"value"),_(": "),o("span",{class:"mcp-string"},'"Главная"'),_(",\n      "),o("span",{class:"mcp-key"},"requisites"),_(": { "),o("span",{class:"mcp-string"},'"195630"'),_(": "),o("span",{class:"mcp-string"},'"/"'),_(", "),o("span",{class:"mcp-string"},'"195631"'),_(": "),o("span",{class:"mcp-string"},'"pi pi-home"'),_(" }\n    },\n    {\n      "),o("span",{class:"mcp-key"},"value"),_(": "),o("span",{class:"mcp-string"},'"Профиль"'),_(",\n      "),o("span",{class:"mcp-key"},"requisites"),_(": { "),o("span",{class:"mcp-string"},'"195630"'),_(": "),o("span",{class:"mcp-string"},'"/profile"'),_(", "),o("span",{class:"mcp-string"},'"195631"'),_(": "),o("span",{class:"mcp-string"},'"pi pi-user"'),_(" }\n    },\n    {\n      "),o("span",{class:"mcp-key"},"value"),_(": "),o("span",{class:"mcp-string"},'"Настройки"'),_(",\n      "),o("span",{class:"mcp-key"},"requisites"),_(": { "),o("span",{class:"mcp-string"},'"195630"'),_(": "),o("span",{class:"mcp-string"},'"/settings"'),_(", "),o("span",{class:"mcp-string"},'"195631"'),_(": "),o("span",{class:"mcp-string"},'"pi pi-cog"'),_(" }\n    }\n  ]\n})\n"),o("span",{class:"mcp-comment"},"// Возвращает: [197070, 197071, 197072]")])])]),o("div",{class:"example-step"},[o("div",{class:"step-header mb-2"},[o("span",{class:"step-title"},"Создание родителя с детьми")]),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"mcp-function"},"integram_create_parent_with_children"),_("({\n  "),o("span",{class:"mcp-key"},"parentTypeId"),_(": "),o("span",{class:"mcp-number"},"22"),_(",      "),o("span",{class:"mcp-comment"},"// Отчет"),_("\n  "),o("span",{class:"mcp-key"},"parentValue"),_(": "),o("span",{class:"mcp-string"},'"Продажи по менеджерам"'),_(",\n  "),o("span",{class:"mcp-key"},"parentRequisites"),_(": { "),o("span",{class:"mcp-string"},'"228"'),_(": "),o("span",{class:"mcp-string"},'"1"'),_(" },  "),o("span",{class:"mcp-comment"},"// EXECUTE flag"),_("\n  "),o("span",{class:"mcp-key"},"childTypeId"),_(": "),o("span",{class:"mcp-number"},"28"),_(",       "),o("span",{class:"mcp-comment"},"// Колонки отчета"),_("\n  "),o("span",{class:"mcp-key"},"children"),_(": [\n    { "),o("span",{class:"mcp-key"},"value"),_(": "),o("span",{class:"mcp-string"},'"Менеджер"'),_(", "),o("span",{class:"mcp-key"},"requisites"),_(": { "),o("span",{class:"mcp-string"},'"100"'),_(": "),o("span",{class:"mcp-string"},'"Менеджер"'),_(" } },\n    { "),o("span",{class:"mcp-key"},"value"),_(": "),o("span",{class:"mcp-string"},'"Сумма"'),_(", "),o("span",{class:"mcp-key"},"requisites"),_(": { "),o("span",{class:"mcp-string"},'"100"'),_(": "),o("span",{class:"mcp-string"},'"Сумма"'),_(", "),o("span",{class:"mcp-string"},'"72"'),_(": "),o("span",{class:"mcp-string"},'"1"'),_(" } }\n  ]\n})")])])])],-1)])]),_:1}),n(we,{header:"MCP: Multiselect"},{default:t(()=>[...e[50]||(e[50]=[o("div",{class:"example-steps"},[o("div",{class:"example-step"},[o("div",{class:"step-circle"},"1"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Добавить элемент в multiselect"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"mcp-function"},"integram_add_multiselect_item"),_("({\n  "),o("span",{class:"mcp-key"},"objectId"),_(": "),o("span",{class:"mcp-number"},"197070"),_(",\n  "),o("span",{class:"mcp-key"},"requisiteId"),_(": "),o("span",{class:"mcp-number"},"197038"),_(",  "),o("span",{class:"mcp-comment"},"// multiselect реквизит"),_("\n  "),o("span",{class:"mcp-key"},"value"),_(": "),o("span",{class:"mcp-string"},'"197039"'),_("       "),o("span",{class:"mcp-comment"},"// ID выбираемого объекта"),_("\n})")])])])]),o("div",{class:"example-step"},[o("div",{class:"step-circle"},"2"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Получить все элементы multiselect"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"js-keyword"},"const"),_(" items = "),o("span",{class:"mcp-function"},"integram_get_multiselect_items"),_("({\n  "),o("span",{class:"mcp-key"},"objectId"),_(": "),o("span",{class:"mcp-number"},"197070"),_(",\n  "),o("span",{class:"mcp-key"},"requisiteId"),_(": "),o("span",{class:"mcp-number"},"197038"),_("\n})")])]),o("div",{class:"json-code-block"},[o("div",{class:"code-label"},"Ответ:"),o("pre",{class:"json-code"},[_("[\n  { "),o("span",{class:"json-key"},'"id"'),_(": "),o("span",{class:"json-string"},'"123"'),_(", "),o("span",{class:"json-key"},'"value"'),_(": "),o("span",{class:"json-string"},'"197039"'),_(" },\n  { "),o("span",{class:"json-key"},'"id"'),_(": "),o("span",{class:"json-string"},'"124"'),_(", "),o("span",{class:"json-key"},'"value"'),_(": "),o("span",{class:"json-string"},'"197040"'),_(" }\n]")])])])]),o("div",{class:"example-step"},[o("div",{class:"step-circle"},"3"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Удалить элемент multiselect"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"mcp-function"},"integram_remove_multiselect_item"),_("({\n  "),o("span",{class:"mcp-key"},"itemId"),_(": "),o("span",{class:"mcp-string"},'"123"'),_("  "),o("span",{class:"mcp-comment"},"// НЕ objectId, а ID связи!"),_("\n})")])])])])],-1)])]),_:1}),n(we,{header:"MCP: Структурные операции"},{default:t(()=>[...e[51]||(e[51]=[o("div",{class:"example-steps"},[o("div",{class:"example-step"},[o("div",{class:"step-circle"},"1"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Получить полную структуру таблицы"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"js-keyword"},"const"),_(" structure = "),o("span",{class:"mcp-function"},"integram_get_table_structure"),_("({\n  "),o("span",{class:"mcp-key"},"typeId"),_(": "),o("span",{class:"mcp-number"},"195629"),_("\n})")])]),o("div",{class:"json-code-block"},[o("div",{class:"code-label"},"Возвращает:"),o("pre",{class:"json-code"},[o("span",{class:"mcp-comment"},"// metadata, columns с именами и типами, статистику")])])])]),o("div",{class:"example-step"},[o("div",{class:"step-circle"},"2"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Клонировать структуру таблицы"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"mcp-function"},"integram_clone_table_structure"),_("({\n  "),o("span",{class:"mcp-key"},"sourceTypeId"),_(": "),o("span",{class:"mcp-number"},"195629"),_(",\n  "),o("span",{class:"mcp-key"},"newTableName"),_(": "),o("span",{class:"mcp-string"},'"БоковоеМеню_Копия"'),_(",\n  "),o("span",{class:"mcp-key"},"baseTypeId"),_(": "),o("span",{class:"mcp-number"},"3"),_("\n})")])])])]),o("div",{class:"example-step"},[o("div",{class:"step-circle"},"3"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Переименовать таблицу"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"mcp-function"},"integram_rename_table"),_("({\n  "),o("span",{class:"mcp-key"},"typeId"),_(": "),o("span",{class:"mcp-number"},"195629"),_(",\n  "),o("span",{class:"mcp-key"},"newName"),_(": "),o("span",{class:"mcp-string"},'"ГлавноеМеню"'),_("\n})")])])])]),o("div",{class:"example-step"},[o("div",{class:"step-circle"},"4"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Добавить несколько колонок сразу"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"mcp-function"},"integram_add_columns_to_table"),_("({\n  "),o("span",{class:"mcp-key"},"typeId"),_(": "),o("span",{class:"mcp-number"},"195629"),_(",\n  "),o("span",{class:"mcp-key"},"columns"),_(": [\n    { "),o("span",{class:"mcp-key"},"alias"),_(": "),o("span",{class:"mcp-string"},'"Описание"'),_(", "),o("span",{class:"mcp-key"},"requisiteTypeId"),_(": "),o("span",{class:"mcp-number"},"2"),_(", "),o("span",{class:"mcp-key"},"allowNull"),_(": "),o("span",{class:"mcp-boolean"},"true"),_(" },\n    { "),o("span",{class:"mcp-key"},"alias"),_(": "),o("span",{class:"mcp-string"},'"Активен"'),_(", "),o("span",{class:"mcp-key"},"requisiteTypeId"),_(": "),o("span",{class:"mcp-number"},"7"),_(", "),o("span",{class:"mcp-key"},"allowNull"),_(": "),o("span",{class:"mcp-boolean"},"false"),_(" },\n    { "),o("span",{class:"mcp-key"},"alias"),_(": "),o("span",{class:"mcp-string"},'"Порядок"'),_(", "),o("span",{class:"mcp-key"},"requisiteTypeId"),_(": "),o("span",{class:"mcp-number"},"13"),_(" }\n  ]\n})")])])])]),o("div",{class:"example-step"},[o("div",{class:"step-circle"},"5"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Удалить таблицу со всеми данными"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"mcp-function"},"integram_delete_table_cascade"),_("({\n  "),o("span",{class:"mcp-key"},"typeId"),_(": "),o("span",{class:"mcp-number"},"195629"),_(",\n  "),o("span",{class:"mcp-key"},"confirm"),_(": "),o("span",{class:"mcp-boolean"},"true"),_("  "),o("span",{class:"mcp-comment"},"// Обязательное подтверждение"),_("\n})")])])])])],-1)])]),_:1}),n(we,{header:"MCP: Работа с отчетами"},{default:t(()=>[...e[52]||(e[52]=[o("div",{class:"example-steps"},[o("div",{class:"example-step"},[o("div",{class:"step-circle"},"1"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Создать отчет с FROM и колонками"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"js-keyword"},"const"),_(" reportId = "),o("span",{class:"mcp-function"},"integram_create_report"),_("({\n  "),o("span",{class:"mcp-key"},"name"),_(": "),o("span",{class:"mcp-string"},'"Клиенты с заказами"'),_(",\n  "),o("span",{class:"mcp-key"},"fromTables"),_(": [\n    { "),o("span",{class:"mcp-key"},"tableId"),_(": "),o("span",{class:"mcp-number"},"204210"),_(", "),o("span",{class:"mcp-key"},"alias"),_(": "),o("span",{class:"mcp-string"},'"c"'),_(" },\n    { "),o("span",{class:"mcp-key"},"tableId"),_(": "),o("span",{class:"mcp-number"},"204220"),_(", "),o("span",{class:"mcp-key"},"alias"),_(": "),o("span",{class:"mcp-string"},'"o"'),_(", "),o("span",{class:"mcp-key"},"joinOn"),_(": "),o("span",{class:"mcp-string"},'"o.client_id = c.id"'),_(" }\n  ],\n  "),o("span",{class:"mcp-key"},"columns"),_(": [\n    { "),o("span",{class:"mcp-key"},"field"),_(": "),o("span",{class:"mcp-number"},"204210"),_(", "),o("span",{class:"mcp-key"},"name"),_(": "),o("span",{class:"mcp-string"},'"Клиент"'),_(" },\n    { "),o("span",{class:"mcp-key"},"field"),_(": "),o("span",{class:"mcp-number"},"0"),_(", "),o("span",{class:"mcp-key"},"formula"),_(": "),o("span",{class:"mcp-string"},'"COUNT(o.id)"'),_(", "),o("span",{class:"mcp-key"},"name"),_(": "),o("span",{class:"mcp-string"},'"Заказов"'),_(" }\n  ],\n  "),o("span",{class:"mcp-key"},"where"),_(": "),o("span",{class:"mcp-string"},'"c.active = 1"'),_(",\n  "),o("span",{class:"mcp-key"},"orderBy"),_(": "),o("span",{class:"mcp-string"},'"c.name"'),_(",\n  "),o("span",{class:"mcp-key"},"limit"),_(": "),o("span",{class:"mcp-number"},"100"),_("\n})")])])])]),o("div",{class:"example-step"},[o("div",{class:"step-circle"},"2"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Добавить колонку в существующий отчет"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"mcp-function"},"integram_add_report_column"),_("({\n  "),o("span",{class:"mcp-key"},"reportId"),_(": "),o("span",{class:"mcp-number"},"12345"),_(",\n  "),o("span",{class:"mcp-key"},"fieldId"),_(": "),o("span",{class:"mcp-number"},"204214"),_(",\n  "),o("span",{class:"mcp-key"},"nameInReport"),_(": "),o("span",{class:"mcp-string"},'"Телефон"'),_(",\n  "),o("span",{class:"mcp-key"},"formula"),_(": "),o("span",{class:"mcp-string"},'"c.phone"'),_("\n})")])])])]),o("div",{class:"example-step"},[o("div",{class:"step-circle"},"3"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Клонировать отчет"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"mcp-function"},"integram_clone_report"),_("({\n  "),o("span",{class:"mcp-key"},"sourceReportId"),_(": "),o("span",{class:"mcp-number"},"12345"),_(",\n  "),o("span",{class:"mcp-key"},"newName"),_(": "),o("span",{class:"mcp-string"},'"Клиенты с заказами (копия)"'),_(",\n  "),o("span",{class:"mcp-key"},"setExecute"),_(": "),o("span",{class:"mcp-boolean"},"true"),_("\n})")])])])]),o("div",{class:"example-step"},[o("div",{class:"step-circle"},"4"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Получить структуру отчета"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"js-keyword"},"const"),_(" reportStructure = "),o("span",{class:"mcp-function"},"integram_get_report_structure"),_("({\n  "),o("span",{class:"mcp-key"},"reportId"),_(": "),o("span",{class:"mcp-number"},"12345"),_("\n})")])]),o("div",{class:"json-code-block"},[o("div",{class:"code-label"},"Возвращает:"),o("pre",{class:"json-code"},[o("span",{class:"mcp-comment"},"// FROM tables, columns, requisites")])])])])],-1)])]),_:1}),n(we,{header:"MCP: Lookup с reference"},{default:t(()=>[...e[53]||(e[53]=[o("div",{class:"example-steps"},[o("div",{class:"example-step"},[o("div",{class:"step-circle"},"1"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Создать справочник И добавить как колонку"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"mcp-function"},"integram_create_lookup_with_reference"),_("({\n  "),o("span",{class:"mcp-key"},"targetTableId"),_(": "),o("span",{class:"mcp-number"},"195629"),_(",        "),o("span",{class:"mcp-comment"},"// Таблица БоковоеМеню"),_("\n  "),o("span",{class:"mcp-key"},"lookupTableName"),_(": "),o("span",{class:"mcp-string"},'"Статусы меню"'),_(",\n  "),o("span",{class:"mcp-key"},"values"),_(": ["),o("span",{class:"mcp-string"},'"Активный"'),_(", "),o("span",{class:"mcp-string"},'"Скрытый"'),_(", "),o("span",{class:"mcp-string"},'"Удален"'),_("],\n  "),o("span",{class:"mcp-key"},"columnAlias"),_(": "),o("span",{class:"mcp-string"},'"Статус"'),_(",\n  "),o("span",{class:"mcp-key"},"multiSelect"),_(": "),o("span",{class:"mcp-boolean"},"false"),_("\n})")])])])]),o("div",{class:"example-step"},[o("div",{class:"step-circle"},"2"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Или создать lookup отдельно"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"js-keyword"},"const"),_(" lookupId = "),o("span",{class:"mcp-function"},"integram_create_lookup_table"),_("({\n  "),o("span",{class:"mcp-key"},"tableName"),_(": "),o("span",{class:"mcp-string"},'"Приоритеты"'),_(",\n  "),o("span",{class:"mcp-key"},"values"),_(": ["),o("span",{class:"mcp-string"},'"Низкий"'),_(", "),o("span",{class:"mcp-string"},'"Средний"'),_(", "),o("span",{class:"mcp-string"},'"Высокий"'),_(", "),o("span",{class:"mcp-string"},'"Критический"'),_("],\n  "),o("span",{class:"mcp-key"},"unique"),_(": "),o("span",{class:"mcp-boolean"},"true"),_("\n})")])])])]),o("div",{class:"example-step"},[o("div",{class:"step-circle"},"3"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Затем добавить как reference колонку"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"mcp-function"},"integram_add_reference_column"),_("({\n  "),o("span",{class:"mcp-key"},"typeId"),_(": "),o("span",{class:"mcp-number"},"195629"),_(",\n  "),o("span",{class:"mcp-key"},"referenceTableId"),_(": lookupId,\n  "),o("span",{class:"mcp-key"},"alias"),_(": "),o("span",{class:"mcp-string"},'"Приоритет"'),_(",\n  "),o("span",{class:"mcp-key"},"multiSelect"),_(": "),o("span",{class:"mcp-boolean"},"false"),_(",\n  "),o("span",{class:"mcp-key"},"allowNull"),_(": "),o("span",{class:"mcp-boolean"},"true"),_("\n})")])])])])],-1)])]),_:1}),n(we,{header:"MCP: Работа с метаданными"},{default:t(()=>[...e[54]||(e[54]=[o("div",{class:"example-steps"},[o("div",{class:"example-step"},[o("div",{class:"step-circle"},"1"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Получить метаданные всех типов сразу"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"js-keyword"},"const"),_(" allTypes = "),o("span",{class:"mcp-function"},"integram_get_all_types_metadata"),_("()")])])])]),o("div",{class:"example-step"},[o("div",{class:"step-circle"},"2"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Подсчитать объекты без загрузки данных"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"js-keyword"},"const"),_(" count = "),o("span",{class:"mcp-function"},"integram_get_object_count"),_("({ "),o("span",{class:"mcp-key"},"typeId"),_(": "),o("span",{class:"mcp-number"},"195629"),_(" })")])]),o("div",{class:"json-code-block"},[o("div",{class:"code-label"},"Ответ:"),o("pre",{class:"json-code"},[_("{ "),o("span",{class:"json-key"},'"count"'),_(": "),o("span",{class:"json-number"},"42"),_(" }")])])])]),o("div",{class:"example-step"},[o("div",{class:"step-circle"},"3"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Получить метаданные объекта"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"js-keyword"},"const"),_(" objMeta = "),o("span",{class:"mcp-function"},"integram_get_object_meta"),_("({\n  "),o("span",{class:"mcp-key"},"objectId"),_(": "),o("span",{class:"mcp-number"},"197070"),_("\n})")])]),o("div",{class:"json-code-block"},[o("div",{class:"code-label"},"Ответ:"),o("pre",{class:"json-code"},[_("{\n  "),o("span",{class:"json-key"},'"type"'),_(": "),o("span",{class:"json-number"},"195629"),_(",\n  "),o("span",{class:"json-key"},'"parent"'),_(": "),o("span",{class:"json-number"},"1"),_(",\n  "),o("span",{class:"json-key"},'"created"'),_(": "),o("span",{class:"json-string"},'"..."'),_(",\n  "),o("span",{class:"json-key"},'"modified"'),_(": "),o("span",{class:"json-string"},'"..."'),_("\n}")])])])]),o("div",{class:"example-step"},[o("div",{class:"step-circle"},"4"),o("div",{class:"step-content"},[o("div",{class:"step-title"},"Получить компактную схему для AI"),o("div",{class:"mcp-code-block"},[o("div",{class:"code-label"},"MCP Tool:"),o("pre",{class:"mcp-code"},[o("span",{class:"js-keyword"},"const"),_(" schema = "),o("span",{class:"mcp-function"},"integram_get_schema"),_("({\n  "),o("span",{class:"mcp-key"},"filter"),_(": "),o("span",{class:"mcp-string"},'"Меню"'),_(",\n  "),o("span",{class:"mcp-key"},"includeSystemTables"),_(": "),o("span",{class:"mcp-boolean"},"false"),_("\n})")])]),o("div",{class:"json-code-block"},[o("div",{class:"code-label"},"Формат:"),o("pre",{class:"json-code"},[_("[\n  {\n    "),o("span",{class:"json-key"},'"id"'),_(": "),o("span",{class:"json-number"},"195629"),_(",\n    "),o("span",{class:"json-key"},'"name"'),_(": "),o("span",{class:"json-string"},'"БоковоеМеню"'),_(",\n    "),o("span",{class:"json-key"},'"fields"'),_(": [\n      { "),o("span",{class:"json-key"},'"id"'),_(": "),o("span",{class:"json-number"},"195630"),_(", "),o("span",{class:"json-key"},'"name"'),_(": "),o("span",{class:"json-string"},'"path"'),_(", "),o("span",{class:"json-key"},'"type"'),_(": "),o("span",{class:"json-string"},'"SHORT"'),_(", "),o("span",{class:"json-key"},'"ref"'),_(": "),o("span",{class:"json-null"},"null"),_(" }\n    ]\n  }\n]")])])])])],-1)])]),_:1})]),_:1})],512),[[k,ye.value.examples]])]),o("div",Us,[o("div",{class:"section-header",onClick:e[9]||(e[9]=s=>ye.value.playground=!ye.value.playground)},[e[55]||(e[55]=o("h3",{class:"section-title"},"Playground",-1)),o("i",{class:b([ye.value.playground?"pi pi-chevron-down":"pi pi-chevron-right","section-chevron"])},null,2)]),m(o("div",Ss,[o("div",Ns,[o("div",Ms,[o("div",Ps,[o("div",Vs,[e[56]||(e[56]=o("label",{class:"block mb-2"},"Метод",-1)),n(Ge,{modelValue:he.value.method,"onUpdate:modelValue":e[10]||(e[10]=s=>he.value.method=s),options:[{label:"GET",value:"GET"},{label:"POST",value:"POST"}],optionLabel:"label",optionValue:"value"},null,8,["modelValue"])]),o("div",As,[e[57]||(e[57]=o("label",{class:"block mb-2"},"Endpoint",-1)),o("div",Es,[o("span",Js,"/"+g(ge.value||"db")+"/",1),n(fe,{modelValue:he.value.endpoint,"onUpdate:modelValue":e[11]||(e[11]=s=>he.value.endpoint=s),placeholder:"dict"},null,8,["modelValue"])])]),"POST"===he.value.method?(d(),c("div",Bs,[e[59]||(e[59]=o("label",{class:"block mb-2 font-semibold"},"Параметры запроса",-1)),o("div",Ks,[e[58]||(e[58]=o("div",{class:"params-header"},[o("div",{class:"param-col-checkbox"}),o("div",{class:"param-col-key"},"KEY"),o("div",{class:"param-col-value"},"VALUE"),o("div",{class:"param-col-actions"})],-1)),o("div",zs,[(d(!0),c(u,null,v(he.value.params,(s,e)=>(d(),c("div",{key:e,class:b(["param-row",{"param-disabled":!s.enabled}])},[o("div",Gs,[n(Fe,{modelValue:s.enabled,"onUpdate:modelValue":e=>s.enabled=e,binary:!0,onChange:s=>function(s){he.value.params[s].enabled=!he.value.params[s].enabled}(e)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),o("div",Fs,[n(fe,{modelValue:s.key,"onUpdate:modelValue":e=>s.key=e,placeholder:"key",disabled:!s.enabled,class:"param-input"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),o("div",Hs,[n(fe,{modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,placeholder:"value",disabled:!s.enabled,class:"param-input"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),o("div",Qs,[m(n(h,{icon:"pi pi-trash",size:"small",text:"",severity:"danger",onClick:s=>function(s){he.value.params.length>1&&he.value.params.splice(s,1)}(e),disabled:1===he.value.params.length,class:"p-0"},null,8,["onClick","disabled"]),[[$e,"Удалить",void 0,{top:!0}]])])],2))),128))]),o("div",$s,[n(h,{label:"Добавить параметр",icon:"pi pi-plus",size:"small",text:"",onClick:Je})])])])):r("",!0),o("div",Xs,[n(h,{label:"Выполнить",icon:"pi pi-play",onClick:Ae,loading:je.value,disabled:!be.value,class:"flex-1"},null,8,["loading","disabled"]),m(n(h,{icon:"pi pi-refresh",outlined:"",onClick:Ee},null,512),[[$e,"Очистить",void 0,{top:!0}]])]),be.value?r("",!0):(d(),c("small",Ys," Требуется авторизация "))])]),o("div",Ws,[o("div",Zs,[e[61]||(e[61]=o("label",{class:"block mb-2 font-semibold"},"Ответ",-1)),o("div",se,[Ie.value?(d(),c("div",ee,[o("div",ae,[Ie.value.status<400?(d(),c("i",le)):(d(),c("i",ce)),o("span",ne,"Status "+g(Ie.value.status),1)]),o("div",te,[n(l,{value:`${Ie.value.time}ms`,severity:"secondary",size:"small"},null,8,["value"]),m(n(h,{icon:"pi pi-copy",size:"small",text:"",severity:"secondary",onClick:ze,class:"p-0"},null,512),[[$e,"Копировать",void 0,{top:!0}]])])])):r("",!0),Ie.value?(d(),c("div",pe,[o("pre",ie,g(Be(Ie.value.data)),1)])):(d(),c("div",de,[...e[60]||(e[60]=[o("i",{class:"pi pi-inbox"},null,-1),o("p",null,"Выполните запрос",-1),o("small",{class:"text-xs text-color-secondary"},"Ответ появится здесь",-1)])]))])])])])],512),[[k,ye.value.playground]])])]),_:1}),n(Qe)])}}},[["__scopeId","data-v-a1a8abfd"]]);export{oe as default};
