<template>
  <footer class="bg-white dark:bg-surface-900 border-t border-gray-200 dark:border-surface-700 py-8 px-4 lg:px-8">
    <div class="max-w-7xl mx-auto">
      <!-- Юридические документы и ссылки -->
      <div class="max-w-4xl mx-auto">
        <div class="flex flex-wrap justify-center gap-4 text-sm">
          <a
            href="#"
            @click.prevent="showModal('company-details')"
            class="text-primary hover:text-primary-600 underline transition-colors"
          >
            Реквизиты компании
          </a>
          <a
            href="#"
            @click.prevent="showModal('offer')"
            class="text-primary hover:text-primary-600 underline transition-colors"
          >
            Публичная оферта
          </a>
          <a
            href="#"
            @click.prevent="showModal('privacy')"
            class="text-primary hover:text-primary-600 underline transition-colors"
          >
            Политика конфиденциальности
          </a>
          <a
            href="#"
            @click.prevent="showModal('personal-data')"
            class="text-primary hover:text-primary-600 underline transition-colors"
          >
            Согласие на обработку персональных данных
          </a>
        </div>
      </div>
    </div>

    <!-- Модальное окно для отображения юридических документов -->
    <Dialog v-model:visible="modalVisible" :header="modalTitle" :modal="true" :style="{ width: '50rem' }" :breakpoints="{ '1199px': '75vw', '575px': '90vw' }">
      <div class="text-gray-700 dark:text-gray-300 space-y-4 max-h-96 overflow-y-auto" v-html="modalContent"></div>
    </Dialog>
  </footer>
</template>

<script setup lang="ts">
import { ref } from 'vue'

const modalVisible = ref(false)
const modalTitle = ref('')
const modalContent = ref('')

const showModal = (type: string) => {
  modalVisible.value = true

  switch (type) {
    case 'company-details':
      modalTitle.value = 'Реквизиты компании'
      modalContent.value = `
        <div class="space-y-4">
          <div>
            <p class="mb-4">
              <span class="font-semibold">ИП Гаврилов Денис Александрович</span>
            </p>
            <p class="text-gray-600 dark:text-gray-400">
              ИНН: 183505204090
            </p>
            <p class="text-gray-600 dark:text-gray-400">
              ОГРНИП: 310184117500010
            </p>
          </div>

          <div class="pt-4 border-t border-gray-200 dark:border-gray-700">
            <h4 class="font-semibold mb-3">Способы оплаты</h4>
            <p class="mb-3">
              Принимаем к оплате карты платёжных систем <strong>VISA</strong>, <strong>MasterCard</strong>, <strong>МИР</strong>, а также оплату через <strong>СБП</strong> (Систему быстрых платежей).
            </p>
            <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">
              Чтобы оплатить тариф банковской картой, выберите этот способ оплаты при оформлении подписки. Далее перейдите на платёжную страницу банка и введите данные вашей банковской карты: номер, срок действия, трёхзначный CVC2/CVV2 код (указан на оборотной стороне). Если ваша карта подключена к услуге 3D-Secure, вы будете автоматически переадресованы на страницу банка для аутентификации.
            </p>
            <p class="text-sm text-gray-600 dark:text-gray-400">
              Интернет-платежи обрабатываются через безопасный шлюз банка согласно международному сертификату безопасности PCI DSS. Информация шифруется по технологии SSL и недоступна посторонним лицам.
            </p>
          </div>

          <div class="pt-4 border-t border-gray-200 dark:border-gray-700">
            <h4 class="font-semibold mb-3">Политика возврата</h4>
            <div class="text-sm text-gray-600 dark:text-gray-400 space-y-2">
              <p>
                По закону «О защите прав потребителей» вы можете расторгнуть договор об оказании услуги в любое время. При этом часть услуг, которые уже были оказаны, нужно оплатить.
              </p>
              <p>
                Если вам не нравится качество обслуживания, мы бесплатно устраним недостатки или уменьшим цену услуги.
              </p>
              <p>
                О недостатках оказанной услуги можно сообщить в течение срока гарантии, а если он не установлен, то в течение двух лет.
              </p>
              <p>
                При оплате банковской картой деньги вернутся на ту карту, с которой был сделан платёж. Срок возврата — от 1 до 30 рабочих дней.
              </p>
            </div>
          </div>
        </div>
      `
      break

    case 'offer':
      modalTitle.value = 'Публичная оферта'
      modalContent.value = `
        <h3 class="font-semibold mb-2">1. Общие положения</h3>
        <p class="mb-4">
          Настоящая публичная оферта (далее — «Оферта») является официальным предложением ИП Гаврилова Дениса Александровича (далее — «Исполнитель») заключить договор оказания услуг (далее — «Договор») на условиях, изложенных ниже.
        </p>

        <h3 class="font-semibold mb-2">2. Предмет договора</h3>
        <p class="mb-4">
          Исполнитель обязуется оказать Заказчику услуги по предоставлению доступа к программному обеспечению ДронДок согласно выбранному тарифному плану, а Заказчик обязуется принять и оплатить эти услуги.
        </p>

        <h3 class="font-semibold mb-2">3. Стоимость и порядок оплаты</h3>
        <p class="mb-4">
          Стоимость услуг определяется в соответствии с тарифными планами, размещёнными на сайте. Оплата производится путём безналичного перевода денежных средств банковской картой или через СБП.
        </p>

        <h3 class="font-semibold mb-2">4. Права и обязанности сторон</h3>
        <p class="mb-4">
          Исполнитель обязуется предоставить доступ к услугам в течение 24 часов после поступления оплаты. Заказчик обязуется использовать услуги в соответствии с законодательством РФ и не передавать доступ третьим лицам.
        </p>

        <h3 class="font-semibold mb-2">5. Ответственность сторон</h3>
        <p class="mb-4">
          За неисполнение или ненадлежащее исполнение обязательств по настоящему Договору стороны несут ответственность в соответствии с законодательством РФ.
        </p>

        <h3 class="font-semibold mb-2">6. Порядок расторжения договора</h3>
        <p class="mb-4">
          Заказчик вправе расторгнуть договор в любое время, направив соответствующее уведомление Исполнителю. При этом оплаченный период услуг не возвращается.
        </p>
      `
      break

    case 'privacy':
      modalTitle.value = 'Политика конфиденциальности'
      modalContent.value = `
        <h3 class="font-semibold mb-2">1. Общие положения</h3>
        <p class="mb-4">
          Настоящая Политика конфиденциальности определяет порядок обработки и защиты персональных данных пользователей сервиса ДронДок.
        </p>

        <h3 class="font-semibold mb-2">2. Собираемые данные</h3>
        <p class="mb-4">
          Мы собираем следующие данные: ФИО, адрес электронной почты, номер телефона, данные о платежах, IP-адрес, информацию об устройстве и браузере, данные о действиях на сайте (cookies).
        </p>

        <h3 class="font-semibold mb-2">3. Цели обработки данных</h3>
        <p class="mb-4">
          Персональные данные используются для: предоставления доступа к сервису, обработки платежей, улучшения качества услуг, информирования о новых возможностях, выполнения требований законодательства.
        </p>

        <h3 class="font-semibold mb-2">4. Защита данных</h3>
        <p class="mb-4">
          Мы применяем технические и организационные меры для защиты персональных данных от несанкционированного доступа, изменения, раскрытия или уничтожения. Все данные передаются в зашифрованном виде по протоколу SSL/TLS.
        </p>

        <h3 class="font-semibold mb-2">5. Передача данных третьим лицам</h3>
        <p class="mb-4">
          Мы не передаём ваши персональные данные третьим лицам, за исключением случаев, необходимых для обработки платежей (банки, платёжные системы) или по требованию закона.
        </p>

        <h3 class="font-semibold mb-2">6. Права пользователя</h3>
        <p class="mb-4">
          Вы имеете право на доступ к своим персональным данным, их исправление, удаление или ограничение обработки. Для реализации этих прав свяжитесь с нами по электронной почте.
        </p>

        <h3 class="font-semibold mb-2">7. Файлы cookies</h3>
        <p class="mb-4">
          Наш сайт использует файлы cookies для улучшения работы сервиса и анализа посещаемости. Вы можете отключить cookies в настройках браузера, но это может ограничить функциональность сайта.
        </p>
      `
      break

    case 'personal-data':
      modalTitle.value = 'Согласие на обработку персональных данных'
      modalContent.value = `
        <p class="mb-4">
          Регистрируясь на сайте и используя сервис ДронДок, вы даёте согласие ИП Гаврилову Денису Александровичу (ИНН 183505204090, ОГРНИП 310184117500010) на обработку своих персональных данных на следующих условиях:
        </p>

        <h3 class="font-semibold mb-2">1. Перечень персональных данных</h3>
        <p class="mb-4">
          Обработке подлежат следующие персональные данные: фамилия, имя, отчество, адрес электронной почты, номер телефона, данные о платежах, IP-адрес, информация об устройстве и браузере, данные о действиях на сайте.
        </p>

        <h3 class="font-semibold mb-2">2. Цели обработки</h3>
        <p class="mb-4">
          Персональные данные обрабатываются в целях предоставления доступа к сервису, обработки платежей, технической поддержки, информирования о новых возможностях, улучшения качества услуг.
        </p>

        <h3 class="font-semibold mb-2">3. Способы обработки</h3>
        <p class="mb-4">
          Обработка персональных данных осуществляется с использованием средств автоматизации и без использования средств автоматизации.
        </p>

        <h3 class="font-semibold mb-2">4. Срок действия согласия</h3>
        <p class="mb-4">
          Настоящее согласие действует с момента его предоставления до момента его отзыва. Согласие может быть отозвано путём направления письменного заявления на адрес электронной почты Исполнителя.
        </p>

        <h3 class="font-semibold mb-2">5. Права субъекта персональных данных</h3>
        <p class="mb-4">
          Вы имеете право на доступ к своим персональным данным, их исправление, удаление, ограничение обработки, а также право на отзыв согласия на обработку персональных данных.
        </p>

        <p class="mt-4 text-sm text-gray-600 dark:text-gray-400">
          Обработка персональных данных осуществляется в соответствии с Федеральным законом от 27.07.2006 № 152-ФЗ «О персональных данных».
        </p>
      `
      break
  }
}
</script>

<style scoped>
footer {
  background: linear-gradient(180deg, var(--surface-0) 0%, var(--surface-50) 100%);
}
</style>
